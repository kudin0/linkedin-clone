/*! For license information please see main.440da7d8.js.LICENSE.txt */
!function(){var e={3602:function(e,t,n){"use strict";n.d(t,{Z:function(){return xr}});var r=n(7462),i=n(5987),o=n(2791),a=n(2110),s=n.n(a),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="object"===("undefined"===typeof window?"undefined":u(window))&&"object"===("undefined"===typeof document?"undefined":u(document))&&9===document.nodeType;function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=n(3366),g={}.constructor;function m(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(m);if(e.constructor!==g)return e;var t={};for(var n in e)t[n]=m(e[n]);return t}function y(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=m(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var _=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},b=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=_(e[n]," ");else t=_(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function w(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function S(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function E(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=w(n),u=s.linebreak,c=s.space;if(e&&o++,a)if(Array.isArray(a))for(var l=0;l<a.length;l++){var f=a[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=u),r+=S(h+":"+c+b(d)+";",o))}}else for(var p in a){var v=a[p];null!=v&&(r&&(r+=u),r+=S(p+":"+c+b(v)+";",o))}for(var g in t){var m=t[g];null!=m&&"fallbacks"!==g&&(r&&(r+=u),r+=S(g+":"+c+b(m)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),S(""+e+c+"{"+r,--o)+S("}",o)):r}var I=/([[\].#*$><+~=|^:(),"'`\s])/g,T="undefined"!==typeof CSS&&CSS.escape,k=function(e){return T?T(e):e.replace(I,"\\$1")},C=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),x=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,s=r.sheet,u=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=u(p(p(i)),s),i.selectorText="."+k(i.id)),i}d(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=b(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,r.Z)({},e,{allowEmpty:!0}):e;return E(this.selectorText,this.style,n)},f(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(C),N={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new x(e,t,n)}},A={indent:1,children:!0},P=/@([\w-]+)/,O=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(P);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ne((0,r.Z)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=A);var t=w(e).linebreak;if(null==e.indent&&(e.indent=A.indent),null==e.children&&(e.children=A.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),R=/@media|@supports\s+/,D={onCreateRule:function(e,t,n){return R.test(e)?new O(e,t,n):null}},M={indent:1,children:!0},L=/@keyframes\s+([\w-]+)/,F=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(L);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:k(s(this,a)),this.rules=new ne((0,r.Z)({},n,{parent:this})),t)this.rules.add(u,t[u],(0,r.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=M);var t=w(e).linebreak;if(null==e.indent&&(e.indent=M.indent),null==e.children&&(e.children=M.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),j=/@keyframes\s+/,U=/\$([\w-]+)/g,V=function(e,t){return"string"===typeof e?e.replace(U,(function(e,n){return n in t?t[n]:e})):e},q=function(e,t,n){var r=e[t],i=V(r,n);i!==r&&(e[t]=i)},B={onCreateRule:function(e,t,n){return"string"===typeof e&&j.test(e)?new F(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&q(e,"animation-name",n.keyframes),"animation"in e&&q(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return V(e,r.keyframes);default:return e}}},z=function(e){function t(){return e.apply(this,arguments)||this}return d(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,r.Z)({},e,{allowEmpty:!0}):e;return E(this.key,this.style,n)},t}(C),K={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new z(e,t,n):null}},W=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=w(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=E(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return E(this.at,this.style,e)},e}(),H=/@font-face/,G={onCreateRule:function(e,t,n){return H.test(e)?new W(e,t,n):null}},Q=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return E(this.key,this.style,e)},e}(),$={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Q(e,t,n):null}},Y=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),X={"@charset":!0,"@import":!0,"@namespace":!0},Z={onCreateRule:function(e,t,n){return e in X?new Y(e,t,n):null}},J=[N,D,B,K,G,$,Z],ee={process:!0},te={force:!0,process:!0},ne=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,f=(0,r.Z)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+k(this.classes[h]));var d=y(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var i=this.get(e),o=this.index.indexOf(i);i&&this.remove(i);var a=n;return-1!==o&&(a=(0,r.Z)({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof x?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof F&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof x?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof F&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=ee);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var u in o.onProcessStyle(t.style,t,a),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,te)}for(var l in s){var f=t.style[l],h=s[l];null==f&&f!==h&&t.prop(l,null,te)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=w(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),re=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,r.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new ne(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ie=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),oe=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,v.Z)(t,["attached"]),i=w(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},f(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ae=new oe,se="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ue="2f1acc6c3a606b082e5eef5e54414ffb";null==se[ue]&&(se[ue]=0);var ce=se[ue]++,le=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+ce+i+t:o+n.key+"-"+ce+(i?"-"+i:"")+"-"+t}},fe=function(e){var t;return function(){return t||(t=e()),t}},he=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},de=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=b(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,o=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,o,i>-1?"important":"")}}catch(a){return!1}return!0},pe=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},ve=function(e,t){return e.selectorText=t,e.selectorText===t},ge=fe((function(){return document.querySelector("head")}));function me(e){var t=ae.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=ge(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var ye=fe((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),_e=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},be=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},we=function(){function e(e){this.getPropertyValue=he,this.setProperty=de,this.removeProperty=pe,this.setSelector=ve,this.hasInsertedRules=!1,this.cssRules=[],e&&ae.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=ye();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=me(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else ge().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=be(n,t);if(!1===(i=_e(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=be(n,t),u=_e(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof re&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Se=0,Ee=function(){function e(e){this.id=Se++,this.version="10.9.2",this.plugins=new ie,this.options={id:{minify:!1},createGenerateId:le,Renderer:c?we:null,plugins:[]},this.generateId=le({minify:!1});for(var t=0;t<J.length;t++)this.plugins.use(J[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,r.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ae.index?0:ae.index+1);var i=new re(e,(0,r.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),ae.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=(0,r.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=y(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Ie=function(e){return new Ee(e)},Te="object"===typeof CSS&&null!=CSS&&"number"in CSS;function ke(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=ke(r);o&&(t||(t={}),t[n]=o)}}return t}Ie();function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}var xe={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Ne=xe;var Ae=o.createContext(null);function Pe(){return o.useContext(Ae)}var Oe="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Re=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var De=Date.now(),Me="fnValues"+De,Le="fnStyle"+ ++De,Fe=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=y(e,{},n);return r[Le]=t,r},onProcessStyle:function(e,t){if(Me in t||Le in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Me]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[Le];o&&(i.style=o(e)||{});var a=i[Me];if(a)for(var s in a)i.prop(s,a[s](e),r)}}},je="@global",Ue="@global ",Ve=function(){function e(e,t,n){for(var i in this.type="global",this.at=je,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new ne((0,r.Z)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),qe=function(){function e(e,t,n){this.type="global",this.at=je,this.isProcessed=!1,this.key=e,this.options=n;var i=e.substr(Ue.length);this.rule=n.jss.createRule(i,t,(0,r.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Be=/\s*,\s*/g;function ze(e,t){for(var n=e.split(Be),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Ke=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===je)return new Ve(e,t,n);if("@"===e[0]&&e.substr(0,Ue.length)===Ue)return new qe(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,o=i?i[je]:null;if(o){for(var a in o)t.addRule(a,o[a],(0,r.Z)({},n,{selector:ze(a,e.selector)}));delete i[je]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var o in i)if("@"===o[0]&&o.substr(0,je.length)===je){var a=ze(o.substr(je.length),e.selector);t.addRule(a,i[o],(0,r.Z)({},n,{selector:a})),delete i[o]}}(e,t))}}},We=/\s*,\s*/g,He=/&/g,Ge=/\$([\w-]+)/g;var Qe=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(We),r=e.split(We),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(He,a):a+" "+u}return i}function n(e,t,n){if(n)return(0,r.Z)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var o=(0,r.Z)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(i,o,a){if("style"!==o.type)return i;var s,u,c=o,l=c.options.parent;for(var f in i){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(s=n(c,l,s),h){var p=t(f,c.selector);u||(u=e(l,a)),p=p.replace(Ge,u);var v=c.key+"-"+f;"replaceRule"in l?l.replaceRule(v,i[f],(0,r.Z)({},s,{selector:p})):l.addRule(v,i[f],(0,r.Z)({},s,{selector:p}))}else d&&l.addRule(f,{},s).addRule(c.key,i[f],{selector:c.selector});delete i[f]}}return i}}},$e=/[A-Z]/g,Ye=/^ms-/,Xe={};function Ze(e){return"-"+e.toLowerCase()}var Je=function(e){if(Xe.hasOwnProperty(e))return Xe[e];var t=e.replace($e,Ze);return Xe[e]=Ye.test(t)?"-"+t:t};function et(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Je(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(et):t.fallbacks=et(e.fallbacks)),t}var tt=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=et(e[t]);return e}return et(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Je(t);return t===r?e:(n.prop(r,e),null)}}},nt=Te&&CSS?CSS.px:"px",rt=Te&&CSS?CSS.ms:"ms",it=Te&&CSS?CSS.percent:"%";function ot(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var at=ot({"animation-delay":rt,"animation-duration":rt,"background-position":nt,"background-position-x":nt,"background-position-y":nt,"background-size":nt,border:nt,"border-bottom":nt,"border-bottom-left-radius":nt,"border-bottom-right-radius":nt,"border-bottom-width":nt,"border-left":nt,"border-left-width":nt,"border-radius":nt,"border-right":nt,"border-right-width":nt,"border-top":nt,"border-top-left-radius":nt,"border-top-right-radius":nt,"border-top-width":nt,"border-width":nt,"border-block":nt,"border-block-end":nt,"border-block-end-width":nt,"border-block-start":nt,"border-block-start-width":nt,"border-block-width":nt,"border-inline":nt,"border-inline-end":nt,"border-inline-end-width":nt,"border-inline-start":nt,"border-inline-start-width":nt,"border-inline-width":nt,"border-start-start-radius":nt,"border-start-end-radius":nt,"border-end-start-radius":nt,"border-end-end-radius":nt,margin:nt,"margin-bottom":nt,"margin-left":nt,"margin-right":nt,"margin-top":nt,"margin-block":nt,"margin-block-end":nt,"margin-block-start":nt,"margin-inline":nt,"margin-inline-end":nt,"margin-inline-start":nt,padding:nt,"padding-bottom":nt,"padding-left":nt,"padding-right":nt,"padding-top":nt,"padding-block":nt,"padding-block-end":nt,"padding-block-start":nt,"padding-inline":nt,"padding-inline-end":nt,"padding-inline-start":nt,"mask-position-x":nt,"mask-position-y":nt,"mask-size":nt,height:nt,width:nt,"min-height":nt,"max-height":nt,"min-width":nt,"max-width":nt,bottom:nt,left:nt,top:nt,right:nt,inset:nt,"inset-block":nt,"inset-block-end":nt,"inset-block-start":nt,"inset-inline":nt,"inset-inline-end":nt,"inset-inline-start":nt,"box-shadow":nt,"text-shadow":nt,"column-gap":nt,"column-rule":nt,"column-rule-width":nt,"column-width":nt,"font-size":nt,"font-size-delta":nt,"letter-spacing":nt,"text-decoration-thickness":nt,"text-indent":nt,"text-stroke":nt,"text-stroke-width":nt,"word-spacing":nt,motion:nt,"motion-offset":nt,outline:nt,"outline-offset":nt,"outline-width":nt,perspective:nt,"perspective-origin-x":it,"perspective-origin-y":it,"transform-origin":it,"transform-origin-x":it,"transform-origin-y":it,"transform-origin-z":it,"transition-delay":rt,"transition-duration":rt,"vertical-align":nt,"flex-basis":nt,"shape-margin":nt,size:nt,gap:nt,grid:nt,"grid-gap":nt,"row-gap":nt,"grid-row-gap":nt,"grid-column-gap":nt,"grid-template-rows":nt,"grid-template-columns":nt,"grid-auto-rows":nt,"grid-auto-columns":nt,"box-shadow-x":nt,"box-shadow-y":nt,"box-shadow-blur":nt,"box-shadow-spread":nt,"font-line-height":nt,"text-shadow-x":nt,"text-shadow-y":nt,"text-shadow-blur":nt});function st(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=st(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=st(i,t[i],n);else for(var o in t)t[o]=st(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var a=n[e]||at[e];return!a||0===t&&a===nt?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}var ut=function(e){void 0===e&&(e={});var t=ot(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=st(r,e[r],t);return e},onChangeValue:function(e,n){return st(n,e,t)}}},ct=n(907);var lt=n(181);function ft(e){return function(e){if(Array.isArray(e))return(0,ct.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,lt.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ht="",dt="",pt="",vt="",gt=c&&"ontouchstart"in document.documentElement;if(c){var mt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},yt=document.createElement("p").style;for(var _t in mt)if(_t+"Transform"in yt){ht=_t,dt=mt[_t];break}"Webkit"===ht&&"msHyphens"in yt&&(ht="ms",dt=mt.ms,vt="edge"),"Webkit"===ht&&"-apple-trailing-word"in yt&&(pt="apple")}var bt=ht,wt=dt,St=pt,Et=vt,It=gt;var Tt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===bt?"-webkit-"+e:wt+e)}},kt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===bt?wt+"print-"+e:e)}},Ct=/[-\s]+(.)?/g;function xt(e,t){return t?t.toUpperCase():""}function Nt(e){return e.replace(Ct,xt)}function At(e){return Nt("-"+e)}var Pt,Ot={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===bt){var n="mask-image";if(Nt(n)in t)return e;if(bt+At(n)in t)return wt+e}return e}},Rt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==St||It?e:wt+e)}},Dt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:wt+e)}},Mt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:wt+e)}},Lt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===bt||"ms"===bt&&"edge"!==Et?wt+e:e)}},Ft={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===bt||"ms"===bt||"apple"===St?wt+e:e)}},jt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===bt?"WebkitColumn"+At(e)in t&&wt+"column-"+e:"Moz"===bt&&("page"+At(e)in t&&"page-"+e))}},Ut={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===bt)return e;var n=e.replace("-inline","");return bt+At(n)in t&&wt+n}},Vt={supportedProperty:function(e,t){return Nt(e)in t&&e}},qt={supportedProperty:function(e,t){var n=At(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:bt+n in t?wt+e:"Webkit"!==bt&&"Webkit"+n in t&&"-webkit-"+e}},Bt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===bt?""+wt+e:e)}},zt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===bt?wt+"scroll-chaining":e)}},Kt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Wt={supportedProperty:function(e,t){var n=Kt[e];return!!n&&(bt+At(n)in t&&wt+n)}},Ht={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Gt=Object.keys(Ht),Qt=function(e){return wt+e},$t={supportedProperty:function(e,t,n){var r=n.multiple;if(Gt.indexOf(e)>-1){var i=Ht[e];if(!Array.isArray(i))return bt+At(i)in t&&wt+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(bt+At(i[0])in t))return!1;return i.map(Qt)}return!1}},Yt=[Tt,kt,Ot,Rt,Dt,Mt,Lt,Ft,jt,Ut,Vt,qt,Bt,zt,Wt,$t],Xt=Yt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Zt=Yt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,ft(t.noPrefill)),e}),[]),Jt={};if(c){Pt=document.createElement("p");var en=window.getComputedStyle(document.documentElement,"");for(var tn in en)isNaN(tn)||(Jt[en[tn]]=en[tn]);Zt.forEach((function(e){return delete Jt[e]}))}function nn(e,t){if(void 0===t&&(t={}),!Pt)return e;if(null!=Jt[e])return Jt[e];"transition"!==e&&"transform"!==e||(t[e]=e in Pt.style);for(var n=0;n<Xt.length&&(Jt[e]=Xt[n](e,Pt.style,t),!Jt[e]);n++);try{Pt.style[e]=""}catch(r){return!1}return Jt[e]}var rn,on={},an={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},sn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function un(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?nn(t):", "+nn(n);return r||(t||n)}function cn(e,t){var n=t;if(!rn||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=on[r])return on[r];try{rn.style[e]=n}catch(i){return on[r]=!1,!1}if(an[e])n=n.replace(sn,un);else if(""===rn.style[e]&&("-ms-flex"===(n=wt+n)&&(rn.style[e]="-ms-flexbox"),rn.style[e]=n,""===rn.style[e]))return on[r]=!1,!1;return rn.style[e]="",on[r]=n,on[r]}c&&(rn=document.createElement("p"));var ln=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=nn(n);o&&o!==n&&(i=!0);var a=!1,s=cn(o,b(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===bt?e:"@"+wt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return cn(t,b(e))||e}}};var fn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};var hn=Ie({plugins:[Fe(),Ke(),Qe(),tt(),ut(),"undefined"===typeof window?null:ln(),fn()]}),dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Re.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Oe]&&""===a?"".concat(o,"-").concat(c()):o}return"".concat(s).concat(i).concat(c())}}(),pn={disableGeneration:!1,generateClassName:dn,jss:hn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},vn=o.createContext(pn);var gn=-1e9;function mn(){return gn+=1}function yn(e){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(e)}function _n(e){return e&&"object"===yn(e)&&e.constructor===Object}function bn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return _n(e)&&_n(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(_n(t[r])&&r in e?i[r]=bn(e[r],t[r],n):i[r]=t[r])})),i}function wn(e){var t="function"===typeof e;return{create:function(n,i){var o;try{o=t?e(n):e}catch(u){throw u}if(!i||!n.overrides||!n.overrides[i])return o;var a=n.overrides[i],s=(0,r.Z)({},o);return Object.keys(a).forEach((function(e){s[e]=bn(s[e],a[e])})),s},options:{}}}var Sn={};function En(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Ce({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function In(e,t){var n=e.state,i=e.theme,o=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!o.disableGeneration){var u=Ne.get(o.sheetsManager,a,i);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Ne.set(o.sheetsManager,a,i,u));var c=(0,r.Z)({},a.options,o,{theme:i,flip:"boolean"===typeof o.flip?o.flip:"rtl"===i.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=o.sheetsRegistry;if(0===u.refs){var f;o.sheetsCache&&(f=Ne.get(o.sheetsCache,a,i));var h=a.create(i,s);f||((f=o.jss.createStyleSheet(h,(0,r.Z)({link:!1},c))).attach(),o.sheetsCache&&Ne.set(o.sheetsCache,a,i,f)),l&&l.add(f),u.staticSheet=f,u.dynamicStyles=ke(h)}if(u.dynamicStyles){var d=o.jss.createStyleSheet(u.dynamicStyles,(0,r.Z)({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Ce({baseClasses:u.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function Tn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function kn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=Ne.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(Ne.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function Cn(e,t){var n,r=o.useRef([]),i=o.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),o.useEffect((function(){return function(){n&&n()}}),[i])}function xn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,a=t.classNamePrefix,s=t.Component,u=t.defaultTheme,c=void 0===u?Sn:u,l=(0,i.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),f=wn(e),h=n||a||"makeStyles";f.options={index:mn(),name:n,meta:h,classNamePrefix:h};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Pe()||c,i=(0,r.Z)({},o.useContext(vn),l),a=o.useRef(),u=o.useRef();Cn((function(){var r={name:n,state:{},stylesCreator:f,stylesOptions:i,theme:t};return In(r,e),u.current=!1,a.current=r,function(){kn(r)}}),[t,f]),o.useEffect((function(){u.current&&Tn(a.current,e),u.current=!0}));var h=En(a.current,e.classes,s);return h};return d}function Nn(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}var An=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a=t.defaultTheme,u=t.withTheme,c=void 0!==u&&u,l=t.name,f=(0,i.Z)(t,["defaultTheme","withTheme","name"]);var h=l,d=xn(e,(0,r.Z)({defaultTheme:a,Component:n,name:l||n.displayName,classNamePrefix:h},f)),p=o.forwardRef((function(e,t){e.classes;var s,u=e.innerRef,f=(0,i.Z)(e,["classes","innerRef"]),h=d((0,r.Z)({},n.defaultProps,e)),p=f;return("string"===typeof l||c)&&(s=Pe()||a,l&&(p=Nn({theme:s,name:l,props:f})),c&&!p.theme&&(p.theme=s)),o.createElement(n,(0,r.Z)({ref:u||t,classes:h},p))}));return s()(p,n),p}},Pn=["xs","sm","md","lg","xl"];function On(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,o=e.unit,a=void 0===o?"px":o,s=e.step,u=void 0===s?5:s,c=(0,i.Z)(e,["values","unit","step"]);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function f(e,t){var r=Pn.indexOf(t);return r===Pn.length-1?l(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(a,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Pn[r+1]]?n[Pn[r+1]]:t)-u/100).concat(a,")")}return(0,r.Z)({keys:Pn,values:n,up:l,down:function(e){var t=Pn.indexOf(e)+1,r=n[Pn[t]];return t===Pn.length?l("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-u/100).concat(a,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},c)}var Rn=n(4942);function Dn(e,t,n){var i;return(0,r.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,r.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,Rn.Z)({},e.up("sm"),(0,r.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},(0,Rn.Z)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,Rn.Z)(i,e.up("sm"),{minHeight:64}),i)},n)}var Mn=n(7483),Ln={black:"#000",white:"#fff"},Fn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},jn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Un={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Vn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},qn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Bn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},zn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Wn(e){if(e.type)return e;if("#"===e.charAt(0))return Wn(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,Mn.Z)(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Hn(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Gn(e){var t="hsl"===(e=Wn(e)).type?Wn(function(e){var t=(e=Wn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),Hn({type:s,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Qn(e,t){if(e=Wn(e),t=Kn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Hn(e)}function $n(e,t){if(e=Wn(e),t=Kn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Hn(e)}var Yn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ln.white,default:Fn[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Xn={text:{primary:Ln.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Fn[800],default:"#303030"},action:{active:Ln.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Zn(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=$n(e.main,i):"dark"===t&&(e.dark=Qn(e.main,o)))}function Jn(e){var t=e.primary,n=void 0===t?{light:jn[300],main:jn[500],dark:jn[700]}:t,o=e.secondary,a=void 0===o?{light:Un.A200,main:Un.A400,dark:Un.A700}:o,s=e.error,u=void 0===s?{light:Vn[300],main:Vn[500],dark:Vn[700]}:s,c=e.warning,l=void 0===c?{light:qn[300],main:qn[500],dark:qn[700]}:c,f=e.info,h=void 0===f?{light:Bn[300],main:Bn[500],dark:Bn[700]}:f,d=e.success,p=void 0===d?{light:zn[300],main:zn[500],dark:zn[700]}:d,v=e.type,g=void 0===v?"light":v,m=e.contrastThreshold,y=void 0===m?3:m,_=e.tonalOffset,b=void 0===_?.2:_,w=(0,i.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function S(e){var t=function(e,t){var n=Gn(e),r=Gn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Xn.text.primary)>=y?Xn.text.primary:Yn.text.primary;return t}var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,r.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,Mn.Z)(4,t));if("string"!==typeof e.main)throw new Error((0,Mn.Z)(5,JSON.stringify(e.main)));return Zn(e,"light",n,b),Zn(e,"dark",i,b),e.contrastText||(e.contrastText=S(e.main)),e},I={dark:Xn,light:Yn};return bn((0,r.Z)({common:Ln,type:g,primary:E(n),secondary:E(a,"A400","A200","A700"),error:E(u),warning:E(l),info:E(h),success:E(p),grey:Fn,contrastThreshold:y,getContrastText:S,augmentColor:E,tonalOffset:b},I[g]),w)}function er(e){return Math.round(1e5*e)/1e5}function tr(e){return er(e)}var nr={textTransform:"uppercase"},rr='"Roboto", "Helvetica", "Arial", sans-serif';function ir(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,a=void 0===o?rr:o,s=n.fontSize,u=void 0===s?14:s,c=n.fontWeightLight,l=void 0===c?300:c,f=n.fontWeightRegular,h=void 0===f?400:f,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,g=void 0===v?700:v,m=n.htmlFontSize,y=void 0===m?16:m,_=n.allVariants,b=n.pxToRem,w=(0,i.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var S=u/14,E=b||function(e){return"".concat(e/y*S,"rem")},I=function(e,t,n,i,o){return(0,r.Z)({fontFamily:a,fontWeight:e,fontSize:E(t),lineHeight:n},a===rr?{letterSpacing:"".concat(er(i/t),"em")}:{},o,_)},T={h1:I(l,96,1.167,-1.5),h2:I(l,60,1.2,-.5),h3:I(h,48,1.167,0),h4:I(h,34,1.235,.25),h5:I(h,24,1.334,0),h6:I(p,20,1.6,.15),subtitle1:I(h,16,1.75,.15),subtitle2:I(p,14,1.57,.1),body1:I(h,16,1.5,.15),body2:I(h,14,1.43,.15),button:I(p,14,1.75,.4,nr),caption:I(h,12,1.66,.4),overline:I(h,12,2.66,1,nr)};return bn((0,r.Z)({htmlFontSize:y,pxToRem:E,round:tr,fontFamily:a,fontSize:u,fontWeightLight:l,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:g},T),w,{clone:!1})}function or(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var ar=["none",or(0,2,1,-1,0,1,1,0,0,1,3,0),or(0,3,1,-2,0,2,2,0,0,1,5,0),or(0,3,3,-2,0,3,4,0,0,1,8,0),or(0,2,4,-1,0,4,5,0,0,1,10,0),or(0,3,5,-1,0,5,8,0,0,1,14,0),or(0,3,5,-1,0,6,10,0,0,1,18,0),or(0,4,5,-2,0,7,10,1,0,2,16,1),or(0,5,5,-3,0,8,10,1,0,3,14,2),or(0,5,6,-3,0,9,12,1,0,3,16,2),or(0,6,6,-3,0,10,14,1,0,4,18,3),or(0,6,7,-4,0,11,15,1,0,4,20,3),or(0,7,8,-4,0,12,17,2,0,5,22,4),or(0,7,8,-4,0,13,19,2,0,5,24,4),or(0,7,9,-4,0,14,21,2,0,5,26,4),or(0,8,9,-5,0,15,22,2,0,6,28,5),or(0,8,10,-5,0,16,24,2,0,6,30,5),or(0,8,11,-5,0,17,26,2,0,6,32,5),or(0,9,11,-5,0,18,28,2,0,7,34,6),or(0,9,12,-6,0,19,29,2,0,7,36,6),or(0,10,13,-6,0,20,31,3,0,8,38,7),or(0,10,13,-6,0,21,33,3,0,8,40,7),or(0,10,14,-6,0,22,35,3,0,8,42,7),or(0,11,14,-7,0,23,36,3,0,9,44,8),or(0,11,15,-7,0,24,38,3,0,9,46,8)],sr={borderRadius:4},ur=n(885),cr={xs:0,sm:600,md:960,lg:1280,xl:1920},lr={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(cr[e],"px)")}};var fr=function(e,t){return t?bn(e,t,{clone:!1}):e};var hr={m:"margin",p:"padding"},dr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},pr={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},vr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!pr[e])return[e];e=pr[e]}var t=e.split(""),n=(0,ur.Z)(t,2),r=n[0],i=n[1],o=hr[r],a=dr[i]||"";return Array.isArray(a)?a.map((function(e){return o+e})):[o+a]})),gr=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function mr(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function yr(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function _r(e){var t=mr(e.theme);return Object.keys(e).map((function(n){if(-1===gr.indexOf(n))return null;var r=yr(vr(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||lr;return t.reduce((function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===yn(t)){var i=e.theme.breakpoints||lr;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(fr,{})}_r.propTypes={},_r.filterProps=gr;function br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=mr({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var wr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Sr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Er(e){return"".concat(Math.round(e),"ms")}var Ir={easing:wr,duration:Sr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Sr.standard:n,o=t.easing,a=void 0===o?wr.easeInOut:o,s=t.delay,u=void 0===s?0:s;(0,i.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:Er(r)," ").concat(a," ").concat("string"===typeof u?u:Er(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Tr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function kr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,o=void 0===r?{}:r,a=e.palette,s=void 0===a?{}:a,u=e.spacing,c=e.typography,l=void 0===c?{}:c,f=(0,i.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),h=Jn(s),d=On(n),p=br(u),v=bn({breakpoints:d,direction:"ltr",mixins:Dn(d,p,o),overrides:{},palette:h,props:{},shadows:ar,typography:ir(h,l),spacing:p,shape:sr,transitions:Ir,zIndex:Tr},f),g=arguments.length,m=new Array(g>1?g-1:0),y=1;y<g;y++)m[y-1]=arguments[y];return v=m.reduce((function(e,t){return bn(e,t)}),v)}var Cr=kr();var xr=function(e,t){return An(e,(0,r.Z)({defaultTheme:Cr},t))}},1122:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7483);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},8499:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(7462),i=n(2791),o=n(5987),a=n(8182),s=n(3602),u=n(1122),c=i.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,l=e.color,f=void 0===l?"inherit":l,h=e.component,d=void 0===h?"svg":h,p=e.fontSize,v=void 0===p?"medium":p,g=e.htmlColor,m=e.titleAccess,y=e.viewBox,_=void 0===y?"0 0 24 24":y,b=(0,o.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(d,(0,r.Z)({className:(0,a.Z)(s.root,c,"inherit"!==f&&s["color".concat((0,u.Z)(f))],"default"!==v&&"medium"!==v&&s["fontSize".concat((0,u.Z)(v))]),focusable:"false",viewBox:_,color:g,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},b),n,m?i.createElement("title",null,m):null)}));c.muiName="SvgIcon";var l=(0,s.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(c);function f(e,t){var n=function(t,n){return i.createElement(l,(0,r.Z)({ref:n},t),e)};return n.muiName=l.muiName,i.memo(i.forwardRef(n))}},7004:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i},createSvgIcon:function(){return o.Z},debounce:function(){return a},deprecatedPropType:function(){return s},isMuiElement:function(){return c},ownerDocument:function(){return l},ownerWindow:function(){return f},requirePropFactory:function(){return h},setRef:function(){return d},unstable_useId:function(){return _},unsupportedProp:function(){return p},useControlled:function(){return v},useEventCallback:function(){return m},useForkRef:function(){return y},useIsFocusVisible:function(){return A}});var r=n(1122);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var o=n(8499);function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this,s=function(){e.apply(a,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}function s(e,t){return function(){return null}}var u=n(2791);function c(e,t){return u.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}function l(e){return e&&e.ownerDocument||document}function f(e){return l(e).defaultView||window}function h(e){return function(){return null}}function d(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function p(e,t,n,r,i){return null}function v(e){var t=e.controlled,n=e.default,r=(e.name,e.state,u.useRef(void 0!==t).current),i=u.useState(n),o=i[0],a=i[1];return[r?t:o,u.useCallback((function(e){r||a(e)}),[])]}var g="undefined"!==typeof window?u.useLayoutEffect:u.useEffect;function m(e){var t=u.useRef(e);return g((function(){t.current=e})),u.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}function y(e,t){return u.useMemo((function(){return null==e&&null==t?null:function(n){d(e,n),d(t,n)}}),[e,t])}function _(e){var t=u.useState(e),n=t[0],r=t[1],i=e||n;return u.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}var b=n(4164),w=!0,S=!1,E=null,I={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function T(e){e.metaKey||e.altKey||e.ctrlKey||(w=!0)}function k(){w=!1}function C(){"hidden"===this.visibilityState&&S&&(w=!0)}function x(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return w||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!I[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function N(){S=!0,window.clearTimeout(E),E=window.setTimeout((function(){S=!1}),100)}function A(){return{isFocusVisible:x,onBlurVisible:N,ref:u.useCallback((function(e){var t,n=b.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",T,!0),t.addEventListener("mousedown",k,!0),t.addEventListener("pointerdown",k,!0),t.addEventListener("touchstart",k,!0),t.addEventListener("visibilitychange",C,!0))}),[])}}},6677:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z"}),"BusinessCenter");t.Z=a},4995:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M3 17h18v2H3zm0-7h18v5H3zm0-4h18v2H3z"}),"CalendarViewDay");t.Z=a},4579:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"}),"Chat");t.Z=a},9839:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M4 4h16v12H5.17L4 17.17V4m0-2c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H4zm2 10h8v2H6v-2zm0-3h12v2H6V9zm0-3h12v2H6V6z"}),"ChatOutlined");t.Z=a},5195:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");t.Z=a},406:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z"}),"EventNote");t.Z=a},1014:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord");t.Z=a},9112:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=a},1078:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image");t.Z=a},7656:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.Z=a},2300:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),"Notifications");t.Z=a},3880:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=a},671:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M4.01 6.03l7.51 3.22-7.52-1 .01-2.22m7.5 8.72L4 17.97v-2.22l7.51-1M2.01 3L2 10l15 2-15 2 .01 7L23 12 2.01 3z"}),"SendOutlined");t.Z=a},6596:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"ShareOutlined");t.Z=a},1534:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M20 8H4V6h16v2zm-2-6H6v2h12V2zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-6 4l-6-3.27v6.53L16 16z"}),"Subscriptions");t.Z=a},3630:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z"}),"SupervisorAccount");t.Z=a},4212:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(4894)).default)(o.createElement("path",{d:"M21 8h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2zm0 4l-3 7H9V9l4.34-4.34L12.23 10H21v2zM1 9h4v12H1z"}),"ThumbUpAltOutlined");t.Z=a},4894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(7004)},7483:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),g=0;g<a.length;++g){var m=a[g];if(!o[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var y=h(n,m);try{c(t,m,y)}catch(_){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case v:case u:return e;default:return t}}case i:return t}}}function S(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return S(e)||w(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function q(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case T:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function oe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,Ie=null;function Te(e){if(e=_i(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function ke(e){Ee?Ie?Ie.push(e):Ie=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Ie;if(Ie=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Ie)&&(Ne(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Me(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Le=!0,Fe=e}};function qe(e,t,n,r,i,o,a,s,u){Le=!1,Fe=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,Et,It,Tt,kt=!1,Ct=[],xt=null,Nt=null,At=null,Pt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){kt=!1,null!==xt&&jt(xt)&&(xt=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Pt.forEach(Ut),Ot.forEach(Ut)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return qt(t,e)}if(0<Ct.length){qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&qt(xt,e),null!==Nt&&qt(Nt,e),null!==At&&qt(At,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var zt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=_t,o=zt.transition;zt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,zt.transition=o}}function Ht(e,t,n,r){var i=_t,o=zt.transition;zt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,zt.transition=o}}function Gt(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Lt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Lt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Lt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=_i(i);if(null!==o&&wt(o),null===(o=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),fn=F({},cn,{view:0,detail:0}),hn=on(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),vn=on(F({},dn,{dataTransfer:0})),gn=on(F({},fn,{relatedTarget:0})),mn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(yn),bn=on(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return In}var kn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(kn),xn=on(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Pn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Dn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Wn(t,Gn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,yr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Hr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Ir={};function Tr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Er[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var kr=Tr("animationend"),Cr=Tr("animationiteration"),xr=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),u(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(kr,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(xr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(qe.apply(this,arguments),Le){if(!Le)throw Error(o(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[qr]){e[qr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=o,i=we(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case kr:case Cr:case xr:u=mn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(a,s,u,l,!1),null!==c&&null!==f&&Qr(a,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Yn;else if(Kn(s))if(Xn)g=ar;else{g=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?bi(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,yr=null);break;case"focusout":yr=mr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bn?Vn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Bn&&(y=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(m=Hr(r,_)).length&&(_=new bn(_,e,null,n,i),a.push({event:_,listeners:m}),y?_.data=y:null!==(y=qn(n))&&(_.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Jt=Zt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}jr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,o))&&a.unshift(Wr(n,u,s)):i||null!=(u=Oe(n,o))&&a.push(Wr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,gi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[di]||null}var Si=[],Ei=-1;function Ii(e){return{current:e}}function Ti(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function ki(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ci={},xi=Ii(Ci),Ni=Ii(!1),Ai=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ni),Ti(xi)}function Di(e,t,n){if(xi.current!==Ci)throw Error(o(168));ki(xi,t),ki(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=xi.current,ki(xi,e),ki(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(xi),ki(xi,e)):Ti(Ni),ki(Ni,n)}var ji=null,Ui=!1,Vi=!1;function qi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=_t;try{var n=ji;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Je,Bi),i}finally{_t=t,Vi=!1}}return null}var zi=[],Ki=0,Wi=null,Hi=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Zi(e,t){zi[Ki++]=Hi,zi[Ki++]=Wi,Wi=e,Hi=t}function Ji(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function to(e){for(;e===Wi;)Wi=zi[--Ki],zi[Ki]=null,Hi=zi[--Ki],zi[Ki]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ii(null),_o=null,bo=null,wo=null;function So(){wo=bo=_o=null}function Eo(e){var t=yo.current;Ti(yo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){_o=e,wo=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function ko(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===_o)throw Error(o(308));bo=e,_o.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var Co=null;function xo(e){null===Co?Co=[e]:Co.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&xu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,xo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,l=c=u=null,s=o;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Lu|=a,e.lanes=a,e.memoizedState=f}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo=(new r.Component).refs;function qo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(nc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(nc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(nc(t,e,r,n),Lo(t,e,r))}};function zo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Ko(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=ko(o):(i=Oi(t)?Ai:xi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vo,Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ko(o):(o=Oi(t)?Ai:xi.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(qo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Vo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&$o(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case S:return(t=jc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=g);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=g}if(v===s.length)return n(i,f),io&&Zi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return io&&Zi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),io&&Zi(i,v),c}function g(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var _=d(i,v,y.value,c);if(null===_){null===v&&(v=m);break}e&&v&&null===_.alternate&&t(i,v),s=a(_,s,g),null===f?l=_:f.sibling=_,f=_,v=m}if(y.done)return n(i,v),io&&Zi(i,g),l;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===f?l=y:f.sibling=y,f=y);return io&&Zi(i,g),l}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=a(y,s,g),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),io&&Zi(i,g),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===E){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&$o(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Go(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===E?((o=Mc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Dc(a.type,a.key,a.props,null,r.mode,u)).ref=Go(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(a,r.mode,u)).return=r,r=o}return s(r);case O:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(M(a))return g(r,o,a,u);Qo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Xo=Yo(!0),Zo=Yo(!1),Jo={},ea=Ii(Jo),ta=Ii(Jo),na=Ii(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(ki(na,t),ki(ta,e),ki(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(ea),ki(ea,t)}function oa(){Ti(ea),Ti(ta),Ti(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(ki(ta,e),ki(ea,n))}function sa(e){ta.current===e&&(Ti(ea),Ti(ta))}var ua=Ii(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function fa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ha=b.ReactCurrentDispatcher,da=b.ReactCurrentBatchConfig,pa=0,va=null,ga=null,ma=null,ya=!1,_a=!1,ba=0,wa=0;function Sa(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),_a){a=0;do{if(_a=!1,ba=0,25<=a)throw Error(o(301));a+=1,ma=ga=null,t.updateQueue=null,ha.current=cs,e=n(r,i)}while(_a)}if(ha.current=as,t=null!==ga&&null!==ga.next,pa=0,ma=ga=va=null,ya=!1,t)throw Error(o(300));return e}function Ta(){var e=0!==ba;return ba=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?va.memoizedState=ma=e:ma=ma.next=e,ma}function Ca(){if(null===ga){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ma?va.memoizedState:ma.next;if(null!==t)ma=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ma?va.memoizedState=ma=e:ma=ma.next=e}return ma}function xa(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((pa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,va.lanes|=f,Lu|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Lu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Oa(e,t){var n=va,r=Ca(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ka(Ma.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,Ua(9,Da.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(o(349));0!==(30&pa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Fa(e)}function Ma(e,t,n){return n((function(){La(t)&&Fa(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fa(e){var t=Ao(e,1);null!==t&&nc(t,e,1,-1)}function ja(e){var t=ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return Ca().memoizedState}function qa(e,t,n,r){var i=ka();va.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=Ca();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}va.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function za(e,t){return qa(8390656,8,e,t)}function Ka(e,t){return Ba(2048,8,e,t)}function Wa(e,t){return Ba(4,2,e,t)}function Ha(e,t){return Ba(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ga.bind(null,t,e),n)}function $a(){}function Ya(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Za(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Lu|=n,e.baseState=!0),t)}function Ja(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{_t=n,da.transition=r}}function es(){return Ca().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=No(e,t,n,r))){nc(n,e,r,ec()),os(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,xo(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=No(e,t,i,r))&&(nc(n,e,r,i=ec()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){_a=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:ko,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:ko,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qa(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qa(4194308,4,e,t)},useInsertionEffect:function(e,t){return qa(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:ja,useDebugValue:$a,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=Ja.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=ka();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nu)throw Error(o(349));0!==(30&pa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Ma.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=Nu.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:ko,useCallback:Ya,useContext:ko,useEffect:Ka,useImperativeHandle:Qa,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Xa,useReducer:Na,useRef:Va,useState:function(){return Na(xa)},useDebugValue:$a,useDeferredValue:function(e){return Za(Ca(),ga.memoizedState,e)},useTransition:function(){return[Na(xa)[0],Ca().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1},cs={readContext:ko,useCallback:Ya,useContext:ko,useEffect:Ka,useImperativeHandle:Qa,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Xa,useReducer:Aa,useRef:Va,useState:function(){return Aa(xa)},useDebugValue:$a,useDeferredValue:function(e){var t=Ca();return null===ga?t.memoizedState=e:Za(t,ga.memoizedState,e)},useTransition:function(){return[Aa(xa)[0],Ca().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Zo(t,null,n,r):Xo(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return To(t,i),r=Ia(e,t,n,r,o,i),n=Ta(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Is(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Rc(o,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Ru,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Ru,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(Ru,Ou),Ou|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ki(Ru,Ou),Ou|=r;return ws(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=Oi(n)?Ai:xi.current;return o=Pi(t,o),To(t,i),n=Ia(e,t,n,r,o,i),r=Ta(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function xs(e,t,n,r,i){if(Oi(n)){var o=!0;Li(t)}else o=!1;if(To(t,i),null===t.stateNode)zs(e,t),Ko(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ko(c):c=Pi(t,c=Oi(n)?Ai:xi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wo(t,a,r,c),Po=!1;var h=t.memoizedState;a.state=h,jo(t,r,a,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Po?("function"===typeof l&&(qo(t,n,l,r),u=t.memoizedState),(s=Po||zo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ro(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:mo(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ko(u):u=Pi(t,u=Oi(n)?Ai:xi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&Wo(t,a,r,u),Po=!1,h=t.memoizedState,a.state=h,jo(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Po?("function"===typeof d&&(qo(t,n,d,r),p=t.memoizedState),(c=Po||zo(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,o,i)}function Ns(e,t,n,r,i,o){ks(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Ks(e,t,o);r=t.stateNode,_s.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ia(e,t.containerInfo)}function Ps(e,t,n,r,i){return po(),vo(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,Rs,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Lc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ms,e):js(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=js(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Rc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&vo(r),Xo(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function qs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,o);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Hs(t),null;case 3:return r=t.stateNode,oa(),Ti(Ni),Ti(xi),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Hs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Hs(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":H(r),J(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ge(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&_(e,a,l,u))}switch(n){case"input":H(e),J(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hs(t),null;case 13:if(Ti(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Du&&(Du=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return oa(),null===e&&Br(t.stateNode.containerInfo),Hs(t),null;case 10:return Eo(t.type._context),Hs(t),null;case 19:if(Ti(ua),null===(a=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Ws(a,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Ws(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Bu&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Hs(t),null}else 2*Xe()-a.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ua.current,ki(ua,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ti(Ni),Ti(xi),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ti(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ua),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Ys=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Js(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Ys&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ic(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hu(e,t,n),Ys=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=xc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(o(160));du(a,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),mu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(g){Ic(e,e.return,g)}try{nu(5,e,e.return)}catch(g){Ic(e,e.return,g)}}break;case 1:vu(t,e),mu(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(vu(t,e),mu(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ic(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&X(i,a),_e(u,s);var l=_e(u,a);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?ge(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):_(i,f,h,l)}switch(u){case"input":Z(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(g){Ic(e,e.return,g)}}break;case 6:if(vu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ic(e,e.return,g)}}break;case 3:if(vu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ic(e,e.return,g)}break;case 4:default:vu(t,e),mu(e);break;case 13:vu(t,e),mu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Xe())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||f,vu(t,e),Ys=l):vu(t,e),mu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Js(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ic(r,n,g)}}break;case 5:Js(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Zs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(g){Ic(e,e.return,g)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(g){Ic(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),mu(e),4&r&&pu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){Ic(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Zs=e,_u(e,t,n)}function _u(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$s;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=$s;var c=Ys;if($s=a,(Ys=u)&&!c)for(Zs=i;null!==Zs;)u=(a=Zs).child,22===a.tag&&null!==a.memoizedState?Su(i):null!==u?(u.return=a,Zs=u):Su(i);for(;null!==o;)Zs=o,_u(o,t,n),o=o.sibling;Zs=i,$s=s,Ys=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):bu(e)}}function bu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&iu(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Su(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ic(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ic(t,i,u)}}var o=t.return;try{iu(t)}catch(u){Ic(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){Ic(t,a,u)}}}catch(u){Ic(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Eu,Iu=Math.ceil,Tu=b.ReactCurrentDispatcher,ku=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,xu=0,Nu=null,Au=null,Pu=0,Ou=0,Ru=Ii(0),Du=0,Mu=null,Lu=0,Fu=0,ju=0,Uu=null,Vu=null,qu=0,Bu=1/0,zu=null,Ku=!1,Wu=null,Hu=null,Gu=!1,Qu=null,$u=0,Yu=0,Xu=null,Zu=-1,Ju=0;function ec(){return 0!==(6&xu)?Xe():-1!==Zu?Zu:Zu=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&xu)&&0!==Pu?Pu&-Pu:null!==go.transition?(0===Ju&&(Ju=vt()),Ju):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yu)throw Yu=0,Xu=null,Error(o(185));mt(e,n,r),0!==(2&xu)&&e===Nu||(e===Nu&&(0===(2&xu)&&(Fu|=n),4===Du&&sc(e,Pu)),rc(e,r),1===n&&0===xu&&0===(1&t.mode)&&(Bu=Xe()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Nu?Pu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,qi(e)}(uc.bind(null,e)):qi(uc.bind(null,e)),ai((function(){0===(6&xu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zu=-1,Ju=0,0!==(6&xu))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=xu;xu|=2;var a=pc();for(Nu===e&&Pu===t||(zu=null,Bu=Xe()+500,hc(e,t));;)try{yc();break}catch(u){dc(e,u)}So(),Tu.current=a,xu=i,null!==Au?t=0:(Nu=null,Pu=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Mu,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Vu,zu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=qu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,zu),t);break}wc(e,Vu,zu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Iu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,zu),r);break}wc(e,Vu,zu);break;default:throw Error(o(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vu,Vu=n,null!==t&&ac(t)),e}function ac(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~ju,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&xu))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,zu),rc(e,Xe()),null}function cc(e,t){var n=xu;xu|=1;try{return e(t)}finally{0===(xu=n)&&(Bu=Xe()+500,Ui&&Bi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&xu)&&Sc();var t=xu;xu|=1;var n=Cu.transition,r=_t;try{if(Cu.transition=null,_t=1,e)return e()}finally{_t=r,Cu.transition=n,0===(6&(xu=t))&&Bi()}}function fc(){Ou=Ru.current,Ti(Ru)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:oa(),Ti(Ni),Ti(xi),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ti(ua);break;case 10:Eo(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Nu=e,Au=e=Rc(e.current,null),Pu=Ou=t,Du=0,Mu=null,ju=Fu=Lu=0,Vu=Uu=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Co=null}return e}function dc(e,t){for(;;){var n=Au;try{if(So(),ha.current=as,ya){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,ma=ga=va=null,_a=!1,ba=0,ku.current=null,null===n||null===n.return){Du=1,Mu=t,Au=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&gs(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}if(0===(1&t)){gs(a,l,t),vc();break e}c=Error(o(426))}else if(io&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ys(m,s,u,0,t),vo(ls(c,u));break e}}a=c=ls(c,u),4!==Du&&(Du=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ps(0,c,t));break e;case 1:u=c;var y=a.type,_=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Hu||!Hu.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(b){t=b,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pc(){var e=Tu.current;return Tu.current=as,null===e?as:e}function vc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Nu||0===(268435455&Lu)&&0===(268435455&Fu)||sc(Nu,Pu)}function gc(e,t){var n=xu;xu|=2;var r=pc();for(Nu===e&&Pu===t||(zu=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(So(),xu=n,Tu.current=r,null!==Au)throw Error(o(261));return Nu=null,Pu=0,Du}function mc(){for(;null!==Au;)_c(Au)}function yc(){for(;null!==Au&&!$e();)_c(Au)}function _c(e){var t=Eu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?bc(e):Au=t,ku.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ou)))return void(Au=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Du=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Du&&(Du=5)}function wc(e,t,n){var r=_t,i=Cu.transition;try{Cu.transition=null,_t=1,function(e,t,n,r){do{Sc()}while(null!==Qu);if(0!==(6&xu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Nu&&(Au=Nu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Nc(tt,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cu.transition,Cu.transition=null;var s=_t;_t=1;var u=xu;xu|=4,ku.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:mo(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=tu,tu=!1}(e,n),gu(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Ye(),xu=u,_t=s,Cu.transition=a}else e.current=n;if(Gu&&(Gu=!1,Qu=e,$u=i),0===(a=e.pendingLanes)&&(Hu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Wu,Wu=null,e;0!==(1&$u)&&0!==e.tag&&Sc(),0!==(1&(a=e.pendingLanes))?e===Xu?Yu++:(Yu=0,Xu=e):Yu=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,_t=r}return null}function Sc(){if(null!==Qu){var e=bt($u),t=Cu.transition,n=_t;try{if(Cu.transition=null,_t=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,$u=0,0!==(6&xu))throw Error(o(331));var i=xu;for(xu|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:nu(8,f,a)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zs=y;break e}Zs=a.return}}var _=e.current;for(Zs=_;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=_;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(S){Ic(u,u.return,S)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(xu=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{_t=n,Cu.transition=t}}return!1}function Ec(e,t,n){e=Mo(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Mo(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Pu&n)===n&&(4===Du||3===Du&&(130023424&Pu)===Pu&&500>Xe()-qu?hc(e,0):ju|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ao(e,t))&&(mt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function xc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),kc(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Mc(n.children,i,a,t);case I:s=8,i|=8;break;case T:return(e=Pc(12,n,t,2|i)).elementType=T,e.lanes=a,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=a,e;case R:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case C:s=9;break e;case x:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,a,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function qc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Mi(e,n,t)}return t}function zc(e,t,n,r,i,o,a,s,u){return(e=Vc(n,r,!0,e,0,o,0,s,u)).context=Bc(null),n=e.current,(o=Do(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,a))&&(nc(e,i,a,o),Lo(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:aa(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(ki(ua,1&ua.current),null!==(e=Ks(e,t,n))?e.sibling:null);ki(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Ks(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Ji(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Pi(t,xi.current);To(t,n),i=Ia(null,t,r,e,i,n);var a=Ta();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Ns(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===P)return 14}return 2}(r),e=mo(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=xs(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Es(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 1:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ro(e,t),jo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Zo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ks(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),ks(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ki(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=Ks(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Do(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Io(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Io(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,To(t,n),r=r(i=ko(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=mo(r=t.type,t.pendingProps),Es(e,t,r,i=mo(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),zs(e,t),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,To(t,n),Ko(t,r,i),Ho(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}Kc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(a)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Kc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&xu)&&(Bu=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Ao(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Ao(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},It=function(){return _t},Tt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[_i,bi,wi,ke,Ce,cc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return qc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=_.prototype=new y;b.constructor=_,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+x(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+x(s=e[c],c);u+=N(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=o+x(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=_,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(g=!1,b(e),!v)if(null!==r(c))v=!0,R(S);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function S(e,n){v=!1,g&&(g=!1,y(k),k=-1),p=!0;var o=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,I=!1,T=null,k=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function A(){if(null!==T){var e=t.unstable_now();x=e;var n=!0;try{n=T(!0,e)}finally{n?E():(I=!1,T=null)}}else I=!1}if("function"===typeof _)E=function(){_(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=A,E=function(){O.postMessage(null)}}else E=function(){m(A,0)};function R(e){T=e,I||(I=!0,E())}function D(e,n){k=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(g?(y(k),k=-1):g=!0,D(w,o-a))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),a((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=a(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},2705:function(e,t,n){"use strict";var r=n(4151),i=n(3850),o=n(2349),a=n(6616),s=n(4185);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),f=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),h=new a.ErrorFactory("appCheck","AppCheck",f),d=new Map,p={activated:!1,tokenObservers:[]},v={enabled:!1};function g(e){return d.get(e)||p}function m(e,t){d.set(e,t)}function y(){return v}var _="https://content-firebaseappcheck.googleapis.com/v1beta",b=3e4,w=96e4,S=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function E(){return self.grecaptcha}function I(e){if(!g(e).activated)throw h.create("use-before-activation",{appName:e.name})}function T(e){return a.base64.encodeString(JSON.stringify(e),!1)}function k(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,f,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),h.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw h.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),h.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(f=c.ttl.match(/^([\d.]+)(s)$/))||!f[2]||isNaN(Number(f[1])))throw h.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(f[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function C(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:_+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function x(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:_+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}var N="firebase-app-check-store",A="debug-token",P=null;function O(){return P||(P=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(h.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(N,{keyPath:"compositeKey"})}}catch(r){t(h.create("storage-open",{originalErrorMessage:r.message}))}})),P)}function R(e){return M(L(e))}function D(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,O()];case 1:return n=o.sent(),r=n.transaction(N,"readwrite"),i=r.objectStore(N),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(h.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function M(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,O()];case 1:return t=o.sent(),n=t.transaction(N,"readonly"),r=n.objectStore(N),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(h.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function L(e){return e.options.appId+"-"+e.name}var F=new s.Logger("@firebase/app-check");function j(e,t){return a.isIndexedDBAvailable()?function(e,t){return D(L(e),t)}(e,t).catch((function(e){F.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function U(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,M(A)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,D(A,r)).catch((function(e){return F.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function V(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=y()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var q={error:"UNKNOWN_ERROR"};function B(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,s,u,c,l,f,h,d;return o.__generator(this,(function(p){switch(p.label){case 0:return I(e),r=g(e),i=r.token,a=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(s=p.sent())&&H(s)&&(i=s,m(e,o.__assign(o.__assign({},r),{token:i})),W(e,{token:i.token})),p.label=2;case 2:return!n&&i&&H(i)?[2,{token:i.token}]:y().enabled?(c=k,l=x,f=[e],[4,V()]):[3,6];case 3:return[4,c.apply(void 0,[l.apply(void 0,f.concat([p.sent()])),t])];case 4:return u=p.sent(),[4,j(e,u)];case 5:return p.sent(),m(e,o.__assign(o.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return h=p.sent(),F.error(h),a=h,[3,9];case 9:return i?[3,10]:(d=function(e){return{token:T(q),error:e}}(a),[3,12]);case 10:return d={token:i.token},m(e,o.__assign(o.__assign({},r),{token:i})),[4,j(e,i)];case 11:p.sent(),p.label=12;case 12:return W(e,d),[2,d]}}))}))}function z(e,t,n,r,i){var a=g(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new S((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return g(e).token?[3,2]:[4,B(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,B(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=g(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),b,w)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&H(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&H(e)&&r({token:e.token})})).catch((function(){}));m(e,u)}function K(e,t){var n=g(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),m(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function W(e,t){for(var n=0,r=g(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function H(e){return e.expireTimeMillis-Date.now()>0}var G="https://www.google.com/recaptcha/api.js";function Q(e,t){var n=g(e),r=new a.Deferred;m(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=E();return u?u.ready((function(){Y(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+G,t.onload=e,document.head.appendChild(t)}((function(){var n=E();if(!n)throw new Error("no recaptcha");n.ready((function(){Y(e,t,n,i),r.resolve(n)}))})),r.promise}function $(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return I(e),[4,g(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=g(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function Y(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=g(e);m(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var X=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw h.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,$(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),h.create("recaptcha-error");case 4:return[2,k(C(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,Q(e,this._siteKey).catch((function(){}))},e}(),Z=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw h.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();function J(e,t,n,r){var i=g(e);if(i.activated)throw h.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,R(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),F.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&H(t)&&m(e,o.__assign(o.__assign({},g(e)),{token:t})),t})),s.provider="string"===typeof t?new X(t):t instanceof X||t instanceof Z?t:new Z({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,m(e,s),s.provider.initialize(e,n)}function ee(e,t){return{app:e,activate:function(n,r){return J(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=g(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),m(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,B(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),z(e,t,"EXTERNAL",o,a),function(){return K(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=g(e).tokenObservers;t<n.length;t++){var r=n[t];K(e,r.next)}return Promise.resolve()}}}}var te="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return ee(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:X,CustomProvider:Z}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(te).initialize()}))),e.INTERNAL.registerComponent(new i.Component(te,(function(e){return function(e,t){return{getToken:function(n){return B(e,t,n)},addTokenListener:function(n){return z(e,t,"INTERNAL",n)},removeTokenListener:function(t){return K(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.1")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=y();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(U())}}()},4151:function(e,t,n){"use strict";n.r(t),n.d(t,{firebase:function(){return b}});var r,i,o=n(2349),a=n(6616),s=n(3850),u=n(4185),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),f="@firebase/app",h="[DEFAULT]",d=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=h),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=h),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=h);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||h,!(0,a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,f=Object.keys(t);c<f.length;c++){var h=f[c];t[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=(0,o.__assign)((0,o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),m=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,e)};var b=g;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new m(e)}),"PRIVATE")),e.registerVersion(f,"0.6.29",t),e.registerVersion("fire-js","")}(b),t.default=b},3850:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return o},ComponentContainer:function(){return u},Provider:function(){return s}});var r=n(2349),i=n(6616),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(h){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.__read)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:l});c.resolve(f)}catch(h){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.__read)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),f=l[0],h=l[1];a===this.normalizeInstanceIdentifier(f)&&h.resolve(s)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},9715:function(e,t,n){"use strict";var r=n(4151),i=n(3850),o=n(6616),a=n(2349),s=n(4185);e=n.hmd(e);var u="";function c(e){u=e}var l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),f=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new f},d=h("localStorage"),p=h("sessionStorage"),v=new s.Logger("@firebase/database"),g=function(){var e=1;return function(){return e++}}(),m=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?(0,o.stringify)(a):a,r+=" "}return r},_=null,b=!0,w=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=s.LogLevel.VERBOSE,_=v.log.bind(v),t&&p.set("logging_enabled",!0)):"function"===typeof e?_=e:(_=null,p.remove("logging_enabled"))},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===b&&(b=!1,null===_&&!0===p.get("logging_enabled")&&w(!0)),_){var n=y.apply(null,e);_(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];S.apply(void 0,(0,a.__spreadArray)([e],(0,a.__read)(t)))}},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));v.error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));throw v.error(n),new Error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));v.warn(n)},C=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},x="[MIN_NAME]",N="[MAX_NAME]",A=function(e,t){if(e===t)return 0;if(e===x||t===N)return-1;if(t===x||e===N)return 1;var n=V(e),r=V(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},P=function(e,t){return e===t?0:e<t?-1:1},O=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},R=function e(t){if("object"!==typeof t||null===t)return(0,o.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){(0,o.assert)(!C(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var f=parseInt(c.substr(a,8),2).toString(16);1===f.length&&(f="0"+f),l+=f}return l.toLowerCase()};var F=new RegExp("^-?(0*)\\d{1,10}$"),j=-2147483648,U=2147483647,V=function(e){if(F.test(e)){var t=Number(e);if(t>=j&&t<=U)return t}return null},q=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw k("Exception was thrown by user callback.",e),t}),Math.floor(0))}},B=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},z=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){k('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),K=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(S("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',k(e)},e}(),W=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),H="5",G=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Q="websocket",$="long_polling",Y=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function X(e,t,n){var r;if((0,o.assert)("string"===typeof t,"typeof type must == string"),(0,o.assert)("object"===typeof n,"typeof params must == object"),t===Q)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==$)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return M(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Z=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),J={},ee={};function te(e){var t=e.toString();return J[t]||(J[t]=new Z),J[t]}var ne=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&q((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),re="start",ie="close",oe=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=te(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),X(t,$,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ae((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===re)n.id=o,n.password=s;else{if(i!==ie)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=H,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ae=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){S("frame writing exception"),u.stack&&S(u.stack),S(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||S("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){S("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),se=null;"undefined"!==typeof MozWebSocket?se=MozWebSocket:"undefined"!==typeof WebSocket&&(se=WebSocket);var ue=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=te(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=H,!(0,o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),X(e,Q,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new se(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new se(this.connURL,[],i)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==se&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ce=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[oe,ue]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ue&&ue.isAvailable(),o=i&&!ue.previouslyFailed();if(t.webSocketOnly&&(i||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ue];else{var s=this.transports_=[];try{for(var u=(0,a.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),le=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new ce(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=B((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=O("t",e),n=O("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=O("t",e),n=O("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=O("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?I("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),H!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),B((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):B((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),fe=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),he=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.__spreadArray)([],(0,a.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),de=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(he),pe=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ve(){return new pe("")}function ge(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function me(e){return e.pieces_.length-e.pieceNum_}function ye(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new pe(e.pieces_,t)}function _e(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function be(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function we(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new pe(t,0)}function Se(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof pe)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new pe(n,0)}function Ee(e){return e.pieceNum_>=e.pieces_.length}function Ie(e,t){var n=ge(e),r=ge(t);if(null===n)return t;if(n===r)return Ie(ye(e),ye(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Te(e,t){for(var n=be(e,0),r=be(t,0),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function ke(e,t){if(me(e)!==me(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ce(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(me(e)>me(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var xe=function(e,t){this.errorPrefix_=t,this.parts_=be(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Ne(this)};function Ne(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ae(e))}function Ae(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Pe,Oe,Re=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(he),De=1e3,Me=function(e){function t(n,r,i,a,s,u,c,l){var f=e.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=t.nextPersistentConnectionId_++,f.log_=E("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=De,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Re.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&de.getInstance().on("online",f.onOnline_,f),f}return(0,a.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):I("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=De),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,f,h,d,p,v,g,m=this;return(0,a.__generator)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},f=function(e){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=a.__read.apply(void 0,[y.sent(),2]),p=d[0],v=d[1],u?S("getToken() completed but was canceled"):(S("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,c=new le(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){k(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),s)),[3,4];case 3:return g=y.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&k(g),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){S("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){S("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return R(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new pe(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){S("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){S("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=de.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(fe),Le=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Fe=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Le(x,e),r=new Le(x,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Le.MIN},e}(),je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Pe},set:function(e){Pe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return A(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return new Le(N,Pe)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Le(e,Pe)},t.prototype.toString=function(){return".key"},t}(Fe),Ue=new je,Ve=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),qe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ze.EMPTY_NODE,this.right=null!=o?o:ze.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return ze.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ze.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Be=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new qe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),ze=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,qe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,qe.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ve(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ve(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ve(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ve(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Be,e}();function Ke(e,t){return A(e.name,t.name)}function We(e,t){return A(e,t)}var He,Ge,Qe,$e=function(e){return"number"===typeof e?"number:"+L(e):"string:"+e},Ye=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===Oe||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===Oe||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Xe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ye(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return He},set:function(e){He=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Ee(t)?this:".priority"===ge(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ge(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===me(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+$e(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Ze,Je,et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return new Le(N,new Xe("[PRIORITY-POST]",Qe))},t.prototype.makePost=function(e,t){var n=Ge(e);return new Le(t,new Xe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Fe),tt=new et,nt=Math.log(2),rt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/nt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),it=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new qe(a,o.node,qe.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new qe(a,o.node,qe.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],f=n?n(l):l;u(new qe(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,qe.BLACK):(s(f,qe.BLACK),s(f,qe.RED))}return o}(new rt(e.length));return new ze(r||t,o)},ot={},at=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(ot&&tt,"ChildrenNode.ts has not been loaded"),Ze=Ze||new e({".priority":ot},{".priority":tt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ze?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==Ue,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Le.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?it(i,t.getCompare()):ot;var l=t.toString(),f=(0,a.__assign)({},this.indexSet_);f[l]=t;var h=(0,a.__assign)({},this.indexes_);return h[l]=r,new e(h,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,(function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===ot){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Le.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),it(s,a.getCompare())}return ot}var l=n.get(t.name),f=e;return l&&(f=f.remove(new Le(t.name,l))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,(function(e){if(e===ot)return e;var r=n.get(t.name);return r?e.remove(new Le(t.name,r)):e})),this.indexSet_)},e}(),st=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ye(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Je||(Je=new e(new ze(We),null,at.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Je},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Je:t},e.prototype.getChild=function(e){var t=ge(e);return null===t?this:this.getImmediateChild(t).getChild(ye(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Le(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Je:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ge(e);if(null===n)return t;(0,o.assert)(".priority"!==ge(e)||1===me(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ye(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(tt,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+$e(this.getPriority().val())+":"),this.forEachChild(tt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Le(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Le(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Le(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Le.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Le.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ut?-1:0},e.prototype.withIndex=function(t){if(t===Ue||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ue||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(tt),r=t.getIterator(tt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ue?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ut=new(function(e){function t(){return e.call(this,new ze(We),st.EMPTY_NODE,at.Default)||this}return(0,a.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return st.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(st));Object.defineProperties(Le,{MIN:{value:new Le(x,st.EMPTY_NODE)},MAX:{value:new Le(N,ut)}}),je.__EMPTY_NODE=st.EMPTY_NODE,Xe.__childrenNodeConstructor=st,Oe=ut,function(e){Qe=e}(ut);function ct(e,t){if(void 0===t&&(t=null),null===e)return st.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Xe(e,ct(t));if(e instanceof Array){var n=st.EMPTY_NODE;return M(e,(function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=ct(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ct(t))}var r=[],i=!1;if(M(e,(function(e,t){if("."!==e.substring(0,1)){var n=ct(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Le(e,n)))}})),0===r.length)return st.EMPTY_NODE;var a=it(r,Ke,(function(e){return e.name}),We);if(i){var s=it(r,tt.getCompare());return new st(a,ct(t),new at({".priority":s},{".priority":tt}))}return new st(a,ct(t),at.Default)}!function(e){Ge=e}(ct);var lt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!Ee(t)&&".priority"!==ge(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ct(e),r=st.EMPTY_NODE.updateChild(this.indexPath_,n);return new Le(t,r)},t.prototype.maxPost=function(){var e=st.EMPTY_NODE.updateChild(this.indexPath_,ut);return new Le(N,e)},t.prototype.toString=function(){return be(this.indexPath_,0).join("/")},t}(Fe),ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?A(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return Le.MAX},t.prototype.makePost=function(e,t){var n=ct(e);return new Le(t,n)},t.prototype.toString=function(){return".value"},t}(Fe),ht=new ft,dt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=dt.charAt(n%64),n=Math.floor(n/64);(0,o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=dt.charAt(t[r]);return(0,o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),vt=function(e){if("2147483647"===e)return"-";var t=V(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return N;var o=n[i],a=dt.charAt(dt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},gt=function(e){if("-2147483648"===e)return x;var t=V(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=dt.charAt(dt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function mt(e){return{type:"value",snapshotNode:e}}function yt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _t(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function bt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var wt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(_t(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(yt(t,n)):a.trackChildChange(bt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(tt,(function(e,r){t.hasChild(e)||n.trackChildChange(_t(e,r))})),t.isLeafNode()||t.forEachChild(tt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(bt(t,r,i))}else n.trackChildChange(yt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?st.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),St=function(){function e(t){this.indexedFilter_=new wt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Le(t,n))||(n=st.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=st.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(st.EMPTY_NODE);var i=this;return t.forEachChild(tt,(function(e,t){i.matches(new Le(e,t))||(r=r.updateImmediateChild(e,st.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Et=function(){function e(e){this.rangedFilter_=new St(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Le(t,n))||(n=st.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=st.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=st.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(st.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&c(s,a)<=0&&(f=!0),f&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new Le(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var h=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(bt(t,n,h)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(_t(t,h));var v=u.updateImmediateChild(t,st.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(yt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:f&&a(l,c)>=0?(null!=i&&(i.trackChildChange(_t(l.name,l.node)),i.trackChildChange(yt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,st.EMPTY_NODE)):e},e}(),It=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===tt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Tt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function kt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ct(e,t){var n=e.copy();return n.index_=t,n}function xt(e){var t,n={};return e.isDefault()||(e.index_===tt?t="$priority":e.index_===ht?t="$value":e.index_===Ue?t="$key":((0,o.assert)(e.index_ instanceof lt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Nt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==tt&&(t.i=e.index_.toString()),t}var At=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=E("p:rest:"),o.listens_={},o}return(0,a.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=xt(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=xt(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+l);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(n&&4===f.readyState){r.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);var e=null;if(f.status>=200&&f.status<300){try{e=(0,o.jsonEval)(f.responseText)}catch(t){k("Failed to parse JSON response for "+l+": "+f.responseText)}n(null,e)}else 401!==f.status&&404!==f.status&&k("Got unsuccessful REST response for "+l+" Status: "+f.status),n(f.status);n=null}},f.open("GET",l,!0),f.send()}))},t}(fe),Pt=function(){function e(){this.rootNode_=st.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Ot(){return{value:null,children:new Map}}function Rt(e,t,n){if(Ee(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ge(t);e.children.has(r)||e.children.set(r,Ot()),Rt(e.children.get(r),t=ye(t),n)}}function Dt(e,t){if(Ee(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(tt,(function(t,n){Rt(e,new pe(t),n)})),Dt(e,t)}if(e.children.size>0){var r=ge(t);if(t=ye(t),e.children.has(r))Dt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Mt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Mt(r,new pe(t.toString()+"/"+e),n)}))}var Lt,Ft=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.__assign)({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),jt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ft(e);var n=1e4+2e4*Math.random();B(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),B(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ut(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Lt||(Lt={}));var Vt,qt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Lt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Ee(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new pe(t));return new e(ve(),n,this.revert)}return(0,o.assert)(ge(this.path)===t,"operationForChild called for unrelated child."),new e(ye(this.path),this.affectedTree,this.revert)},e}(),Bt=function(){function e(e,t){this.source=e,this.path=t,this.type=Lt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Ee(this.path)?new e(this.source,ve()):new e(this.source,ye(this.path))},e}(),zt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Lt.OVERWRITE}return e.prototype.operationForChild=function(t){return Ee(this.path)?new e(this.source,ve(),this.snap.getImmediateChild(t)):new e(this.source,ye(this.path),this.snap)},e}(),Kt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Lt.MERGE}return e.prototype.operationForChild=function(t){if(Ee(this.path)){var n=this.children.subtree(new pe(t));return n.isEmpty()?null:n.value?new zt(this.source,ve(),n.value):new e(this.source,ve(),n)}return(0,o.assert)(ge(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ye(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Wt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Ee(e))return this.isFullyInitialized()&&!this.filtered_;var t=ge(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Ht=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Gt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new Le(t.childName,t.snapshotNode),i=new Le(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Qt(e,t){return{eventCache:e,serverCache:t}}function $t(e,t,n,r){return Qt(new Wt(t,n,r),e.serverCache)}function Yt(e,t,n,r){return Qt(e.eventCache,new Wt(t,n,r))}function Xt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Zt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Jt=function(){function e(e,t){void 0===t&&(Vt||(Vt=new ze(P)),t=Vt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return M(t,(function(e,t){n=n.set(new pe(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ve(),value:this.value};if(Ee(e))return null;var n=ge(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ye(e),t);return null!=i?{path:Se(new pe(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Ee(t))return this;var n=ge(t),r=this.children.get(n);return null!==r?r.subtree(ye(t)):new e(null)},e.prototype.set=function(t,n){if(Ee(t))return new e(n,this.children);var r=ge(t),i=(this.children.get(r)||new e(null)).set(ye(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Ee(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ge(t),r=this.children.get(n);if(r){var i=r.remove(ye(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Ee(e))return this.value;var t=ge(e),n=this.children.get(t);return n?n.get(ye(e)):null},e.prototype.setTree=function(t,n){if(Ee(t))return n;var r=ge(t),i=(this.children.get(r)||new e(null)).setTree(ye(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(ve(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Se(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ve(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Ee(e))return null;var i=ge(e),o=this.children.get(i);return o?o.findOnPath_(ye(e),Se(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ve(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Ee(t))return this;this.value&&r(n,this.value);var i=ge(t),o=this.children.get(i);return o?o.foreachOnPath_(ye(t),Se(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ve(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Se(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),en=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Jt(null))},e}();function tn(e,t,n){if(Ee(t))return new en(new Jt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Ie(i,t);return o=o.updateChild(a,n),new en(e.writeTree_.set(i,o))}var s=new Jt(n),u=e.writeTree_.setTree(t,s);return new en(u)}function nn(e,t,n){var r=e;return M(n,(function(e,n){r=tn(r,Se(t,e),n)})),r}function rn(e,t){if(Ee(t))return en.empty();var n=e.writeTree_.setTree(t,new Jt(null));return new en(n)}function on(e,t){return null!=an(e,t)}function an(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ie(n.path,t)):null}function sn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(tt,(function(e,n){t.push(new Le(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Le(e,n.value))})),t}function un(e,t){if(Ee(t))return e;var n=an(e,t);return new en(null!=n?new Jt(n):e.writeTree_.subtree(t))}function cn(e){return e.writeTree_.isEmpty()}function ln(e,t){return fn(ve(),e.writeTree_,t)}function fn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=fn(Se(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Se(e,".priority"),r)),n}function hn(e,t){return Tn(t,e)}function dn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&pn(u,r.path)?i=!1:Ce(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=gn(e.allWrites,vn,ve()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=rn(e.visibleWrites,r.path):M(r.children,(function(t){e.visibleWrites=rn(e.visibleWrites,Se(r.path,t))}));return!0}return!1}function pn(e,t){if(e.snap)return Ce(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ce(Se(e.path,n),t))return!0;return!1}function vn(e){return e.visible}function gn(e,t,n){for(var r=en.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Ce(n,s)?r=tn(r,u=Ie(n,s),a.snap):Ce(s,n)&&(u=Ie(s,n),r=tn(r,ve(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(Ce(n,s))r=nn(r,u=Ie(n,s),a.children);else if(Ce(s,n))if(Ee(u=Ie(s,n)))r=nn(r,ve(),a.children);else{var c=(0,o.safeGet)(a.children,ge(u));if(c){var l=c.getChild(ye(u));r=tn(r,ve(),l)}}}}}return r}function mn(e,t,n,r,i){if(r||i){var o=un(e.visibleWrites,t);if(!i&&cn(o))return n;if(i||null!=n||on(o,ve())){return ln(gn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ce(e.path,t)||Ce(t,e.path))}),t),n||st.EMPTY_NODE)}return null}var a=an(e.visibleWrites,t);if(null!=a)return a;var s=un(e.visibleWrites,t);return cn(s)?n:null!=n||on(s,ve())?ln(s,n||st.EMPTY_NODE):null}function yn(e,t,n,r){return mn(e.writeTree,e.treePath,t,n,r)}function _n(e,t){return function(e,t,n){var r=st.EMPTY_NODE,i=an(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(tt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=un(e.visibleWrites,t);return n.forEachChild(tt,(function(e,t){var n=ln(un(o,new pe(e)),t);r=r.updateImmediateChild(e,n)})),sn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return sn(un(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function bn(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Se(t,n);if(on(e.visibleWrites,a))return null;var s=un(e.visibleWrites,a);return cn(s)?i.getChild(n):ln(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function wn(e,t){return function(e,t){return an(e.visibleWrites,t)}(e.writeTree,Se(e.treePath,t))}function Sn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=un(e.visibleWrites,t),c=an(u,ve());if(null!=c)s=c;else{if(null==n)return[];s=ln(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function En(e,t,n){return function(e,t,n,r){var i=Se(t,n),o=an(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?ln(un(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function In(e,t){return Tn(Se(e.treePath,t),e.writeTree)}function Tn(e,t){return{treePath:e,writeTree:t}}var kn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,bt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,_t(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,yt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,bt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Cn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),xn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Wt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return En(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zt(this.viewCache_),i=Sn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Nn(e,t,n,r,i){var a,s,u=new kn;if(n.type===Lt.OVERWRITE){var c=n;c.source.fromUser?a=On(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Ee(c.path),a=Pn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Lt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Se(n,r);Rn(t,ge(c))&&(s=On(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Se(n,r);Rn(t,ge(c))||(s=On(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Mn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Lt.ACK_USER_WRITE){var f=n;a=f.revert?function(e,t,n,r,i,a){var s;if(null!=wn(r,n))return t;var u=new xn(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Ee(n)||".priority"===ge(n)){var f=void 0;if(t.serverCache.isFullyInitialized())f=yn(r,Zt(t));else{var h=t.serverCache.getNode();(0,o.assert)(h instanceof st,"serverChildren would be complete if leaf node"),f=_n(r,h)}l=e.filter.updateFullNode(c,f,a)}else{var d=ge(n),p=En(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,ye(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,st.EMPTY_NODE,ye(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=yn(r,Zt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=wn(r,ve()),$t(t,l,s,e.filter.filtersNodes())}(e,t,f.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=wn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Ee(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Pn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Ee(n)){var c=new Jt(null);return u.getNode().forEachChild(Ue,(function(e,t){c=c.set(new pe(e),t)})),Mn(e,t,n,c,i,o,s,a)}return t}var l=new Jt(null);return r.foreach((function(e,t){var r=Se(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Mn(e,t,n,l,i,o,s,a)}(e,t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==Lt.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Yt(t,o.getNode(),o.isFullyInitialized()||Ee(n),o.isFiltered());return An(e,a,n,r,Cn,i)}(e,t,n.path,r,u)}var h=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Xt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(mt(Xt(t)))}}(t,a,h),{viewCache:a,changes:h}}function An(e,t,n,r,i,a){var s=t.eventCache;if(null!=wn(r,n))return t;var u=void 0,c=void 0;if(Ee(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Zt(t),f=_n(r,l instanceof st?l:st.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=yn(r,Zt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var d=ge(n);if(".priority"===d){(0,o.assert)(1===me(n),"Can't have a priority with additional path components");var p=s.getNode(),v=bn(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var g=ye(n),m=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=bn(r,n,s.getNode(),c);m=null!=y?s.getNode().getImmediateChild(d).updateChild(g,y):s.getNode().getImmediateChild(d)}else m=En(r,d,t.serverCache);u=null!=m?e.filter.updateChild(s.getNode(),d,m,g,i,a):s.getNode()}}return $t(t,u,s.isFullyInitialized()||Ee(n),e.filter.filtersNodes())}function Pn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Ee(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=ge(n);if(!c.isCompleteForPath(n)&&me(n)>1)return t;var d=ye(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Cn,null)}var v=Yt(t,u,c.isFullyInitialized()||Ee(n),l.filtersNodes());return An(e,v,n,i,new xn(i,v,o),s)}function On(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new xn(i,t,o);if(Ee(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=$t(t,u,!0,e.filter.filtersNodes());else{var f=ge(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=$t(t,u,c.isFullyInitialized(),c.isFiltered());else{var h=ye(n),d=c.getNode().getImmediateChild(f),p=void 0;if(Ee(h))p=r;else{var v=l.getCompleteChild(f);p=null!=v?".priority"===_e(h)&&v.getChild(we(h)).isEmpty()?v:v.updateChild(h,r):st.EMPTY_NODE}if(d.equals(p))s=t;else s=$t(t,e.filter.updateChild(c.getNode(),f,p,h,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Rn(e,t){return e.eventCache.isCompleteForChild(t)}function Dn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Mn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Ee(n)?r:new Jt(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Dn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Pn(e,c,new pe(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=Dn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Pn(e,c,new pe(n),f,i,o,a,s)}})),c}var Ln,Fn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new wt(r.getIndex()),o=(n=r).loadsAllData()?new wt(n.getIndex()):n.hasLimit()?new Et(n):new St(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(st.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(st.EMPTY_NODE,s.getNode(),null),l=new Wt(u,a.isFullyInitialized(),i.filtersNodes()),f=new Wt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Qt(f,l),this.eventGenerator_=new Ht(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function jn(e,t){var n=Zt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ee(t)&&!n.getImmediateChild(ge(t)).isEmpty())?n.getChild(t):null}function Un(e){return 0===e.eventRegistrations_.length}function Vn(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function qn(e,t,n,r){t.type===Lt.MERGE&&null!==t.source.queryId&&((0,o.assert)(Zt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(Xt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=Nn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Bn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Bn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Gt(e,i,"child_removed",t,r,n),Gt(e,i,"child_added",t,r,n),Gt(e,i,"child_moved",o,r,n),Gt(e,i,"child_changed",t,r,n),Gt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var zn,Kn=function(){this.views=new Map};function Wn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),qn(c,t,n,r)}var l=[];try{for(var f=(0,a.__values)(e.views.values()),h=f.next();!h.done;h=f.next()){c=h.value;l=l.concat(qn(c,t,n,r))}}catch(d){i={error:d}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return l}function Hn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=yn(n,i?r:null),u=!1;s?u=!0:r instanceof st?(s=_n(n,r),u=!1):(s=st.EMPTY_NODE,u=!1);var c=Qt(new Wt(s,u,!1),new Wt(r,i,!1));return new Fn(t,c)}return a}function Gn(e,t,n,r,i,o){var a=Hn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(function(e,t){r.push(yt(e,t))})),n.isFullyInitialized()&&r.push(mt(n.getNode())),Bn(e,r,n.getNode(),t)}(a,n)}function Qn(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],f=Jn(e);if("default"===u)try{for(var h=(0,a.__values)(e.views.entries()),d=h.next();!d.done;d=h.next()){var p=(0,a.__read)(d.value,2),v=p[0],g=p[1];l=l.concat(Vn(g,n,r)),Un(g)&&(e.views.delete(v),g.query._queryParams.loadsAllData()||c.push(g.query))}}catch(m){i={error:m}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}else(g=e.views.get(u))&&(l=l.concat(Vn(g,n,r)),Un(g)&&(e.views.delete(u),g.query._queryParams.loadsAllData()||c.push(g.query)));return f&&!Jn(e)&&c.push(new((0,o.assert)(Ln,"Reference.ts has not been loaded"),Ln)(t._repo,t._path)),{removed:c,events:l}}function $n(e){var t,n,r=[];try{for(var i=(0,a.__values)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Yn(e,t){var n,r,i=null;try{for(var o=(0,a.__values)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||jn(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Xn(e,t){if(t._queryParams.loadsAllData())return er(e);var n=t._queryIdentifier;return e.views.get(n)}function Zn(e,t){return null!=Xn(e,t)}function Jn(e){return null!=er(e)}function er(e){var t,n;try{for(var r=(0,a.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var tr=1,nr=function(e){this.listenProvider_=e,this.syncPointTree_=new Jt(null),this.pendingWriteTree_={visibleWrites:en.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function rr(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=tn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?fr(e,new zt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ir(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=nn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Jt.fromObject(n);return fr(e,new Kt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function or(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(dn(e.pendingWriteTree_,t)){var i=new Jt(null);return null!=r.snap?i=i.set(ve(),!0):M(r.children,(function(e){i=i.set(new pe(e),!0)})),fr(e,new qt(r.path,i,n))}return[]}function ar(e,t,n){return fr(e,new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function sr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Zn(o,t))){var s=Qn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return Jn(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&Jn(t))return[er(t)];var r=[];return t&&(r=$n(t)),M(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,g=pr(e,p);e.listenProvider_.startListening(br(v),vr(e,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(br(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(gr(t));e.listenProvider_.stopListening(br(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=gr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function ur(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Ie(e,r);i=i||Yn(t,n),a=a||Jn(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||Jn(u),i=i||Yn(u,ve())):(u=new Kn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=st.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Yn(t,ve());n&&(i=i.updateImmediateChild(e,n))})));var c=Zn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=gr(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=tr++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=Gn(u,t,n,hn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Xn(u,t);h=h.concat(function(e,t,n){var r=t._path,i=vr(e,t),a=pr(e,n),s=e.listenProvider_.startListening(br(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!Jn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Ee(e)&&t&&Jn(t))return[er(t).query];var r=[];return t&&(r=r.concat($n(t).map((function(e){return e.query})))),M(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var f=c[l];e.listenProvider_.stopListening(br(f),vr(e,f))}return s}(e,t,d))}return h}function cr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Yn(n,Ie(e,t));if(r)return r}));return mn(r,t,i,n,!0)}function lr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Ie(e,n);r=r||Yn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Yn(i,ve()):(i=new Kn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Wt(r,!0,!1):null;return function(e){return Xt(e.viewCache_)}(Hn(i,t,hn(e.pendingWriteTree_,t._path),o?a.getNode():st.EMPTY_NODE,o))}function fr(e,t){return hr(t,e.syncPointTree_,null,hn(e.pendingWriteTree_,ve()))}function hr(e,t,n,r){if(Ee(e.path))return dr(e,t,n,r);var i=t.get(ve());null==n&&null!=i&&(n=Yn(i,ve()));var o=[],a=ge(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=In(r,a);o=o.concat(hr(s,u,c,l))}return i&&(o=o.concat(Wn(i,e,r,n))),o}function dr(e,t,n,r){var i=t.get(ve());null==n&&null!=i&&(n=Yn(i,ve()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=In(r,t),u=e.operationForChild(t);u&&(o=o.concat(dr(u,i,a,s)))})),i&&(o=o.concat(Wn(i,e,r,n))),o}function pr(e,t){var n=t.query,r=vr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||st.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=mr(e,n);if(r){var i=yr(r),o=i.path,a=i.queryId,s=Ie(o,t);return _r(e,o,new Bt(Ut(a),s))}return[]}(e,n._path,r):function(e,t){return fr(e,new Bt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return sr(e,n,null,i)}}}function vr(e,t){var n=gr(t);return e.queryToTagMap.get(n)}function gr(e){return e._path.toString()+"$"+e._queryIdentifier}function mr(e,t){return e.tagToQueryMap.get(t)}function yr(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new pe(e.substr(0,t))}}function _r(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Wn(r,n,hn(e.pendingWriteTree_,t),null)}function br(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(zn,"Reference.ts has not been loaded"),zn)(e._repo,e._path):e}var wr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Sr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Se(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return cr(this.syncTree_,this.path_)},e}(),Er=function(e,t,n){return e&&"object"===typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Ir(e[".sv"],t,n):"object"===typeof e[".sv"]?Tr(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Ir=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.assert)(!1,"Unexpected server value: "+e)},Tr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},kr=function(e,t,n,r){return xr(t,new Sr(n,e),r)},Cr=function(e,t,n){return xr(e,new wr(t),n)};function xr(e,t,n){var r,i=e.getPriority().val(),o=Er(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Er(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Xe(s,ct(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Xe(o))),u.forEachChild(tt,(function(e,i){var o=xr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Nr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Ar(e,t){for(var n=t instanceof pe?t:new pe(t),r=e,i=ge(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Nr(i,r,a),i=ge(n=ye(n))}return r}function Pr(e){return e.node.value}function Or(e,t){e.node.value=t,Fr(e)}function Rr(e){return e.node.childCount>0}function Dr(e,t){M(e.node.children,(function(n,r){t(new Nr(n,e,r))}))}function Mr(e,t,n,r){n&&!r&&t(e),Dr(e,(function(e){Mr(e,t,!0,r)})),n&&r&&t(e)}function Lr(e){return new pe(null===e.parent?e.name:Lr(e.parent)+"/"+e.name)}function Fr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Pr(e)&&!Rr(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Fr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Fr(e))}(e.parent,e.name,e)}var jr=/[\[\].#$\/\u0000-\u001F\u007F]/,Ur=/[\[\].#$\u0000-\u001F\u007F]/,Vr=10485760,qr=function(e){return"string"===typeof e&&0!==e.length&&!jr.test(e)},Br=function(e){return"string"===typeof e&&0!==e.length&&!Ur.test(e)},zr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!C(e)||e&&"object"===typeof e&&(0,o.contains)(e,".sv")},Kr=function(e,t,n,r){r&&void 0===t||Wr((0,o.errorPrefix)(e,"value"),t,n)},Wr=function e(t,n,r){var i=r instanceof pe?new xe(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Ae(i));if("function"===typeof n)throw new Error(t+"contains a function "+Ae(i)+" with contents = "+n.toString());if(C(n))throw new Error(t+"contains "+n.toString()+" "+Ae(i));if("string"===typeof n&&n.length>Vr/3&&(0,o.stringLength)(n)>Vr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Ae(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(M(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!qr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Ae(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),Ne(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+Ae(i)+" in addition to actual children.")}},Hr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];M(t,(function(e,t){var r=new pe(e);if(Wr(i,t,Se(n,r)),".priority"===_e(r)&&!zr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=be(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!qr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Te);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Ce(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Gr=function(e,t,n){if(!n||void 0!==t){if(C(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zr(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Qr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},$r=function(e,t,n,r){if((!r||void 0!==n)&&!qr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Yr=function(e,t,n,r){if((!r||void 0!==n)&&!Br(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xr=function(e,t){if(".info"===ge(t))throw new Error(e+" failed = Can't modify data under /.info/")},Zr=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!qr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Br(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Jr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")},ei=function(){this.eventLists_=[],this.recursionDepth_=0};function ti(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||ke(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ni(e,t,n){ti(e,n),ii(e,(function(e){return ke(e,t)}))}function ri(e,t,n){ti(e,n),ii(e,(function(e){return Ce(e,t)||Ce(t,e)}))}function ii(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(oi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function oi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();_&&S("event: "+n.toString()),q(r)}}}var ai="repo_interrupt",si=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ei,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ot(),this.transactionQueueTree_=new Nr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ui(e,t,n){if(e.stats_=te(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new At(e.repoInfo_,(function(t,n,r,i){fi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return hi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Me(e.repoInfo_,t,(function(t,n,r,i){fi(e,t,n,r,i)}),(function(t){hi(e,t)}),(function(t){!function(e,t){M(t,(function(t,n){di(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return ee[n]||(ee[n]=t()),ee[n]}(e.repoInfo_,(function(){return new jt(e.stats_,e.server_)})),e.infoData_=new Pt,e.infoSyncTree_=new nr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=ar(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),di(e,"connected",!1),e.serverSyncTree_=new nr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ri(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ci(e){var t=e.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function li(e){return(t=(t={timestamp:ci(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function fi(e,t,n,r,i){e.dataUpdateCount++;var a=new pe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(e){return ct(e)}));s=function(e,t,n,r){var i=mr(e,r);if(i){var o=yr(i),a=o.path,s=o.queryId,u=Ie(a,t),c=Jt.fromObject(n);return _r(e,a,new Kt(Ut(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=ct(n);s=function(e,t,n,r){var i=mr(e,r);if(null!=i){var o=yr(i),a=o.path,s=o.queryId,u=Ie(a,t);return _r(e,a,new zt(Ut(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(e){return ct(e)}));s=function(e,t,n){var r=Jt.fromObject(n);return fr(e,new Kt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var f=ct(n);s=ar(e.serverSyncTree_,a,f)}var h=a;s.length>0&&(h=Ii(e,a)),ri(e.eventQueue_,h,s)}function hi(e,t){di(e,"connected",t),!1===t&&function(e){bi(e,"onDisconnectEvents");var t=li(e),n=Ot();Mt(e.onDisconnect_,ve(),(function(r,i){var o=kr(r,i,e.serverSyncTree_,t);Rt(n,r,o)}));var r=[];Mt(n,ve(),(function(t,n){r=r.concat(ar(e.serverSyncTree_,t,n));var i=Ni(e,t);Ii(e,i)})),e.onDisconnect_=Ot(),ri(e.eventQueue_,ve(),r)}(e)}function di(e,t,n){var r=new pe("/.info/"+t),i=ct(n);e.infoData_.updateSnapshot(r,i);var o=ar(e.infoSyncTree_,r,i);ri(e.eventQueue_,r,o)}function pi(e){return e.nextWriteId_++}function vi(e,t,n,r,i){bi(e,"set",{path:t.toString(),value:n,priority:r});var o=li(e),a=ct(n,r),s=cr(e.serverSyncTree_,t),u=Cr(a,s,o),c=pi(e),l=rr(e.serverSyncTree_,t,u,c,!0);ti(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||k("set at "+t+" failed: "+n);var a=or(e.serverSyncTree_,c,!o);ri(e.eventQueue_,t,a),wi(e,i,n,r)}));var f=Ni(e,t);Ii(e,f),ri(e.eventQueue_,f,[])}function gi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Dt(e.onDisconnect_,t),wi(e,n,r,i)}))}function mi(e,t,n,r){var i=ct(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Rt(e.onDisconnect_,t,i),wi(e,r,n,o)}))}function yi(e,t,n){var r;r=".info"===ge(t._path)?sr(e.infoSyncTree_,t,n):sr(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}function _i(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ai)}function bi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),S.apply(void 0,(0,a.__spreadArray)([r],(0,a.__read)(t)))}function wi(e,t,n,r){t&&q((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Si(e,t,n){return cr(e.serverSyncTree_,t,n)||st.EMPTY_NODE}function Ei(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||xi(e,t),Pr(t)){var n=ki(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Si(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Ie(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var f=a.val(!0),h=t;e.server_.put(h.toString(),f,(function(r){bi(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(or(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);xi(e,Ar(e.transactionQueueTree_,t)),Ei(e,e.transactionQueueTree_),ri(e.eventQueue_,t,i);for(s=0;s<o.length;s++)q(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{k("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ii(e,t)}}),s)}(e,Lr(t),n)}else Rr(t)&&Dr(t,(function(t){Ei(e,t)}))}function Ii(e,t){var n=Ti(e,t),r=Lr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],f=Ie(n,l.path),h=!1;if((0,o.assert)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,u=l.abortReason,i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)h=!0,u="maxretry",i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0));else{var d=Si(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Wr("transaction failed: Data returned ",p,l.path);var v=ct(p);"object"===typeof p&&null!=p&&(0,o.contains)(p,".priority")||(v=v.updatePriority(d.getPriority()));var g=l.currentWriteId,m=li(e),y=Cr(v,d,m);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=y,l.currentWriteId=pi(e),a.splice(a.indexOf(g),1),i=(i=i.concat(rr(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(or(e.serverSyncTree_,g,!0))}else h=!0,u="nodata",i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0))}ri(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);xi(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)q(r[u]);Ei(e,e.transactionQueueTree_)}(e,ki(e,n),r),r}function Ti(e,t){var n,r=e.transactionQueueTree_;for(n=ge(t);null!==n&&void 0===Pr(r);)r=Ar(r,n),n=ge(t=ye(t));return r}function ki(e,t){var n=[];return Ci(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ci(e,t,n){var r=Pr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Dr(t,(function(t){Ci(e,t,n)}))}function xi(e,t){var n=Pr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Or(t,n.length>0?n:void 0)}Dr(t,(function(t){xi(e,t)}))}function Ni(e,t){var n=Lr(Ti(e,t)),r=Ar(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Ai(e,t)})),Ai(e,r),Mr(r,(function(t){Ai(e,t)})),n}function Ai(e,t){var n=Pr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(or(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Or(t,void 0):n.length=a+1,ri(e.eventQueue_,Lr(t),i);for(s=0;s<r.length;s++)q(r[s])}}var Pi=function(e,t){var n=Oi(e),r=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Y(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new pe(n.pathString)}},Oi=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var f=e.indexOf("/");-1===f&&(f=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(f,h)),f<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(f,h)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):k("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Ri=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),Di=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Mi=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Li=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return gi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Xr("OnDisconnect.remove",this._path);var e=new o.Deferred;return mi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Xr("OnDisconnect.set",this._path),Kr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return mi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Xr("OnDisconnect.setWithPriority",this._path),Kr("OnDisconnect.setWithPriority",e,this._path,!1),Gr("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=ct(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Rt(e.onDisconnect_,t,o),wi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Xr("OnDisconnect.update",this._path),Hr("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return S("onDisconnect().update() called with empty data.  Don't do anything."),void wi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&M(n,(function(n,r){var i=ct(r);Rt(e.onDisconnect_,Se(t,n),i)})),wi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Fi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Ee(this._path)?null:_e(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new qi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Nt(this._queryParams),t=R(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Nt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=ke(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function ji(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ui(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ue){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==x)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==N)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===tt){if(null!=t&&!zr(t)||null!=n&&!zr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof lt||e.getIndex()===ht,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Vi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var qi=function(e){function t(t,n){return e.call(this,t,n,new It,!1)||this}return(0,a.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=we(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Fi),Bi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new pe(t),r=Wi(this.ref,t);return new e(this._node.getChild(n),r,tt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Wi(n.ref,r),tt))}))},e.prototype.hasChild=function(e){var t=new pe(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function zi(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Wi(e._root,t):e._root}function Ki(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Pi(t,e._repo.repoInfo_.nodeAdmin);Zr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||T("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),zi(e,n.path.toString())}function Wi(e,t){var n,r,i,a;return null===ge((e=(0,o.getModularInstance)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Yr(n,r,i,a)):Yr("child","path",t,!1),new qi(e._repo,Se(e._path,t))}function Hi(e,t){e=(0,o.getModularInstance)(e),Xr("push",e._path),Kr("push",t,e._path,!0);var n,r=ci(e._repo),i=pt(r),a=Wi(e,i),s=Wi(e,i);return n=null!=t?Qi(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Gi(e){return Xr("remove",e._path),Qi(e,null)}function Qi(e,t){e=(0,o.getModularInstance)(e),Xr("set",e._path),Kr("set",t,e._path,!1);var n=new o.Deferred;return vi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function $i(e,t){e=(0,o.getModularInstance)(e),Xr("setPriority",e._path),Gr("setPriority",t,!1);var n=new o.Deferred;return vi(e._repo,Se(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Yi(e,t,n){if(Xr("setWithPriority",e._path),Kr("setWithPriority",t,e._path,!1),Gr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return vi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Xi(e,t){Hr("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){bi(e,"update",{path:t.toString(),value:n});var i=!0,o=li(e),a={};if(M(n,(function(n,r){i=!1,a[n]=kr(Se(t,n),ct(r),e.serverSyncTree_,o)})),i)S("update() called with empty data.  Don't do anything."),wi(0,r,"ok",void 0);else{var s=pi(e),u=ir(e.serverSyncTree_,t,a,s);ti(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||k("update at "+t+" failed: "+n);var a=or(e.serverSyncTree_,s,!o),u=a.length>0?Ii(e,t):t;ri(e.eventQueue_,u,a),wi(0,r,n,i)})),M(n,(function(n){var r=Ni(e,Se(t,n));Ii(e,r)})),ri(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Zi(e){return function(e,t){var n=lr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=ct(n).withIndex(t._queryParams.getIndex()),i=ar(e.serverSyncTree_,t._path,r);return ni(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return bi(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.getModularInstance)(e))._repo,e).then((function(t){return new Bi(t,new qi(e._repo,e._path),e._queryParams.getIndex())}))}var Ji=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Ri("value",this,new Bi(e.snapshotNode,new qi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Di(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),eo=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Di(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=Wi(new qi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ri(e.type,this,new Bi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function to(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){yi(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Mi(n,o||void 0),c="value"===t?new Ji(u):new eo(t,u);return function(e,t,n){var r;r=".info"===ge(t._path)?ur(e.infoSyncTree_,t,n):ur(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return yi(e._repo,e,c)}}function no(e,t,n,r){return to(e,"value",t,n,r)}function ro(e,t,n,r){return to(e,"child_added",t,n,r)}function io(e,t,n,r){return to(e,"child_changed",t,n,r)}function oo(e,t,n,r){return to(e,"child_moved",t,n,r)}function ao(e,t,n,r){return to(e,"child_removed",t,n,r)}function so(e,t,n){var r=null,i=n?new Mi(n):null;"value"===t?r=new Ji(i):t&&(r=new eo(t,i)),yi(e._repo,e,r)}var uo=function(){},co=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Kr("endAt",this._value,e._path,!0);var t=kt(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(uo);function lo(e,t){return $r("endAt","key",t,!0),new co(e,t)}var fo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Kr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ue?("string"===typeof t&&(t=gt(t)),r=kt(e,t,n)):r=kt(e,t,null==n?x:gt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(uo);function ho(e,t){return $r("endBefore","key",t,!0),new fo(e,t)}var po=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Kr("startAt",this._value,e._path,!0);var t=Tt(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(uo);function vo(e,t){return void 0===e&&(e=null),$r("startAt","key",t,!0),new po(e,t)}var go=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Kr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Ue?("string"===typeof t&&(t=vt(t)),r=Tt(e,t,n)):r=Tt(e,t,null==n?N:vt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(uo);function mo(e,t){return $r("startAfter","key",t,!0),new go(e,t)}var yo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);function _o(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yo(e)}var bo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);function wo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new bo(e)}var So=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){ji(e,"orderByChild");var t=new pe(this._path);if(Ee(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new lt(t),r=Ct(e._queryParams,n);return Ui(r),new Fi(e._repo,e._path,r,!0)},t}(uo);function Eo(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Yr("orderByChild","path",e,!1),new So(e)}var Io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){ji(e,"orderByKey");var t=Ct(e._queryParams,Ue);return Ui(t),new Fi(e._repo,e._path,t,!0)},t}(uo);function To(){return new Io}var ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){ji(e,"orderByPriority");var t=Ct(e._queryParams,tt);return Ui(t),new Fi(e._repo,e._path,t,!0)},t}(uo);function Co(){return new ko}var xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){ji(e,"orderByValue");var t=Ct(e._queryParams,ht);return Ui(t),new Fi(e._repo,e._path,t,!0)},t}(uo);function No(){return new xo}var Ao=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(Kr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new co(this._value,this._key)._apply(new po(this._value,this._key)._apply(e))},t}(uo);function Po(e,t){return $r("equalTo","key",t,!0),new Ao(e,t)}function Oo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.getModularInstance)(e);try{for(var u=(0,a.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.assert)(!Ln,"__referenceConstructor has already been defined"),Ln=e}(qi),function(e){(0,o.assert)(!zn,"__referenceConstructor has already been defined"),zn=e}(qi);var Ro={},Do=!1;function Mo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),S("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Pi(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Pi(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new W(W.OWNER):new K(e.name,e.options,t);Zr("Invalid Firebase Database URL",s),Ee(s.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Ro[t.name];i||(i={},Ro[t.name]=i);var o=i[e.toURLString()];o&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new si(e,Do,n,r),i[e.toURLString()]=o,o}(u,e,l,new z(e.name,n));return new Lo(f,e)}var Lo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(ui(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new qi(this._repo,ve())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=Ro[t];n&&n[e.key]===e||T("Database "+t+"("+e.repoInfo_+") has already been deleted."),_i(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&T("Cannot call "+e+" on a deleted database.")},e}();function Fo(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&T("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&T('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new W(W.OWNER);else if(r.mockUserToken){var s=(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new W(s)}!function(e,t,n,r){e.repoInfo_=new Y(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function jo(e){(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),_i(e._repo)}function Uo(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ai)}var Vo={".sv":"timestamp"};var qo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Bo(e,t,n){var r;if(e=(0,o.getModularInstance)(e),Xr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=no(e,(function(){}));return function(e,t,n,r,i,a){bi(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:g(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Si(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Wr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Ar(e.transactionQueueTree_,t),f=Pr(l)||[];f.push(s),Or(l,f);var h=void 0;"object"===typeof c&&null!==c&&(0,o.contains)(c,".priority")?(h=(0,o.safeGet)(c,".priority"),(0,o.assert)(zr(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(cr(e.serverSyncTree_,t)||st.EMPTY_NODE).getPriority().val();var d=li(e),p=ct(c,h),v=Cr(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=pi(e);var m=rr(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);ri(e.eventQueue_,t,m),Ei(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Bi(r,new qi(e._repo,e._path),tt),a.resolve(new qo(n,i)))}),s,i),a.promise}var zo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Ko=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Wo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Yr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Yr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Go(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ho=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Wo(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return no(this._delegate,c,l),n;case"child_added":return ro(this._delegate,c,l),n;case"child_removed":return ao(this._delegate,c,l),n;case"child_changed":return io(this._delegate,c,l),n;case"child_moved":return oo(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),Qr("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,so(this._delegate,e,r)}else so(this._delegate,e)},e.prototype.get=function(){var e=this;return Zi(this._delegate).then((function(t){return new Wo(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Wo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":no(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":ro(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":ao(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":io(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":oo(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Oo(this._delegate,_o(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,Oo(this._delegate,wo(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,Oo(this._delegate,Eo(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,Oo(this._delegate,To()))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Oo(this._delegate,Co()))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,Oo(this._delegate,No()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,Oo(this._delegate,vo(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,Oo(this._delegate,mo(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,Oo(this._delegate,lo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,Oo(this._delegate,ho(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,Oo(this._delegate,Po(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Go(this.database,new qi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Go=function(e){function t(t,n){var r=e.call(this,t,new Fi(n._repo,n._path,new It,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.__extends)(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Wi(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=Qi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xr("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=Xi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Yi(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=Gi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),Jr("Reference.transaction","applyLocally",n,!0);var i=Bo(this._delegate,e,{applyLocally:n}).then((function(e){return new Ko(e.committed,new Wo(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=$i(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Hi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Xr("Reference.onDisconnect",this._delegate._path),new zo(new Li(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Ho),Qo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Fo(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Go){var t=Ki(this._delegate,e.toString());return new Go(this,t)}t=zi(this._delegate,e);return new Go(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.validateArgCount)(t,1,1,arguments.length);var n=Ki(this._delegate,e);return new Go(this,n)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),jo(this._delegate)},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),Uo(this._delegate)},e.ServerValue={TIMESTAMP:Vo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var $o=Object.freeze({__proto__:null,forceLongPolling:function(){ue.forceDisallow(),oe.forceAllow()},forceWebSockets:function(){oe.forceDisallow()},isWebSocketsAvailable:function(){return ue.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Ft(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);M(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;c(r);var l=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return l.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Qo(Mo(t,l,void 0,n,u),t),namespace:a}}}),Yo=Me;Me.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Me.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Xo=le,Zo=Y,Jo=Object.freeze({__proto__:null,DataConnection:Yo,RealTimeConnection:Xo,hijackHash:function(e){var t=Me.prototype.put;return Me.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Me.prototype.put=t}},ConnectionTarget:Zo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Do=e}(e)}}),ea=Qo.ServerValue;!function(t){c(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Qo(Mo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Go,Query:Ho,Database:Qo,DataSnapshot:Wo,enableLogging:w,INTERNAL:$o,ServerValue:ea,TEST_ACCESS:Jo}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.10.9"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},4185:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:function(){return o},Logger:function(){return f},setLogLevel:function(){return h},setUserLogHandler:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function h(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},6616:function(e,t,n){"use strict";n.r(t),n.d(t,{CONSTANTS:function(){return i},Deferred:function(){return d},ErrorFactory:function(){return P},FirebaseError:function(){return A},MAX_VALUE_MILLIS:function(){return ue},RANDOM_FACTOR:function(){return ce},Sha1:function(){return Y},areCookiesEnabled:function(){return x},assert:function(){return o},assertionError:function(){return a},async:function(){return J},base64:function(){return u},base64Decode:function(){return l},base64Encode:function(){return c},calculateBackoffMillis:function(){return le},contains:function(){return q},createMockUserToken:function(){return p},createSubscribe:function(){return X},decode:function(){return L},deepCopy:function(){return f},deepEqual:function(){return W},deepExtend:function(){return h},errorPrefix:function(){return ne},extractQuerystring:function(){return $},getGlobal:function(){return N},getModularInstance:function(){return he},getUA:function(){return v},isAdmin:function(){return V},isBrowser:function(){return y},isBrowserExtension:function(){return _},isElectron:function(){return w},isEmpty:function(){return z},isIE:function(){return S},isIndexedDBAvailable:function(){return k},isMobileCordova:function(){return g},isNode:function(){return m},isNodeSdk:function(){return I},isReactNative:function(){return b},isSafari:function(){return T},isUWP:function(){return E},isValidFormat:function(){return U},isValidTimestamp:function(){return F},issuedAtTime:function(){return j},jsonEval:function(){return D},map:function(){return K},ordinal:function(){return fe},querystring:function(){return G},querystringDecode:function(){return Q},safeGet:function(){return B},stringLength:function(){return se},stringToByteArray:function(){return ae},stringify:function(){return M},validateArgCount:function(){return te},validateCallback:function(){return ie},validateContextObject:function(){return oe},validateIndexedDBOpenable:function(){return C},validateNamespace:function(){return re}});var r=n(2349),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},l=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function f(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}var d=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function p(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),u.encodeString(JSON.stringify(a),!1),""].join(".")}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function m(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function y(){return"object"===typeof self&&self.self===self}function _(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function b(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function w(){return v().indexOf("Electron/")>=0}function S(){var e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return v().indexOf("MSAppHost/")>=0}function I(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function T(){return!m()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){return"indexedDB"in self&&null!=indexedDB}function C(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function x(){return!(!navigator||!navigator.cookieEnabled)}function N(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}var A=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,P.prototype.create),o}return(0,r.__extends)(t,e),t}(Error),P=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?O(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new A(i,s,r);return u},e}();function O(e,t){return e.replace(R,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var R=/\{\$([^}]+)}/g;function D(e){return JSON.parse(e)}function M(e){return JSON.stringify(e)}var L=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=D(l(o[0])||""),n=D(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},F=function(e){var t=L(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},j=function(e){var t=L(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},U=function(e){var t=L(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},V=function(e){var t=L(e).claims;return"object"===typeof t&&!0===t.admin};function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function z(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function K(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function W(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(H(s)&&H(u)){if(!W(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function H(e){return null!==e&&"object"===typeof e}function G(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function Q(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function $(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Y=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function X(e,t){var n=new Z(e,t);return n.subscribe.bind(n)}var Z=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ee),void 0===r.error&&(r.error=ee),void 0===r.complete&&(r.complete=ee);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function J(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function ee(){}var te=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ne(e,t){return e+" failed: "+t+" argument "}function re(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(ne(e,"namespace")+"must be a valid firebase namespace.")}function ie(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ne(e,t)+"must be a valid function.")}function oe(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ne(e,t)+"must be a valid context object.")}var ae=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},se=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ue=144e5,ce=.5;function le(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(ce*r*(Math.random()-.5)*2);return Math.min(ue,r+i)}function fe(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function he(e){return e&&e._delegate?e._delegate:e}},8457:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function g(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},2349:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return S},__await:function(){return _},__awaiter:function(){return l},__classPrivateFieldGet:function(){return C},__classPrivateFieldIn:function(){return N},__classPrivateFieldSet:function(){return x},__createBinding:function(){return h},__decorate:function(){return s},__exportStar:function(){return d},__extends:function(){return i},__generator:function(){return f},__importDefault:function(){return k},__importStar:function(){return T},__makeTemplateObject:function(){return E},__metadata:function(){return c},__param:function(){return u},__read:function(){return v},__rest:function(){return a},__spread:function(){return g},__spreadArray:function(){return y},__spreadArrays:function(){return m},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var h=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof _?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var I=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return I(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function x(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function N(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5263:function(e,t,n){var r=n(8698).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=a?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},5987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,o=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".8653b062.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="linkedin-clone:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunklinkedin_clone=self.webpackChunklinkedin_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(2791),t=n(1250),r=n(7248),i=n(327),o=n(4164);var a=function(e){e()},s=function(){return a},u=e.createContext(null);function c(){return(0,e.useContext)(u)}var l=function(){throw new Error("uSES not initialized!")},f=l,h=function(e,t){return e===t};function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=t===u?c:function(){return(0,e.useContext)(t)};return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;var i=n(),o=i.store,a=i.subscription,s=i.getServerState,u=f(a.addNestedSub,o.getState,s||o.getState,t,r);return(0,e.useDebugValue)(u),u}}var p=d();n(2110),n(6900);var v={notify:function(){},get:function(){return[]}};function g(e,t){var n,r=v;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=v)},getListeners:function(){return r}};return a}var m=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;var y=function(t){var n=t.store,r=t.context,i=t.children,o=t.serverState,a=(0,e.useMemo)((function(){var e=g(n);return{store:n,subscription:e,getServerState:o?function(){return o}:void 0}}),[n,o]),s=(0,e.useMemo)((function(){return n.getState()}),[n]);m((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,s]);var c=r||u;return e.createElement(c.Provider,{value:a},i)};function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=t===u?c:function(){return(0,e.useContext)(t)};return function(){return n().store}}var b=_();function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=e===u?b:_(e);return function(){return t().dispatch}}var S,E=w();function I(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function T(e){return!!e&&!!e[pe]}function k(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ve}(e)||Array.isArray(e)||!!e[de]||!!e.constructor[de]||R(e)||D(e))}function C(e,t,n){void 0===n&&(n=!1),0===x(e)?(n?Object.keys:ge)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function x(e){var t=e[pe];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:R(e)?2:D(e)?3:0}function N(e,t){return 2===x(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function A(e,t){return 2===x(e)?e.get(t):e[t]}function P(e,t,n){var r=x(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function O(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function R(e){return ce&&e instanceof Map}function D(e){return le&&e instanceof Set}function M(e){return e.o||e.t}function L(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=me(e);delete t[pe];for(var n=ge(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function F(e,t){return void 0===t&&(t=!1),U(e)||T(e)||!k(e)||(x(e)>1&&(e.set=e.add=e.clear=e.delete=j),Object.freeze(e),t&&C(e,(function(e,t){return F(t,!0)}),!0)),e}function j(){I(2)}function U(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function V(e){var t=ye[e];return t||I(18,e),t}function q(e,t){ye[e]||(ye[e]=t)}function B(){return se}function z(e,t){t&&(V("Patches"),e.u=[],e.s=[],e.v=t)}function K(e){W(e),e.p.forEach(G),e.p=null}function W(e){e===se&&(se=e.l)}function H(e){return se={p:[],l:se,h:e,m:!0,_:0}}function G(e){var t=e[pe];0===t.i||1===t.i?t.j():t.O=!0}function Q(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||V("ES5").S(t,e,r),r?(n[pe].P&&(K(t),I(4)),k(e)&&(e=$(t,e),t.l||X(t,e)),t.u&&V("Patches").M(n[pe].t,e,t.u,t.s)):e=$(t,n,[]),K(t),t.u&&t.v(t.u,t.s),e!==he?e:void 0}function $(e,t,n){if(U(t))return t;var r=t[pe];if(!r)return C(t,(function(i,o){return Y(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return X(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=L(r.k):r.o;C(3===r.i?new Set(i):i,(function(t,o){return Y(e,r,i,t,o,n)})),X(e,i,!1),n&&e.u&&V("Patches").R(r,n,e.u,e.s)}return r.o}function Y(e,t,n,r,i,o){if(T(i)){var a=$(e,i,o&&t&&3!==t.i&&!N(t.D,r)?o.concat(r):void 0);if(P(n,r,a),!T(a))return;e.m=!1}if(k(i)&&!U(i)){if(!e.h.F&&e._<1)return;$(e,i),t&&t.A.l||X(e,i)}}function X(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&F(t,n)}function Z(e,t){var n=e[pe];return(n?M(n):e)[t]}function J(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ee(e){e.P||(e.P=!0,e.l&&ee(e.l))}function te(e){e.o||(e.o=L(e.t))}function ne(e,t,n){var r=R(t)?V("MapSet").N(t,n):D(t)?V("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:B(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=_e;n&&(i=[r],o=be);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):V("ES5").J(t,n);return(n?n.A:B()).p.push(r),r}function re(e){return T(e)||I(22,e),function e(t){if(!k(t))return t;var n,r=t[pe],i=x(t);if(r){if(!r.P&&(r.i<4||!V("ES5").K(r)))return r.t;r.I=!0,n=ie(t,i),r.I=!1}else n=ie(t,i);return C(n,(function(t,i){r&&A(r.t,t)===i||P(n,t,e(i))})),3===i?new Set(n):n}(e)}function ie(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return L(e)}function oe(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[pe];return _e.get(t,e)},set:function(t){var n=this[pe];_e.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][pe];if(!i.P)switch(i.i){case 5:r(i)&&ee(i);break;case 4:n(i)&&ee(i)}}}function n(e){for(var t=e.t,n=e.k,r=ge(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==pe){var a=t[o];if(void 0===a&&!N(t,o))return!0;var s=n[o],u=s&&s[pe];if(u?u.t!==a:!O(s,a))return!0}}var c=!!t[pe];return r.length!==ge(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};q("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=me(n);delete o[pe];for(var a=ge(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:B(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,pe,{value:o,writable:!0}),i},S:function(e,n,i){i?T(n)&&n[pe].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[pe];if(n){var i=n.t,o=n.k,a=n.D,s=n.i;if(4===s)C(o,(function(t){t!==pe&&(void 0!==i[t]||N(i,t)?a[t]||e(o[t]):(a[t]=!0,ee(n)))})),C(i,(function(e){void 0!==o[e]||N(o,e)||(a[e]=!1,ee(n))}));else if(5===s){if(r(n)&&(ee(n),a.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)a[u]=!1;else for(var c=i.length;c<o.length;c++)a[c]=!0;for(var l=Math.min(o.length,i.length),f=0;f<l;f++)o.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){f=e}(i.useSyncExternalStoreWithSelector),function(e){e}(r.useSyncExternalStore),S=o.unstable_batchedUpdates,a=S;var ae,se,ue="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ce="undefined"!=typeof Map,le="undefined"!=typeof Set,fe="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,he=ue?Symbol.for("immer-nothing"):((ae={})["immer-nothing"]=!0,ae),de=ue?Symbol.for("immer-draftable"):"__$immer_draftable",pe=ue?Symbol.for("immer-state"):"__$immer_state",ve=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ge="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,me=Object.getOwnPropertyDescriptors||function(e){var t={};return ge(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ye={},_e={get:function(e,t){if(t===pe)return e;var n=M(e);if(!N(n,t))return function(e,t,n){var r,i=J(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!k(r)?r:r===Z(e.t,t)?(te(e),e.o[t]=ne(e.A.h,r,e)):r},has:function(e,t){return t in M(e)},ownKeys:function(e){return Reflect.ownKeys(M(e))},set:function(e,t,n){var r=J(M(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Z(M(e),t),o=null==i?void 0:i[pe];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(O(n,i)&&(void 0!==n||N(e.t,t)))return!0;te(e),ee(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Z(e.t,t)||t in e.t?(e.D[t]=!1,te(e),ee(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=M(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){I(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){I(12)}},be={};C(_e,(function(e,t){be[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),be.deleteProperty=function(e,t){return be.set.call(this,e,t,void 0)},be.set=function(e,t,n){return _e.set.call(this,e[0],t,n,e[0])};var we=function(){function e(e){var t=this;this.g=fe,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&I(6),void 0!==r&&"function"!=typeof r&&I(7),k(e)){var s=H(t),u=ne(t,e,void 0),c=!0;try{a=n(u),c=!1}finally{c?K(s):W(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return z(s,r),Q(e,s)}),(function(e){throw K(s),e})):(z(s,r),Q(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===he&&(a=void 0),t.F&&F(a,!0),r){var l=[],f=[];V("Patches").M(e,a,l,f),r(l,f)}return a}I(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){k(e)||I(8),T(e)&&(e=re(e));var t=H(this),n=ne(this,e,void 0);return n[pe].C=!0,W(t),n},t.finishDraft=function(e,t){var n=(e&&e[pe]).A;return z(n,t),Q(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!fe&&I(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=V("Patches").$;return T(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Se=new we,Ee=Se.produce,Ie=(Se.produceWithPatches.bind(Se),Se.setAutoFreeze.bind(Se),Se.setUseProxies.bind(Se),Se.applyPatches.bind(Se),Se.createDraft.bind(Se),Se.finishDraft.bind(Se),Ee),Te=n(4942);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){(0,Te.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ne="function"===typeof Symbol&&Symbol.observable||"@@observable",Ae=function(){return Math.random().toString(36).substring(7).split("").join(".")},Pe={INIT:"@@redux/INIT"+Ae(),REPLACE:"@@redux/REPLACE"+Ae(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ae()}};function Oe(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Re(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(xe(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(xe(1));return n(Re)(e,t)}if("function"!==typeof e)throw new Error(xe(2));var i=e,o=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(xe(3));return o}function f(e){if("function"!==typeof e)throw new Error(xe(4));if(u)throw new Error(xe(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(xe(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!Oe(e))throw new Error(xe(7));if("undefined"===typeof e.type)throw new Error(xe(8));if(u)throw new Error(xe(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(xe(10));i=e,h({type:Pe.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(xe(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Ne]=function(){return this},e}return h({type:Pe.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[Ne]=p,r}function De(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Pe.INIT}))throw new Error(xe(12));if("undefined"===typeof n(void 0,{type:Pe.PROBE_UNKNOWN_ACTION()}))throw new Error(xe(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(xe(14))}i[u]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}function Me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(xe(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Me.apply(void 0,o)(n.dispatch),Ce(Ce({},n),{},{dispatch:r})}}}function Fe(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var je=Fe();je.withExtraArgument=Fe;var Ue=je,Ve=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qe=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Be=Object.defineProperty,ze=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Ke=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable,He=function(e,t,n){return t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ge=function(e,t){for(var n in t||(t={}))Ke.call(t,n)&&He(e,n,t[n]);if(ze)for(var r=0,i=ze(t);r<i.length;r++){n=i[r];We.call(t,n)&&He(e,n,t[n])}return e},Qe="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Me:Me.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function $e(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Ye=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Ve(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,qe([void 0],e[0].concat(this)))):new(t.bind.apply(t,qe([void 0],e.concat(this))))},t}(Array);function Xe(e){return k(e)?Ie(e,(function(){})):e}function Ze(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Ye);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Ue.withExtraArgument(n.extraArgument)):r.push(Ue));0;return r}(e)}}function Je(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ge(Ge({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function et(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}Object.assign;var tt="listenerMiddleware";Je(tt+"/add"),Je(tt+"/removeAll"),Je(tt+"/remove");oe();var nt=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Xe(e.initialState),i=e.reducers||{},o=Object.keys(i),a={},s={},u={};function c(){var t="function"===typeof e.extraReducers?et(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,u=t[2],c=void 0===u?void 0:u,l=Ge(Ge({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?et(t):[t,n,r],a=o[0],s=o[1],u=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return Xe(e())};else{var c=Xe(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=qe([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(T(e))return"undefined"===typeof(r=n(e,t))?e:r;if(k(e))return Ie(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,a,c)}return o.forEach((function(e){var n,r,o=i[e],c=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,s[c]=n,u[e]=r?Je(c,r):Je(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),rt=nt.actions,it=rt.login,ot=rt.logout,at=function(e){return e.user.user},st=function(e){var t,n=Ze(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof o)t=o;else{if(!$e(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=De(o)}var p=s;"function"===typeof p&&(p=p(n));var v=Le.apply(void 0,p),g=Me;c&&(g=Qe(Ge({trace:!1},"object"===typeof c&&c)));var m=[v];return Array.isArray(d)?m=qe([v],d):"function"===typeof d&&(m=d(m)),Re(t,f,g.apply(void 0,m))}({reducer:{user:nt.reducer}}),ut=n(885),ct=n(5195),lt=n(184);var ft=function(e){var t=e.Icon,n=e.title,r=e.color;return(0,lt.jsxs)("div",{className:"inputOptions",children:[(0,lt.jsx)(t,{style:{color:r}}),(0,lt.jsx)("h4",{children:n})]})},ht=n(1078),dt=n(1534),pt=n(406),vt=n(4995),gt=n(7462),mt=n(5987),yt=n(8182),_t=n(3602),bt=(0,n(8499).Z)(e.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var wt=e.forwardRef((function(t,n){var r=t.alt,i=t.children,o=t.classes,a=t.className,s=t.component,u=void 0===s?"div":s,c=t.imgProps,l=t.sizes,f=t.src,h=t.srcSet,d=t.variant,p=void 0===d?"circular":d,v=(0,mt.Z)(t,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),g=null,m=function(t){var n=t.src,r=t.srcSet,i=e.useState(!1),o=i[0],a=i[1];return e.useEffect((function(){if(n||r){a(!1);var e=!0,t=new Image;return t.src=n,t.srcSet=r,t.onload=function(){e&&a("loaded")},t.onerror=function(){e&&a("error")},function(){e=!1}}}),[n,r]),o}({src:f,srcSet:h}),y=f||h,_=y&&"error"!==m;return g=_?e.createElement("img",(0,gt.Z)({alt:r,src:f,srcSet:h,sizes:l,className:o.img},c)):null!=i?i:y&&r?r[0]:e.createElement(bt,{className:o.fallback}),e.createElement(u,(0,gt.Z)({className:(0,yt.Z)(o.root,o.system,o[p],a,!_&&o.colorDefault),ref:n},v),g)})),St=(0,_t.Z)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(wt),Et=n(4212),It=n(9839),Tt=n(6596),kt=n(671),Ct=(0,e.forwardRef)((function(e,t){var n=e.name,r=e.description,i=e.message,o=e.photoUrl;return(0,lt.jsxs)("div",{ref:t,className:"post",children:[(0,lt.jsxs)("div",{className:"post__header",children:[(0,lt.jsx)(St,{src:o,children:n[0]}),(0,lt.jsxs)("div",{className:"post__info",children:[(0,lt.jsx)("h2",{children:n}),(0,lt.jsx)("p",{children:r})]})]}),(0,lt.jsx)("div",{className:"post__body",children:(0,lt.jsx)("p",{children:i})}),(0,lt.jsxs)("div",{className:"post__buttons",children:[(0,lt.jsx)(ft,{Icon:Et.Z,title:"Like",color:"gray"}),(0,lt.jsx)(ft,{Icon:It.Z,title:"Comment",color:"gray"}),(0,lt.jsx)(ft,{Icon:Tt.Z,title:"Share",color:"gray"}),(0,lt.jsx)(ft,{Icon:kt.Z,title:"Send",color:"gray"})]})]})})),xt=Ct,Nt=n(4151);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(q){t.reject(q)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(M){this.f(M)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(q){return void this.g(q)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(M){n.reject(M)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(so){o(so)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function f(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==h(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++y)}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:b).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now;function I(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function T(e){return e}function k(e,t,n){this.code=N+e,this.message=t||R[e]||"",this.a=n||null}function C(e){var t=e&&e.code;return t?new k(t.substring(N.length),e.message,e.serverResponse):null}I(k,Error),k.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},k.prototype.toJSON=function(){return this.w()};var x,N="auth/",R={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function L(e){for(var t in D)if(D[t].id===e)return{firebaseEndpoint:(e=D[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function U(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(V){return!1}}function B(e){if(Error.captureStackTrace)Error.captureStackTrace(this,B);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function z(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");B.call(this,n+e[r])}function K(e,t){throw new z("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function H(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function G(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function Q(){this.b=this.a=null}x=L("__EID__")?"__EID__":void 0,I(B,Error),B.prototype.name="CustomError",I(z,B),z.prototype.name="AssertionError",H.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var $=new H((function(){return new X}),(function(e){e.reset()}));function Y(){var e=xt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function X(){this.next=this.b=this.a=null}Q.prototype.add=function(e,t){var n=$.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},X.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},X.prototype.reset=function(){this.next=this.b=this.a=null};var Z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},J=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var ee=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},te=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},ne=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function re(e,t){return 0<=Z(e,t)}function ie(e,t){var n;return(n=0<=(t=Z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function oe(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function ae(e){return Array.prototype.concat.apply([],arguments)}function se(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ue,ce=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},le=/&/g,fe=/</g,he=/>/g,de=/"/g,pe=/'/g,ve=/\x00/g,ge=/[\x00&<>"']/;function me(e,t){return-1!=e.indexOf(t)}function ye(e,t){return e<t?-1:e>t?1:0}e:{var _e=s.navigator;if(_e){var be=_e.userAgent;if(be){ue=be;break e}}ue=""}function we(e){return me(ue,e)}function Se(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function Ee(e){for(var t in e)return!1;return!0}function Ie(e){var t,n={};for(t in e)n[t]=e[t];return n}var Te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ke(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Te.length;o++)n=Te[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ce(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(W){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(W){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;K("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function xe(e,t){this.a=e===Oe&&t||"",this.b=Pe}function Ne(e){return e instanceof xe&&e.constructor===xe&&e.b===Pe?e.a:(K("expected object of type Const, got '"+e+"'"),"type_error:Const")}xe.prototype.ta=!0,xe.prototype.sa=function(){return this.a},xe.prototype.toString=function(){return"Const{"+this.a+"}"};var Ae,Pe={},Oe={};function Re(){if(void 0===Ae){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(O){s.console&&s.console.error(O.message)}Ae=e}else Ae=e}return Ae}function De(e,t){this.a=t===Ue?e:""}function Me(e){return e instanceof De&&e.constructor===De?e.a:(K("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Le(e,t){var n=Ne(e);if(!je.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Fe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof xe?Ne(e):encodeURIComponent(String(e))})),function(e){var t=Re();return new De(e=t?t.createScriptURL(e):e,Ue)}(e)}De.prototype.ta=!0,De.prototype.sa=function(){return this.a.toString()},De.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Fe=/%{(\w+)}/g,je=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ue={};function Ve(e,t){this.a=t===Ge?e:""}function qe(e){return e instanceof Ve&&e.constructor===Ve?e.a:(K("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Ve.prototype.ta=!0,Ve.prototype.sa=function(){return this.a.toString()},Ve.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Be=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,ze=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ke=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function We(e){if(e instanceof Ve)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Ke.test(e))e=new Ve(e,Ge);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(ze);e=t&&Be.test(t[1])?new Ve(e,Ge):null}return e}function He(e){return e instanceof Ve?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Ke.test(e)||(e="about:invalid#zClosurez"),new Ve(e,Ge))}var Ge={},Qe=new Ve("about:invalid#zClosurez",Ge);function $e(e,t,n){this.a=n===Ye?e:""}$e.prototype.ta=!0,$e.prototype.sa=function(){return this.a.toString()},$e.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ye={};function Xe(e,t,n,r){return e=e instanceof Ve?e:He(e),t=t||s,n=n instanceof xe?Ne(n):n||"",t.open(qe(e),n,r,void 0)}function Ze(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Je(e){return ge.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(le,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(fe,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(he,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(de,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(pe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ve,"&#0;"))),e}function et(e){return et[" "](e),e}et[" "]=f;var tt,nt=we("Opera"),rt=we("Trident")||we("MSIE"),it=we("Edge"),ot=it||rt,at=we("Gecko")&&!(me(ue.toLowerCase(),"webkit")&&!we("Edge"))&&!(we("Trident")||we("MSIE"))&&!we("Edge"),st=me(ue.toLowerCase(),"webkit")&&!we("Edge");function ut(){var e=s.document;return e?e.documentMode:void 0}e:{var ct="",lt=function(){var e=ue;return at?/rv:([^\);]+)(\)|;)/.exec(e):it?/Edge\/([\d\.]+)/.exec(e):rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):st?/WebKit\/(\S+)/.exec(e):nt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(lt&&(ct=lt?lt[1]:""),rt){var ft=ut();if(null!=ft&&ft>parseFloat(ct)){tt=String(ft);break e}}tt=ct}var ht,dt={};function pt(e){return function(e,t){var n=dt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ce(String(tt)).split("."),r=ce(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ye(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ye(0==a[2].length,0==s[2].length)||ye(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&rt){var vt=ut();ht=vt||(parseInt(tt,10)||void 0)}else ht=void 0;var gt=ht;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(A){}var mt=!rt||9<=Number(gt);function yt(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function _t(e,t){Se(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:St.hasOwnProperty(n)?e.setAttribute(St[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var bt,wt,St={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Et(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}J(a?se(o):o,r)}}}function It(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function Tt(e){s.setTimeout((function(){throw e}),0)}function kt(e,t){wt||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);wt=function(){e.then(At)}}else wt=function(){var e=At;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!we("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(bt||(bt=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!we("Presto")&&(e=function(){var e=It(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!we("Trident")&&!we("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),bt(e)):s.setImmediate(e)}}(),Ct||(wt(),Ct=!0),xt.add(e,t)}var Ct=!1,xt=new Q;function At(){for(var e;e=Y();){try{e.a.call(e.b)}catch(V){Tt(V)}G($,e)}Ct=!1}function Pt(e,t){if(this.a=Ot,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){Wt(n,Rt,e)}),(function(e){if(!(e instanceof Zt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Wt(n,Dt,e)}))}catch(F){Wt(this,Dt,F)}}var Ot=0,Rt=2,Dt=3;function Mt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Mt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Lt=new H((function(){return new Mt}),(function(e){e.reset()}));function Ft(e,t,n){var r=Lt.get();return r.g=e,r.b=t,r.f=n,r}function jt(e){if(e instanceof Pt)return e;var t=new Pt(f);return Wt(t,Rt,e),t}function Ut(e){return new Pt((function(t,n){n(e)}))}function Vt(e,t,n){Ht(e,t,n,null)||kt(S(t,e))}function qt(e){return new Pt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Vt(e[o],S(i,o,!0),S(i,o,!1));else t(r)}))}function Bt(e,t){if(e.a==Ot)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Ot&&1==r?Bt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Qt(n),$t(n,i,Dt,t)))}e.c=null}else Wt(e,Dt,t)}function zt(e,t){e.b||e.a!=Rt&&e.a!=Dt||Gt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Kt(e,t,n,r){var i=Ft(null,null,null);return i.a=new Pt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(M){o(M)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Zt?o(t):e(i)}catch(M){o(M)}}:o})),i.a.c=e,zt(e,i),i.a}function Wt(e,t,n){e.a==Ot&&(e===n&&(t=Dt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ht(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Gt(e),t!=Dt||n instanceof Zt||function(e,t){e.g=!0,kt((function(){e.g&&Xt.call(null,t)}))}(e,n)))}function Ht(e,t,n,r){if(e instanceof Pt)return zt(e,Ft(t||f,n||null,r)),!0;if(U(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(q){o(q)}}(e,i,t,n,r),!0}catch(P){return n.call(r,P),!0}return!1}function Gt(e){e.h||(e.h=!0,kt(e.gc,e))}function Qt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function $t(e,t,n,r){if(n==Dt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Yt(t,n,r);else try{t.c?t.g.call(t.f):Yt(t,n,r)}catch(i){Xt.call(null,i)}G(Lt,t)}function Yt(e,t,n){t==Rt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}Pt.prototype.then=function(e,t,n){return Kt(this,p(e)?e:null,p(t)?t:null,n)},Pt.prototype.$goog_Thenable=!0,(e=Pt.prototype).oa=function(e,t){return(e=Ft(e,e,t)).c=!0,zt(this,e),this},e.o=function(e,t){return Kt(this,null,e,t)},e.cancel=function(e){if(this.a==Ot){var t=new Zt(e);kt((function(){Bt(this,t)}),this)}},e.$c=function(e){this.a=Ot,Wt(this,Rt,e)},e.ad=function(e){this.a=Ot,Wt(this,Dt,e)},e.gc=function(){for(var e;e=Qt(this);)$t(this,e,this.a,this.i);this.h=!1};var Xt=Tt;function Zt(e){B.call(this,e)}function Jt(){0!=en&&(tn[g(this)]=this),this.ya=this.ya,this.pa=this.pa}I(Zt,B),Zt.prototype.name="cancel";var en=0,tn={};function nn(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=en)){var t=g(e);if(0!=en&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete tn[t]}}Jt.prototype.ya=!1,Jt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var rn=Object.freeze||function(e){return e},on=!rt||9<=Number(gt),an=rt&&!pt("9"),sn=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",f,t),s.removeEventListener("test",f,t)}catch(O){}return e}();function un(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function cn(e,t){if(un.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(at){e:{try{et(t.nodeName);var i=!0;break e}catch(P){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ln[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}un.prototype.preventDefault=function(){this.defaultPrevented=!0},I(cn,un);var ln=rn({2:"touch",3:"pen",4:"mouse"});cn.prototype.preventDefault=function(){cn.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,an)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(V){}},cn.prototype.g=function(){return this.a};var fn="closure_listenable_"+(1e6*Math.random()|0),hn=0;function dn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++hn,this.wa=this.Qa=!1}function pn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function vn(e){this.src=e,this.a={},this.b=0}function gn(e,t){var n=t.type;n in e.a&&ie(e.a[n],t)&&(pn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function mn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}vn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=mn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new dn(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var yn="closure_lm_"+(1e6*Math.random()|0),_n={};function bn(e,t,n,r,i){if(r&&r.once)Sn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)bn(e,t[o],n,r,i);else n=Pn(n),e&&e[fn]?Rn(e,t,n,v(r)?!!r.capture:!!r,i):wn(e,t,n,!1,r,i)}function wn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=Nn(e);if(s||(e[yn]=s=new vn(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=xn,t=on?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)sn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Tn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function Sn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Sn(e,t[o],n,r,i);else n=Pn(n),e&&e[fn]?Dn(e,t,n,v(r)?!!r.capture:!!r,i):wn(e,t,n,!0,r,i)}function En(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)En(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=Pn(n),e&&e[fn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=mn(o=e.a[t],n,r,i))&&(pn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Nn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=mn(t,n,r,i)),(n=-1<e?t[e]:null)&&In(n))}function In(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[fn])gn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Tn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Nn(t))?(gn(n,e),0==n.b&&(n.src=null,t[yn]=null)):pn(e)}}}function Tn(e){return e in _n?_n[e]:_n[e]="on"+e}function kn(e,t,n,r){var i=!0;if((e=Nn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=Cn(o,r),i=i&&!1!==o)}return i}function Cn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&In(e),n.call(r,t)}function xn(e,t){if(e.wa)return!0;if(!on){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new cn(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(W){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=kn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=kn(r[i],e,!1,t),n=n&&o}return n}return Cn(e,new cn(t,this))}function Nn(e){return(e=e[yn])instanceof vn?e:null}var An="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pn(e){return p(e)?e:(e[An]||(e[An]=function(t){return e.handleEvent(t)}),e[An])}function On(){Jt.call(this),this.v=new vn(this),this.bc=this,this.hb=null}function Rn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Dn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Mn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&gn(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Ln(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Fn(e){var t=null;return new Pt((function(n,r){-1==(t=Ln((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function jn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Un(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Vn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Vn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function qn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Bn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Bn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Bn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I(On,Jt),On.prototype[fn]=!0,On.prototype.addEventListener=function(e,t,n,r){bn(this,e,t,n,r)},On.prototype.removeEventListener=function(e,t,n,r){En(this,e,t,n,r)},On.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new un(e,n);else if(e instanceof un)e.target=e.target||n;else{var i=e;ke(e=new un(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Mn(a,r,!0,e)&&i}if(i=Mn(a=e.b=n,r,!0,e)&&i,i=Mn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Mn(a=e.b=t[o],r,!1,e)&&i;return i},On.prototype.Da=function(){if(On.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)pn(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=Vn.prototype).X=function(){qn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return qn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Bn(this.b,e)?this.b[e]:t},e.set=function(e,t){Bn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var zn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Kn?(this.i=void 0!==t?t:e.i,Wn(this,e.c),this.l=e.l,this.a=e.a,Hn(this,e.g),this.f=e.f,Gn(this,hr(e.b)),this.h=e.h):e&&(n=String(e).match(zn))?(this.i=!!t,Wn(this,n[1]||"",!0),this.l=Zn(n[2]||""),this.a=Zn(n[3]||"",!0),Hn(this,n[4]),this.f=Zn(n[5]||"",!0),Gn(this,n[6]||"",!0),this.h=Zn(n[7]||"")):(this.i=!!t,this.b=new ar(null,this.i))}function Wn(e,t,n){e.c=n?Zn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Hn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Gn(e,t,n){t instanceof ar?(e.b=t,function(e,t){t&&!e.f&&(sr(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(cr(this,t),fr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Jn(t,ir)),e.b=new ar(t,e.i))}function Qn(e,t,n){e.b.set(t,n)}function $n(e,t){return e.b.get(t)}function Yn(e){return e instanceof Kn?new Kn(e):new Kn(e,void 0)}function Xn(e,t,n,r){var i=new Kn(null,void 0);return e&&Wn(i,e),t&&(i.a=t),n&&Hn(i,n),r&&(i.f=r),i}function Zn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Jn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,er),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function er(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Kn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Jn(t,tr,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Jn(t,tr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Jn(n,"/"==n.charAt(0)?rr:nr,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Jn(n,or)),e.join("")},Kn.prototype.resolve=function(e){var t=new Kn(this),n=!!e.c;n?Wn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Hn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(me(i,"./")||me(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Gn(t,hr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var tr=/[#\/\?@]/g,nr=/[#\?:]/g,rr=/[#\?]/g,ir=/[#\?@]/g,or=/#/g;function ar(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function sr(e){e.a||(e.a=new Vn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ur(e){var t=Un(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new ar(null,void 0);e=jn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?fr(n,i,o):n.add(i,o)}return n}function cr(e,t){sr(e),t=dr(e,t),Bn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Bn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&qn(e)))}function lr(e,t){return sr(e),t=dr(e,t),Bn(e.a.b,t)}function fr(e,t,n){cr(e,t),0<n.length&&(e.c=null,e.a.set(dr(e,t),se(n)),e.b+=n.length)}function hr(e){var t=new ar;return t.c=e.c,e.a&&(t.a=new Vn(e.a),t.b=e.b),t}function dr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function pr(e){var t=[];return gr(new vr,e,t),t.join("")}function vr(){}function gr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),gr(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),_r(r,n),n.push(":"),gr(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":_r(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=ar.prototype).add=function(e,t){sr(this),this.c=null,e=dr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){sr(this),this.a.forEach((function(n,r){J(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){sr(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){sr(this);var t=[];if("string"===typeof e)lr(this,e)&&(t=ae(t,this.a.get(dr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=ae(t,e[n])}return t},e.set=function(e,t){return sr(this),this.c=null,lr(this,e=dr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var mr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},yr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function _r(e,t){t.push('"',e.replace(yr,(function(e){var t=mr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),mr[e]=t),t})),'"')}function br(){var e=Vr();return rt&&!!gt&&11==gt||/Edge\/\d+/.test(e)}function wr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function Sr(e,t){t=t||s.window;var n="about:blank";e&&(n=qe(We(e)||Qe)),t.location.href=n}function Er(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<Er(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function Ir(e){return!!((e=(e||Vr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function Tr(e){e=e||s.window;try{e.close()}catch(V){}}function kr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Vr().toLowerCase(),r&&(t.target=r,me(n,"crios/")&&(t.target="_blank")),Fr(Vr())==Mr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ve?n:We("undefined"!=typeof n.href?n.href:String(n))||Qe,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((we("iPhone")&&!we("iPod")&&!we("iPad")||we("iPad")||we("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(Ce(a=It(document,"A"),"HTMLAnchorElement"),t=t instanceof Ve?t:He(t),a.href=qe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Xe("",r,n,a),e=qe(t),a&&(ot&&me(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Je(e)+'">',e=new $e(e=(r=Re())?r.createHTML(e):e,null,Ye),r=a.document)&&(r.write(function(e){return e instanceof $e&&e.constructor===$e?e.a:(K("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Xe(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(j){}return a}var Cr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xr=/^[^@]+@[^@]+$/;function Nr(){var e=null;return new Pt((function(t){"complete"==s.document.readyState?t():(e=function(){t()},Sn(window,"load",e))})).o((function(t){throw En(window,"load",e),t}))}function Ar(e){return e=e||Vr(),!("file:"!==Wr()&&"ionic:"!==Wr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pr(){var e=s.window;try{return!(!e||e==e.top)}catch(V){return!1}}function Or(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Rr(){return Nt.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Nt.default.INTERNAL.hasOwnProperty("node")?"Node":Or()?"Worker":"Browser"}function Dr(){var e=Rr();return"ReactNative"===e||"Node"===e}var Mr="Firefox",Lr="Chrome";function Fr(e){var t=e.toLowerCase();return me(t,"opera/")||me(t,"opr/")||me(t,"opios/")?"Opera":me(t,"iemobile")?"IEMobile":me(t,"msie")||me(t,"trident/")?"IE":me(t,"edge/")?"Edge":me(t,"firefox/")?Mr:me(t,"silk/")?"Silk":me(t,"blackberry")?"Blackberry":me(t,"webos")?"Webos":!me(t,"safari/")||me(t,"chrome/")||me(t,"crios/")||me(t,"android")?!me(t,"chrome/")&&!me(t,"crios/")||me(t,"edge/")?me(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Lr:"Safari"}var jr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ur(e,t){t=t||[];var n,r=[],i={};for(n in jr)i[jr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Rr())?r=Fr(i=Vr()):"Worker"===r&&(r=Fr(i=Vr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Vr(){return s.navigator&&s.navigator.userAgent||""}function qr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Br(){try{var e=s.localStorage,t=Yr();if(e)return e.setItem(t,"1"),e.removeItem(t),!br()||!!s.indexedDB}catch(O){return Or()&&!!s.indexedDB}return!1}function zr(){return(Kr()||"chrome-extension:"===Wr()||Ar())&&!Dr()&&Br()&&!Or()}function Kr(){return"http:"===Wr()||"https:"===Wr()}function Wr(){return s.location&&s.location.protocol||null}function Hr(e){return!Ir(e=e||Vr())&&Fr(e)!=Mr}function Gr(e){return"undefined"===typeof e?null:pr(e)}function Qr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function $r(e){if(null!==e)return JSON.parse(e)}function Yr(e){return e||Math.floor(1e9*Math.random()).toString()}function Xr(e){return"Safari"!=Fr(e=e||Vr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Zr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Jr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Vr(),t=Rr(),this.b=Ir(e)||"ReactNative"===t}function ei(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function ti(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(O){}return null}function ni(){return!(!qr("fireauth.oauthhelper",s)&&!qr("fireauth.iframe",s))}Jr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Kr()&&"chrome-extension:"!==Wr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var ri,ii={};function oi(e){ii[e]||(ii[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var ai={};Object.defineProperty(ai,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ai,"abcd",{configurable:!0,enumerable:!0,value:2}),ri=2==ai.abcd}catch(A){ri=!1}function si(e,t,n){ri?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function ui(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&si(e,n,t[n])}function ci(e){var t={};return ui(t,e),t}function li(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)si(t,n,li(e[n]));return t}function fi(e){var t=e&&(e[gi]?"phone":null);if(!(t&&e&&e[vi]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");si(this,"uid",e[vi]),si(this,"displayName",e[di]||null);var n=null;e[pi]&&(n=new Date(e[pi]).toUTCString()),si(this,"enrollmentTime",n),si(this,"factorId",t)}function hi(e){try{var t=new mi(e)}catch(O){t=null}return t}fi.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var di="displayName",pi="enrolledAt",vi="mfaEnrollmentId",gi="phoneInfo";function mi(e){fi.call(this,e),si(this,"phoneNumber",e[gi])}function yi(e){var t={},n=e[Si],r=e[Ii],i=e[Ti];if(e=hi(e[Ei]),!i||i!=bi&&i!=wi&&!n||i==wi&&!r||i==_i&&!e)throw Error("Invalid checkActionCode response!");i==wi?(t[Ci]=n||null,t[Ni]=n||null,t[ki]=r):(t[Ci]=r||null,t[Ni]=r||null,t[ki]=n||null),t[xi]=e||null,si(this,Pi,i),si(this,Ai,li(t))}I(mi,fi),mi.prototype.w=function(){var e=mi.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var _i="REVERT_SECOND_FACTOR_ADDITION",bi="EMAIL_SIGNIN",wi="VERIFY_AND_CHANGE_EMAIL",Si="email",Ei="mfaInfo",Ii="newEmail",Ti="requestType",ki="email",Ci="fromEmail",xi="multiFactorInfo",Ni="previousEmail",Ai="data",Pi="operation";function Oi(e){var t=$n(e=Yn(e),Ri)||null,n=$n(e,Di)||null,r=$n(e,Fi)||null;if(r=r&&Ui[r]||null,!t||!n||!r)throw new k("argument-error",Ri+", "+Di+"and "+Fi+" are required in a valid action code URL.");ui(this,{apiKey:t,operation:r,code:n,continueUrl:$n(e,Mi)||null,languageCode:$n(e,Li)||null,tenantId:$n(e,ji)||null})}var Ri="apiKey",Di="oobCode",Mi="continueUrl",Li="languageCode",Fi="mode",ji="tenantId",Ui={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:_i,signIn:bi,verifyAndChangeEmail:wi,verifyEmail:"VERIFY_EMAIL"};function Vi(e){try{return new Oi(e)}catch(V){return null}}function qi(e){var t=e[Hi];if("undefined"===typeof t)throw new k("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new k("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Bi];if(n&&"object"===typeof n){t=n[$i];var r=n[Gi];if(n=n[Qi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new k("argument-error",Gi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new k("argument-error",Qi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new k("argument-error",$i+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new k("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new k("argument-error",Bi+" property must be a non null object when specified.");if(this.f=null,(t=e[Wi])&&"object"===typeof t){if("string"===typeof(t=t[Yi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new k("argument-error",Yi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new k("argument-error",Wi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Ki])&&"boolean"!==typeof t)throw new k("argument-error",Ki+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[zi])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new k("argument-error",zi+" property must be a non empty string when specified.");this.i=e||null}var Bi="android",zi="dynamicLinkDomain",Ki="handleCodeInApp",Wi="iOS",Hi="url",Gi="installApp",Qi="minimumVersion",$i="packageName",Yi="bundleId";function Xi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Zi=null;function Ji(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Zi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Zi){Zi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Zi[o]&&(Zi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function eo(e){var t=no(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function to(e){try{return new eo(e)}catch(V){return null}}function no(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Ji(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(M){}return null}eo.prototype.T=function(){return this.f},eo.prototype.l=function(){return this.c},eo.prototype.toString=function(){return this.h};var ro="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),io=["client_id","response_type","scope","redirect_uri","state"],oo={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:io},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:io},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:io},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:ro},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function ao(e){for(var t in oo)if(oo[t].fa==e)return oo[t];return null}function uo(e){var t={};t["facebook.com"]=po,t["google.com"]=go,t["github.com"]=vo,t["twitter.com"]=mo;var n=e&&e[lo];try{if(n)return t[n]?new t[n](e):new ho(e);if("undefined"!==typeof e[co])return new fo(e)}catch(F){}return null}var co="idToken",lo="providerId";function fo(e){var t=e[lo];if(!t&&e[co]){var n=to(e[co]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),si(this,"providerId",t),si(this,"isNewUser",n)}function ho(e){fo.call(this,e),si(this,"profile",li((e=$r(e.rawUserInfo||"{}"))||{}))}function po(e){if(ho.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function vo(e){if(ho.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");si(this,"username",this.profile&&this.profile.login||null)}function go(e){if(ho.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function mo(e){if(ho.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");si(this,"username",e.screenName||null)}function yo(e){var t=Yn(e),n=$n(t,"link"),r=$n(Yn(n),"link");return t=$n(t,"deep_link_id"),$n(Yn(t),"link")||t||r||n||e}function _o(e,t){if(!e&&!t)throw new k("internal-error","Internal assert: no raw session string available");if(e&&t)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?bo:wo}I(ho,fo),I(po,ho),I(vo,ho),I(go,ho),I(mo,ho);var bo="enroll",wo="signin";function So(){}function Eo(e,t){return e.then((function(e){if(e[fs]){var n=to(e[fs]);if(!n||t!=n.i)throw new k("user-mismatch");return e}throw new k("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==N+"user-not-found"?new k("user-mismatch"):e}))}function Io(e,t){if(!t)throw new k("internal-error","failed to construct a credential");this.a=t,si(this,"providerId",e),si(this,"signInMethod",e)}function To(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ko(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Io(e.providerId,e.pendingToken)}catch(V){}return null}function Co(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&si(this,"idToken",t.idToken),t.accessToken&&si(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&si(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");si(this,"accessToken",t.oauthToken),si(this,"secret",t.oauthTokenSecret)}si(this,"providerId",e),si(this,"signInMethod",n)}function xo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:ur(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function No(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new Co(e.providerId,t,e.signInMethod)}catch(O){}}return null}function Ao(e,t){this.Qc=t||[],ui(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(ao(e)||{}).Ja||null,this.pb=null}function Po(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');Ao.call(this,e,[])}function Oo(e){Ao.call(this,e,io),this.a=[]}function Ro(){Oo.call(this,"facebook.com")}function Do(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new Ro).credential({accessToken:t})}function Mo(){Oo.call(this,"github.com")}function Lo(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new Mo).credential({accessToken:t})}function Fo(){Oo.call(this,"google.com"),this.Ca("profile")}function jo(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new Fo).credential({idToken:n,accessToken:t})}function Uo(){Ao.call(this,"twitter.com",ro)}function Vo(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Co("twitter.com",n,"twitter.com")}function qo(e,t,n){this.a=e,this.f=t,si(this,"providerId","password"),si(this,"signInMethod",n===zo.EMAIL_LINK_SIGN_IN_METHOD?zo.EMAIL_LINK_SIGN_IN_METHOD:zo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Bo(e){return e&&e.email&&e.password?new qo(e.email,e.password,e.signInMethod):null}function zo(){ui(this,{providerId:"password",isOAuthProvider:!1})}function Ko(e,t){if(!(t=Wo(t)))throw new k("argument-error","Invalid email link!");return new qo(e,t.code,zo.EMAIL_LINK_SIGN_IN_METHOD)}function Wo(e){return(e=Vi(e=yo(e)))&&e.operation===bi?e:null}function Ho(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new k("internal-error");this.a=e,si(this,"providerId","phone"),this.fa="phone",si(this,"signInMethod","phone")}function Go(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return J(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Ho(t)}return null}function Qo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function $o(e){try{this.a=e||Nt.default.auth()}catch(V){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ui(this,{providerId:"phone",isOAuthProvider:!1})}function Yo(e,t){if(!e)throw new k("missing-verification-id");if(!t)throw new k("missing-verification-code");return new Ho({fb:e,eb:t})}function Xo(e){if(e.temporaryProof&&e.phoneNumber)return new Ho({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return jo(o,n);case"facebook.com":return Do(n);case"github.com":return Lo(n);case"twitter.com":return Vo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new Io(t,a):new Co(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Oo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(j){return null}}function Zo(e){if(!e.isOAuthProvider)throw new k("invalid-oauth-provider")}function Jo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function ea(e){return(e=e||{}).type?new Jo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&C(e.error),e.postBody,e.tenantId):null}function ta(){this.b=null,this.a=[]}_o.prototype.Ha=function(){return this.a?jt(this.a):jt(this.b)},_o.prototype.w=function(){return this.type==bo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},So.prototype.ka=function(){},So.prototype.b=function(){},So.prototype.c=function(){},So.prototype.w=function(){},Io.prototype.ka=function(e){return Rs(e,To(this))},Io.prototype.b=function(e,t){var n=To(this);return n.idToken=t,Ds(e,n)},Io.prototype.c=function(e,t){return Eo(Ms(e,To(this)),t)},Io.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Co.prototype.ka=function(e){return Rs(e,xo(this))},Co.prototype.b=function(e,t){var n=xo(this);return n.idToken=t,Ds(e,n)},Co.prototype.c=function(e,t){return Eo(Ms(e,xo(this)),t)},Co.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Ao.prototype.Ka=function(e){return this.Jb=Ie(e),this},I(Po,Ao),I(Oo,Ao),Oo.prototype.Ca=function(e){return re(this.a,e)||this.a.push(e),this},Oo.prototype.Rb=function(){return se(this.a)},Oo.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new Co(this.providerId,n,this.providerId)},I(Ro,Oo),si(Ro,"PROVIDER_ID","facebook.com"),si(Ro,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Mo,Oo),si(Mo,"PROVIDER_ID","github.com"),si(Mo,"GITHUB_SIGN_IN_METHOD","github.com"),I(Fo,Oo),si(Fo,"PROVIDER_ID","google.com"),si(Fo,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Uo,Ao),si(Uo,"PROVIDER_ID","twitter.com"),si(Uo,"TWITTER_SIGN_IN_METHOD","twitter.com"),qo.prototype.ka=function(e){return this.signInMethod==zo.EMAIL_LINK_SIGN_IN_METHOD?gu(e,zs,{email:this.a,oobCode:this.f}):gu(e,fu,{email:this.a,password:this.f})},qo.prototype.b=function(e,t){return this.signInMethod==zo.EMAIL_LINK_SIGN_IN_METHOD?gu(e,Ks,{idToken:t,email:this.a,oobCode:this.f}):gu(e,ru,{idToken:t,email:this.a,password:this.f})},qo.prototype.c=function(e,t){return Eo(this.ka(e),t)},qo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ui(zo,{PROVIDER_ID:"password"}),ui(zo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ui(zo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ho.prototype.ka=function(e){return e.gb(Qo(this))},Ho.prototype.b=function(e,t){var n=Qo(this);return n.idToken=t,gu(e,du,n)},Ho.prototype.c=function(e,t){var n=Qo(this);return n.operation="REAUTH",Eo(e=gu(e,pu,n),t)},Ho.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},$o.prototype.gb=function(e,t){var n=this.a.a;return jt(t.verify()).then((function(r){if("string"!==typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=v(e)?e.session:null,a=v(e)?e.phoneNumber:e;return i=o&&o.type==bo?o.Ha().then((function(e){return function(e,t){return gu(e,ou,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==wo?o.Ha().then((function(t){return function(e,t){return gu(e,au,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return gu(e,tu,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},ui($o,{PROVIDER_ID:"phone"}),ui($o,{PHONE_SIGN_IN_METHOD:"phone"}),Jo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Jo.prototype.T=function(){return this.h},Jo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var na,ra=null;function ia(e){var t="unauthorized-domain",n=void 0,r=Yn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ze("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ze("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",k.call(this,t,n)}function oa(e,t,n){k.call(this,e,n),(e=t||{}).Kb&&si(this,"email",e.Kb),e.ea&&si(this,"phoneNumber",e.ea),e.credential&&si(this,"credential",e.credential),e.$b&&si(this,"tenantId",e.$b)}function aa(e){if(e.code){var t=e.code||"";0==t.indexOf(N)&&(t=t.substring(N.length));var n={credential:Xo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new k(t,e.message||void 0);return new oa(t,n,e.message)}return null}function sa(){}function ua(e){return e.c||(e.c=e.b())}function ca(){}function la(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function fa(){}function ha(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function da(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function pa(e,t,n){this.reset(e,t,n,void 0,void 0)}I(ia,k),I(oa,k),oa.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ke(e,t),e},oa.prototype.toJSON=function(){return this.w()},sa.prototype.c=null,I(ca,sa),ca.prototype.a=function(){var e=la(this);return e?new ActiveXObject(e):new XMLHttpRequest},ca.prototype.b=function(){var e={};return la(this)&&(e[0]=!0,e[1]=!0),e},na=new ca,I(fa,sa),fa.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ha;throw Error("Unsupported browser")},fa.prototype.b=function(){return{}},(e=ha.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,da(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",da(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,da(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},pa.prototype.a=null;function va(e){this.f=e,this.b=this.c=this.a=null}function ga(e,t){this.name=e,this.value=t}pa.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||E(),delete this.a},ga.prototype.toString=function(){return this.name};var ma=new ga("SEVERE",1e3),ya=new ga("WARNING",900),_a=new ga("CONFIG",700),ba=new ga("FINE",500);function wa(e){return e.c?e.c:e.a?wa(e.a):(K("Root logger has no level set."),null)}va.prototype.log=function(e,t,n){if(e.value>=wa(this).value)for(p(t)&&(t=t()),e=new pa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Sa={},Ea=null;function Ia(e){var t;if(Ea||(Ea=new va(""),Sa[""]=Ea,Ea.c=_a),!(t=Sa[e])){t=new va(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Ia(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,Sa[e]=t}return t}function Ta(e,t){e&&e.log(ba,t,void 0)}function ka(e){this.f=e}function Ca(e){On.call(this),this.u=e,this.h=void 0,this.readyState=xa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Ia("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(ka,sa),ka.prototype.a=function(){return new Ca(this.f)},ka.prototype.b=function(e){return function(){return e}}({}),I(Ca,On);var xa=0;function Na(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function Aa(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Pa(e)}function Pa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Oa(e){On.call(this),this.headers=new Vn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ra,this.u=this.S=!1}(e=Ca.prototype).open=function(e,t){if(this.readyState!=xa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Pa(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Aa(this)),this.readyState=xa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Pa(this)),this.a&&(this.readyState=3,Pa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,Na(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Aa(this):Pa(this),3==this.readyState&&Na(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,Aa(this))},e.sc=function(e){this.a&&(this.response=e,Aa(this))},e.Va=function(e){var t=this.i;t&&t.log(ya,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Aa(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ya,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ya,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ca.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),I(Oa,On);var Ra="";Oa.prototype.b=Ia("goog.net.XhrIo");var Da=/^https?$/i,Ma=["POST","PUT"];function La(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():na.a(),e.C=e.D?ua(e.D):ua(na),e.a.onreadystatechange=w(e.Wb,e);try{Ta(e.b,Wa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(W){return Ta(e.b,Wa(e,"Error opening Xhr: "+W.message)),void ja(e,W)}t=r||"";var o=new Vn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)J(e,t,void 0);else for(var n=Un(e),r=jn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Fa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!re(Ma,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Ba(e),0<e.g&&(e.u=function(e){return rt&&pt(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),Ta(e.b,Wa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.s=Ln(e.Ma,e.g,e)),Ta(e.b,Wa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(W){Ta(e.b,Wa(e,"Send error: "+W.message)),ja(e,W)}}function Fa(e){return"content-type"==e.toLowerCase()}function ja(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ua(e),qa(e)}function Ua(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Va(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==za(e)&&2==Ka(e))Ta(e.b,Wa(e,"Local request error detected and ignored"));else if(e.i&&4==za(e))Ln(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==za(e)){Ta(e.b,Wa(e,"Request complete")),e.c=!1;try{var t,n=Ka(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(zn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Da.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<za(e)?e.a.statusText:""}catch(q){Ta(e.b,"Can not get status: "+q.message),c=""}e.h=c+" ["+Ka(e)+"]",Ua(e)}}finally{qa(e)}}}function qa(e,t){if(e.a){Ba(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(ma,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ba(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function za(e){return e.a?e.a.readyState:0}function Ka(e){try{return 2<za(e)?e.a.status:-1}catch(V){return-1}}function Wa(e,t){return t+" ["+e.P+" "+e.l+" "+Ka(e)+"]"}function Ha(e){var t=rs;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ga(e,t,n){e.a=!0,e.c=n,e.f=!t,Xa(e)}function Qa(e){if(e.a){if(!e.v)throw new Za(e);e.v=!1}}function $a(e,t,n,r){e.g.push([t,n,r]),e.a&&Xa(e)}function Ya(e){return ne(e.g,(function(e){return p(e[1])}))}function Xa(e){if(e.h&&e.a&&Ya(e)){var t=e.h,n=ts[t];n&&(s.clearTimeout(n.a),delete ts[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(U(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(q){t=q,e.f=!0,Ya(e)||(n=!0)}}e.c=t,r&&(u=w(e.m,e,!0),r=w(e.m,e,!1),t instanceof Ha?($a(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new es(t),ts[t.a]=t,e.h=t.a)}function Za(){B.call(this)}function Ja(){B.call(this)}function es(e){this.a=s.setTimeout(w(this.c,this),0),this.b=e}(e=Oa.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ta(this.b,Wa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(Ta(this.b,Wa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),qa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),qa(this,!0)),Oa.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Va(this):this.Jc())},e.Jc=function(){Va(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ra:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ma,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(V){return Ta(this.b,"Can not get response: "+V.message),null}},Ha.prototype.cancel=function(e){if(this.a)this.c instanceof Ha&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ja(this),Qa(this),Ga(this,!1,e))}},Ha.prototype.m=function(e,t){this.i=!1,Ga(this,e,t)},Ha.prototype.then=function(e,t,n){var r,i,o=new Pt((function(e,t){r=e,i=t}));return $a(this,r,(function(e){e instanceof Ja?o.cancel():i(e)})),o.then(e,t,n)},Ha.prototype.$goog_Thenable=!0,I(Za,B),Za.prototype.message="Deferred has already fired",Za.prototype.name="AlreadyCalledError",I(Ja,B),Ja.prototype.message="Deferred was canceled",Ja.prototype.name="CanceledError",es.prototype.c=function(){throw delete ts[this.a],this.b};var ts={};function ns(e){var t={},n=t.document||document,r=Me(e).toString(),i=It(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ha(o),u=null,f=null!=t.timeout?t.timeout:5e3;return 0<f&&(u=window.setTimeout((function(){is(i,!0);var e=new ss(as,"Timeout reached for loading script "+r);Qa(a),Ga(a,!1,e)}),f),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(is(i,t.xd||!1,u),Qa(a),Ga(a,!0,null))},i.onerror=function(){is(i,!0,u);var e=new ss(os,"Error while loading script "+r);Qa(a),Ga(a,!1,e)},ke(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),_t(i,o),function(e,t){Ce(e,"HTMLScriptElement"),e.src=Me(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function rs(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&is(e,!0,this.Ma)}}function is(e,t,n){null!=n&&s.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var os=0,as=1;function ss(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),B.call(this,n),this.code=e}function us(e){this.f=e}function cs(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||hs,this.g=Ie(e.secureTokenHeaders||ds),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ps,this.a=Ie(e.firebaseHeaders||vs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Rr(),!(n=s.XMLHttpRequest||n&&Nt.default.INTERNAL.node&&Nt.default.INTERNAL.node.XMLHttpRequest)&&!Or())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Or()?this.f=new ka(self):Dr()?this.f=new us(n):this.f=new fa,this.b=null}I(ss,B),I(us,sa),us.prototype.a=function(){return new this.f},us.prototype.b=function(){return{}};var ls,fs="idToken",hs=new Jr(3e4,6e4),ds={"Content-Type":"application/x-www-form-urlencoded"},ps=new Jr(3e4,6e4),vs={"Content-Type":"application/json"};function gs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ms(e,t){t&&(e.l=ys("https://securetoken.googleapis.com/v1/token",t),e.h=ys("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=ys("https://identitytoolkit.googleapis.com/v2/",t))}function ys(e,t){return e=Yn(e),t=Yn(t.url),e.f=e.a+e.f,Wn(e,t.c),e.a=t.a,Hn(e,t.g),e.toString()}function _s(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function bs(e,t,n,r,i,o,a){(function(){var e=Vr();return!((e=Fr(e)!=Lr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!rt||!gt||9<gt)})()||Or()?e=w(e.u,e):(ls||(ls=new Pt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[Ss]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){$a(e,null,t,void 0)}(ns(Le(ws,{onload:Ss})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=w(e.s,e)),e(t,n,r,i,o,a)}cs.prototype.T=function(){return this.b},cs.prototype.u=function(e,t,n,r,i,o){if(Or()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Oa(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Rn(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return Ta(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(M){e=null}t&&t(e)})),Dn(a,"ready",(function(){u&&clearTimeout(u),nn(this)})),Dn(a,"timeout",(function(){u&&clearTimeout(u),nn(this),t&&t(null)})),La(a,e,n,r,i)};var ws=new xe(Oe,"https://apis.google.com/js/client.js?onload=%{onload}"),Ss="__fcb"+Math.floor(1e6*Math.random()).toString();function Es(e,t,n,r,i,o,a){var s=Yn(t+n);Qn(s,"key",e.c),a&&Qn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Qn(s,c,i[c]);return new Pt((function(t,n){bs(e,s.toString(),(function(e){e?e.error?n(yu(e,o||{})):t(e):n(new k("network-request-failed"))}),r,u?void 0:pr(Qr(i)),e.a,e.v.get())}))}function Is(e){if("string"!==typeof(e=e.email)||!xr.test(e))throw new k("invalid-email")}function Ts(e){"email"in e&&Is(e)}function ks(e){if(!e[fs]){if(e.mfaPendingCredential)throw new k("multi-factor-auth-required",null,Ie(e));throw new k("internal-error")}}function Cs(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new k("internal-error")}else{if(!e.sessionInfo)throw new k("missing-verification-id");if(!e.code)throw new k("missing-verification-code")}}cs.prototype.s=function(e,t,n,r,i){var o=this;ls.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},cs.prototype.Ab=function(){return gu(this,iu,{})},cs.prototype.Cb=function(e,t){return gu(this,nu,{idToken:e,email:t})},cs.prototype.Db=function(e,t){return gu(this,ru,{idToken:e,password:t})};var xs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ns(e){if(!e.phoneVerificationInfo)throw new k("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new k("missing-verification-code")}function As(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new k("internal-error")}function Ps(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(lr(e=new ar(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Os(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=aa(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=aa(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=aa(e)):e.errorMessage&&(t=mu(e.errorMessage)),t)throw t;ks(e)}function Rs(e,t){return t.returnIdpCredential=!0,gu(e,su,t)}function Ds(e,t){return t.returnIdpCredential=!0,gu(e,cu,t)}function Ms(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,gu(e,uu,t)}function Ls(e){if(!e.oobCode)throw new k("invalid-action-code")}(e=cs.prototype).Eb=function(e,t){var n={idToken:e},r=[];return Se(xs,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),gu(this,nu,n)},e.wb=function(e,t){return ke(e={requestType:"PASSWORD_RESET",email:e},t),gu(this,Xs,e)},e.xb=function(e,t){return ke(e={requestType:"EMAIL_SIGNIN",email:e},t),gu(this,Qs,e)},e.vb=function(e,t){return ke(e={requestType:"VERIFY_EMAIL",idToken:e},t),gu(this,$s,e)},e.Fb=function(e,t,n){return ke(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),gu(this,Ys,e)},e.gb=function(e){return gu(this,hu,e)},e.ob=function(e,t){return gu(this,eu,{oobCode:e,newPassword:t})},e.Sa=function(e){return gu(this,js,{oobCode:e})},e.kb=function(e){return gu(this,Fs,{oobCode:e})};var Fs={endpoint:"setAccountInfo",A:Ls,Z:"email",B:!0},js={endpoint:"resetPassword",A:Ls,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new k("internal-error")},B:!0},Us={endpoint:"signupNewUser",A:function(e){if(Is(e),!e.password)throw new k("weak-password")},G:ks,V:!0,B:!0},Vs={endpoint:"createAuthUri",B:!0},qs={endpoint:"deleteAccount",O:["idToken"]},Bs={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new k("internal-error")}},zs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Is,G:ks,V:!0,B:!0},Ks={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Is,G:ks,V:!0},Ws={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Ns,G:ks,B:!0,Na:!0},Hs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Ns,G:ks,B:!0,Na:!0},Gs={endpoint:"getAccountInfo"},Qs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new k("internal-error");Is(e)},Z:"email",B:!0},$s={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Ys={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Xs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new k("internal-error");Is(e)},Z:"email",B:!0},Zs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Js={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new k("internal-error")}},eu={endpoint:"resetPassword",A:Ls,Z:"email",B:!0},tu={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},nu={endpoint:"setAccountInfo",O:["idToken"],A:Ts,V:!0},ru={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(Ts(e),!e.password)throw new k("weak-password")},G:ks,V:!0},iu={endpoint:"signupNewUser",G:ks,V:!0,B:!0},ou={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new k("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},au={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},su={endpoint:"verifyAssertion",A:As,Za:Ps,G:Os,V:!0,B:!0},uu={endpoint:"verifyAssertion",A:As,Za:Ps,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new k("user-not-found");if(e.errorMessage)throw mu(e.errorMessage);ks(e)},V:!0,B:!0},cu={endpoint:"verifyAssertion",A:function(e){if(As(e),!e.idToken)throw new k("internal-error")},Za:Ps,G:Os,V:!0},lu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new k("invalid-custom-token")},G:ks,V:!0,B:!0},fu={endpoint:"verifyPassword",A:function(e){if(Is(e),!e.password)throw new k("wrong-password")},G:ks,V:!0,B:!0},hu={endpoint:"verifyPhoneNumber",A:Cs,G:ks,B:!0},du={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new k("internal-error");Cs(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",aa(e);ks(e)}},pu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Cs,G:ks,B:!0},vu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[fs]^!!e.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function gu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Ut(new k("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return jt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),Es(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new k("internal-error");return r[t.Z]}))}function mu(e){return yu({error:{errors:[{message:e}],code:400,message:e}})}function yu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ke(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],t);return!t&&e&&(t=Gr(e)),new k("internal-error",t)}function _u(e){this.b=e,this.a=null,this.sb=function(e){return(Eu||(Eu=new Pt((function(e,t){function n(){Zr(),qr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Zr(),t(Error("Network Error"))},timeout:wu.get()})}if(qr("gapi.iframes.Iframe"))e();else if(qr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){qr("gapi.load")?n():t(Error("Network Error"))},jt(ns(r=Le(bu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw Eu=null,e})))).then((function(){return new Pt((function(t,n){qr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:qr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Su.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var bu=new xe(Oe,"https://apis.google.com/js/api.js?onload=%{onload}"),wu=new Jr(3e4,6e4),Su=new Jr(5e3,15e3),Eu=null;function Iu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Xn((e=Yn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Xn("https",this.l,null,"/__/auth/iframe"),this.a=e,Qn(this.a,"apiKey",this.h),Qn(this.a,"appName",this.i),this.b=null,this.c=[]}function Tu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ku(e){try{return Nt.default.app(e).auth().Ga()}catch(V){return[]}}function Cu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function xu(e){var t=wr();return function(e){return gu(e,Zs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Yn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Yn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Cr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new ia(wr())}))}function Nu(e){return e.m||(e.m=Nr().then((function(){if(!e.u){var t=e.c,n=e.i,r=ku(e.b),i=new Iu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=se(r||[]),e.u=i.toString()}e.v=new _u(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,qr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=ea(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",jt(n)}return n.status="ERROR",jt(n)}))}(e)}))),e.m}function Au(e){return e.l||(e.C=e.c?Ur(e.c,ku(e.b)):null,e.l=new cs(e.g,L(e.i),e.C),e.f&&ms(e.l,e.f)),e.l}function Pu(e,t,n,r,i,o,a,s,u,c,l,f){return(e=new Tu(e,t,n,r,i,f)).l=o,e.g=a,e.i=s,e.b=Ie(u||null),e.f=c,e.zb(l).toString()}function Ou(e){if(this.a=e||Nt.default.INTERNAL.reactNative&&Nt.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Ru(e){this.b=e,this.a={},this.f=w(this.c,this)}Iu.prototype.toString=function(){return this.f?Qn(this.a,"v",this.f):cr(this.a.b,"v"),this.b?Qn(this.a,"eid",this.b):cr(this.a.b,"eid"),this.c.length?Qn(this.a,"fw",this.c.join(",")):cr(this.a.b,"fw"),this.a.toString()},Tu.prototype.zb=function(e){return this.h=e,this},Tu.prototype.toString=function(){if(this.v){var e=Yn(this.v.url);e=Xn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Xn("https",this.u,null,"/__/auth/handler");if(Qn(e,"apiKey",this.s),Qn(e,"appName",this.c),Qn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Nt.default.app(this.c).auth().la()}catch(j){n=null}for(var r in t.pb=n,Qn(e,"providerId",this.a.providerId),t=Qr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=Ie(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),Ee(t)||Qn(e,"customParameters",Gr(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&Qn(e,"scopes",n.join(","))),this.l?Qn(e,"redirectUrl",this.l):cr(e.b,"redirectUrl"),this.g?Qn(e,"eventId",this.g):cr(e.b,"eventId"),this.i?Qn(e,"v",this.i):cr(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!$n(e,a)&&Qn(e,a,this.b[a]);return this.h?Qn(e,"tid",this.h):cr(e.b,"tid"),this.f?Qn(e,"eid",this.f):cr(e.b,"eid"),(a=ku(this.c)).length&&Qn(e,"fw",a.join(",")),e.toString()},(e=Cu.prototype).Pb=function(e,t,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return Nu(e).then((function(){return function(e,t){return e.sb.then((function(){return new Pt((function(n){e.a.send(t.type,t,n,qr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&Tr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new Pt((function(t){return function n(){Fn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Fn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Vr();return!Hr(e)&&!Xr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Ut(new k("popup-blocked"));if(a&&!Hr())return this.ma().o((function(t){Tr(e),i(t)})),r(),jt();this.a||(this.a=xu(Au(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw Tr(e),i(t),t}));return r(),t})).then((function(){(Zo(n),a)||Sr(Pu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=xu(Au(this)));var i=this;return this.a.then((function(){Zo(t),Sr(Pu(i.s,i.g,i.b,e,t,wr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return Nu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new k("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){oe(this.h,(function(t){return t==e}))},(e=Ou.prototype).get=function(e){return jt(this.a.getItem(e)).then((function(e){return e&&$r(e)}))},e.set=function(e,t){return jt(this.a.setItem(e,Gr(t)))},e.U=function(e){return jt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Du,Mu=[];function Lu(e,t,n){Ee(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Fu(e){this.a=e}function ju(e){this.c=e,this.b=!1,this.a=[]}function Uu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Ut(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Pt((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:f,onMessage:o},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return Vu(e,c),t})).o((function(t){throw Vu(e,c),t}))}function Vu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),oe(e.a,(function(e){return e==t}))}}function qu(){if(!Wu())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Or()&&self?(this.v=function(){var e=Or()?self:null;if(J(Mu,(function(n){n.b==e&&(t=n)})),!t){var t=new Ru(e);Mu.push(t)}return t}(),Lu(this.v,"keyChanged",(function(t,n){return Yu(e).then((function(t){return 0<t.length&&J(e.a,(function(e){e(t)})),{keyProcessed:re(t,n.key)}}))})),Lu(this.v,"ping",(function(){return jt(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?jt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):jt(null)}().then((function(t){(e.h=t)&&(e.g=new ju(new Fu(t)),Uu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&re(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Bu(e){return new Pt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(P){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(P){n(P)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new Pt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Bu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function zu(e){return e.i||(e.i=Bu(e)),e.i}function Ku(e,t){var n=0;return new Pt((function r(i,o){zu(e).then(t).then(i).o((function(t){if(!(3<++n))return zu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Wu(){try{return!!s.indexedDB}catch(A){return!1}}function Hu(e){return e.objectStore("firebaseLocalStorage")}function Gu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Qu(e){return new Pt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function $u(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Uu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):jt()}function Yu(e){return zu(e).then((function(e){var t=Hu(Gu(e,!1));return t.getAll?Qu(t.getAll()):new Pt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=Er(e.c,n),e.c=n}return r}))}function Xu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Zu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=jt().then((function(){if(Wu()){var e=Yr(),r="__sak"+e;return Du||(Du=new qu),(n=Du).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){J(t.a,(function(t){t(e)}))})),e}))}function Ju(){this.a={},this.type="inMemory"}function ec(){if(!function(){var e="Node"==Rr();if(!(e=tc()||e&&Nt.default.INTERNAL.node&&Nt.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(V){return!1}}()){if("Node"==Rr())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=tc()||Nt.default.INTERNAL.node.localStorage,this.type="localStorage"}function tc(){try{var e=s.localStorage,t=Yr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(O){return null}}function nc(){this.type="nullStorage"}function rc(){if(!function(){var e="Node"==Rr();if(!(e=ic()||e&&Nt.default.INTERNAL.node&&Nt.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(V){return!1}}()){if("Node"==Rr())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=ic()||Nt.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ic(){try{var e=s.sessionStorage,t=Yr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(O){return null}}function oc(){var e={};e.Browser=uc,e.Node=cc,e.ReactNative=lc,e.Worker=fc,this.a=e[Rr()]}Ru.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];J(r,(function(t){i.push(jt().then((function(){return t(e.origin,e.data.data)})))})),qt(i).then((function(r){var i=[];J(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),J(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Fu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},ju.prototype.close=function(){for(;0<this.a.length;)Vu(this,this.a[0]);this.b=!0},(e=qu.prototype).set=function(e,t){var n=this,r=!1;return Ku(this,(function(t){return Qu((t=Hu(Gu(t,!0))).get(e))})).then((function(i){return Ku(n,(function(o){if(o=Hu(Gu(o,!0)),i)return i.value=t,Qu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Qu(o.add(a))}))})).then((function(){return n.c[e]=t,$u(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Ku(this,(function(t){return Qu(Hu(Gu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Ku(this,(function(r){return n=!0,t.b++,Qu(Hu(Gu(r,!0)).delete(e))})).then((function(){return delete t.c[e],$u(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Yu(e).then((function(t){0<t.length&&J(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Xu(e),t()}(this),this.a.push(e)},e.ia=function(e){oe(this.a,(function(t){return t==e})),0==this.a.length&&Xu(this)},(e=Zu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){oe(this.a,(function(t){return t==e}))},(e=Ju.prototype).get=function(e){return jt(this.a[e])},e.set=function(e,t){return this.a[e]=t,jt()},e.U=function(e){return delete this.a[e],jt()},e.ca=function(){},e.ia=function(){},(e=ec.prototype).get=function(e){var t=this;return jt().then((function(){return $r(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return jt().then((function(){var r=Gr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return jt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&bn(s.window,"storage",e)},e.ia=function(e){s.window&&En(s.window,"storage",e)},(e=nc.prototype).get=function(){return jt(null)},e.set=function(){return jt()},e.U=function(){return jt()},e.ca=function(){},e.ia=function(){},(e=rc.prototype).get=function(e){var t=this;return jt().then((function(){return $r(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return jt().then((function(){var r=Gr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return jt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var ac,sc,uc={F:ec,cb:rc},cc={F:ec,cb:rc},lc={F:Ou,cb:nc},fc={F:ec,cb:nc},hc={rd:"local",NONE:"none",td:"session"};function dc(){var e=!(Xr(Vr())||!Pr()),t=Hr(),n=Br();this.m=e,this.h=t,this.l=n,this.a={},ac||(ac=new oc),e=ac;try{this.g=!br()&&ni()||!s.indexedDB?new e.a.F:new Zu(Or()?new Ju:new e.a.F)}catch(F){this.g=new Ju,this.h=!0}try{this.i=new e.a.cb}catch(F){this.i=new Ju}this.v=new Ju,this.f=w(this.Zb,this),this.b={}}function pc(){return sc||(sc=new dc),sc}function vc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function gc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function mc(e,t,n){return n=gc(t,n),"local"==t.F&&(e.b[n]=null),vc(e,t.F).U(n)}function yc(e){e.c&&(clearInterval(e.c),e.c=null)}function _c(e){this.a=e,this.b=pc()}(e=dc.prototype).get=function(e,t){return vc(this,e.F).get(gc(e,t))},e.set=function(e,t,n){var r=gc(e,n),i=this,o=vc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=gc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),Ee(this.a)&&(vc(this,"local").ca(this.f),this.h||(br()||!ni())&&s.indexedDB||!this.l||function(e){yc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new cn({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=gc(e,t),this.a[e]&&(oe(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),Ee(this.a)&&(vc(this,"local").ia(this.f),yc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?vc(this,"local").ia(this.f):yc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},rt&&gt&&10==gt&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else J(e,w(this.nb,this))},e.nb=function(e){this.a[e]&&J(this.a[e],(function(e){e()}))};var bc,wc={name:"authEvent",F:"local"};function Sc(){this.a=pc()}function Ec(e,t){this.b=Ic,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===bc&&(bc=s.Int32Array?new Int32Array(Pc):Pc),this.reset()}I(Ec,(function(){this.b=-1}));for(var Ic=64,Tc=Ic-1,kc=[],Cc=0;Cc<Tc;Cc++)kc[Cc]=0;var xc=ae(128,kc);function Nc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|bc[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function Ac(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Nc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Nc(e),i=0)}}e.c=i,e.g+=n}Ec.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):se(this.h)};var Pc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Oc(){Ec.call(this,8,Rc)}I(Oc,Ec);var Rc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Dc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new Sc,this.g=new _c(this.h),this.f=null,this.b=[],this.a=this.c=null}function Mc(e){return new k("invalid-cordova-configuration",e)}function Lc(e){var t=new Oc;Ac(t,e),e=[];var n=8*t.g;56>t.c?Ac(t,xc,56-t.c):Ac(t,xc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Nc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return te(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Fc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(F){}}function jc(e){return e.f||(e.f=e.ma().then((function(){return new Pt((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Uc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=yo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=$r($n(o=Yn(i),"firebaseError")||null))?C(o):null)?new Jo(r.c,r.b,null,null,o,null,r.T()):new Jo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Fc(e,i)}))}var n=new Jo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=Fn(500).then((function(){return Uc(e).then((function(){r||Fc(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(qr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(j){console.error(j)}},ra||(ra=new ta),function(e){var t=ra;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=qr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Uc(e){var t=null;return function(e){return e.b.get(wc,e.a).then((function(e){return ea(e)}))}(e.g).then((function(n){return t=n,mc((n=e.g).b,wc,n.a)})).then((function(){return t}))}function Vc(e){this.a=e,this.b=pc()}(e=Dc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Ar(void 0)?Nr().then((function(){return new Pt((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Ut(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof qr("universalLinks.subscribe",s))throw Mc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof qr("BuildInfo.packageName",s))throw Mc("cordova-plugin-buildinfo is not installed");if("function"!==typeof qr("cordova.plugins.browsertab.openUrl",s))throw Mc("cordova-plugin-browsertab is not installed");if("function"!==typeof qr("cordova.InAppBrowser.open",s))throw Mc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},e.Pb=function(e,t){return t(new k("operation-not-supported-in-this-environment")),jt()},e.Nb=function(){return Ut(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Ut(new k("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=jt().then((function(){return Zo(t),jc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Jo(t,r,null,o,new k("no-auth-event"),null,i),u=qr("BuildInfo.packageName",s);if("string"!==typeof u)throw new k("invalid-cordova-configuration");var c=qr("BuildInfo.displayName",s),l={};if(Vr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Vr().toLowerCase().match(/android/))return Ut(new k("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Lc(o),l.sessionId=o;var f=Pu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(wc,a.w(),t)})).then((function(){var t=qr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new k("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=qr("cordova.plugins.browsertab.openUrl",s)))throw new k("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=qr("cordova.InAppBrowser.open",s)))throw new k("invalid-cordova-configuration");t=Vr(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new Pt((function(e,t){u=function(){var t=qr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Fn(2e3).then((function(){t(new k("redirect-cancelled-by-user"))})))},l=function(){ei()&&c()},o.addEventListener("resume",c,!1),Vr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Uc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),jc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Jo("unknown",null,null,null,new k("no-auth-event")),e(t))}))},e.Ta=function(e){oe(this.b,(function(t){return t==e}))};var qc={name:"pendingRedirect",F:"session"};function Bc(e){return mc(e.b,qc,e.a)}function zc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new il,this.C=new cl,this.g=new Vc(nl(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Kc(this.D,this.v,this.m,x,this.J)}function Kc(e,t,n,r,i){var o=Nt.default.SDK_VERSION||null;return Ar()?new Dc(e,t,n,o,r,i):new Cu(e,t,n,o,r,i)}function Wc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Hc(e){e.a.Yb()&&Wc(e).o((function(t){var n=new Jo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Zc(t)&&e.s(n)})),e.a.Ub()||ol(e.b)}function Gc(e,t){re(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(qc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Bc(e.g).then((function(){Wc(e).o((function(t){var n=new Jo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Zc(t)&&e.s(n)}))})):Hc(e)})).o((function(){Hc(e)}))}function Qc(e,t){oe(e.h,(function(e){return e==t}))}zc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Kc(this.D,this.v,this.m,null,this.J),this.i={}},zc.prototype.s=function(e){if(!e)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return ol(this.b),t};var $c=new Jr(2e3,1e4),Yc=new Jr(3e4,6e4);function Xc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Zc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Jc(e,t,n,r,i){var o;return function(e){return e.b.set(qc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Zc(t))throw new k("operation-not-supported-in-this-environment");return o=t,Bc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new Pt((function(){})):Bc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function el(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),$c.get())}zc.prototype.ra=function(){return this.b.ra()};var tl={};function nl(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function rl(e,t,n,r){var i=nl(t,n,r);return tl[i]||(tl[i]=new zc(e,t,n,r)),tl[i]}function il(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ol(e){e.g||(e.g=!0,ul(e,!1,null,null))}function al(e){e.g&&!e.i&&ul(e,!1,null,null)}function sl(e,t){if(e.b=function(){return jt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function ul(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Ut(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):sl(e,n):sl(e,{user:null}),e.f=[],e.c=[]}function cl(){}function ll(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function fl(e,t){this.a=t,si(this,"verificationId",e)}function hl(e,t,n,r){return new $o(e).gb(t,n).then((function(e){return new fl(e,r)}))}function dl(e){var t=no(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ui(this,{token:e,expirationTime:ti(1e3*t.exp),authTime:ti(1e3*t.auth_time),issuedAtTime:ti(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function pl(e,t,n){var r=t&&t[gl];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=Ie(t),this.g=n,this.c=new _o(null,r),this.b=[];var i=this;J(t[vl]||[],(function(e){(e=hi(e))&&i.b.push(e)})),si(this,"auth",this.a),si(this,"session",this.c),si(this,"hints",this.b)}il.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},il.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(ul(this,!0,null,e.a),jt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){ul(e,s,t,null)})).o((function(t){ul(e,s,null,t)}))}(this,e,t):Ut(new k("invalid-auth-event")):(ul(this,!1,null,null),jt())}else Ut(new k("invalid-auth-event"))},il.prototype.ra=function(){var e=this;return new Pt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new k("timeout");e.a&&e.a.cancel(),e.a=Fn(Yc.get()).then((function(){e.b||(e.g=!0,ul(e,!0,null,t))}))}(e))}))},cl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),jt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Ut(new k("invalid-auth-event"))}else Ut(new k("invalid-auth-event"))},fl.prototype.confirm=function(e){return e=Yo(this.verificationId,e),this.a(e)};var vl="mfaInfo",gl="mfaPendingCredential";function ml(e,t,n,r){k.call(this,"multi-factor-auth-required",r,t),this.b=new pl(e,t,n),si(this,"resolver",this.b)}function yl(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ml(t,e.serverResponse,n,e.message)}catch(F){}return null}function _l(){}function bl(e){si(this,"factorId",e.fa),this.a=e}function wl(e){if(bl.call(this,e),this.a.fa!=$o.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Sl(e,t){for(var n in un.call(this,e),t)this[n]=t[n]}function El(e,t){this.a=e,this.b=[],this.c=w(this.yc,this),bn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&J(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[vi]=e.uid),e.displayName&&(r[di]=e.displayName),e.enrollmentTime&&(r[pi]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[gi]=e.phoneNumber);try{t=new mi(r)}catch(W){}e=t}else e=null;e&&n.push(e)})),Il(this,n)}function Il(e,t){e.b=t,si(e,"enrolledFactors",t)}function Tl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function kl(e,t){e.stop(),e.b=Fn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return ei()||!e?jt():new Pt((function(n){t=function(){ei()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){kl(e,!0)})).o((function(t){e.i(t)&&kl(e,!1)}))}function Cl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function xl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function Nl(e,t){e.b=to(t[fs]||""),e.a=t.refreshToken,xl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function Al(e,t){return function(e,t){return new Pt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?bs(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(yu(e)):e.access_token&&e.refresh_token?n(e):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",ur(t).toString(),e.g,e.m.get()):r(new k("internal-error"))}))}(e.f,t).then((function(t){return e.b=to(t.access_token),e.a=t.refresh_token,xl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Pl(e,t){this.a=e||null,this.b=t||null,ui(this,{lastSignInTime:ti(t||null),creationTime:ti(e||null)})}function Ol(e,t,n,r,i,o){ui(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Rl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=Nt.default.SDK_VERSION?Ur(Nt.default.SDK_VERSION):null;this.a=new cs(this.l,L(x),r),(this.u=e.emulatorConfig||null)&&ms(this.a,this.u),this.h=new Cl(this.a),Bl(this,t[fs]),Nl(this.h,t),si(this,"refreshToken",this.h.a),Wl(this,n||{}),On.call(this),this.P=!1,this.s&&zr()&&(this.b=rl(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new Tl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=w(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){Dl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Fl(i,e.f)},this.ja=null,this.S=new El(this,n),si(this,"multiFactor",this.S)}function Dl(e,t){e.u=t,ms(e.a,t),e.b&&(t=e.b,e.b=rl(e.s,e.l,e.m,e.u),e.P&&(Qc(t,e),Gc(e.b,e)))}function Ml(e,t){e.qa&&En(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&bn(t,"languageCodeChanged",e.Pa)}function Ll(e,t){e.$&&En(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&bn(t,"emulatorConfigChanged",e.Ba)}function Fl(e,t){e.aa=t,_s(e.a,Nt.default.SDK_VERSION?Ur(Nt.default.SDK_VERSION,e.aa):null)}function jl(e,t){e.ja&&En(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&bn(t,"frameworkChanged",e.Oa)}function Ul(e){try{return Nt.default.app(e.m).auth()}catch(V){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Vl(e){e.J||e.D.b||(e.D.start(),En(e,"tokenChanged",e.ba),bn(e,"tokenChanged",e.ba))}function ql(e){En(e,"tokenChanged",e.ba),e.D.stop()}function Bl(e,t){e.Aa=t,si(e,"_lat",t)}function zl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return qt(t).then((function(){return e}))}function Kl(e){e.b&&!e.P&&(e.P=!0,Gc(e.b,e))}function Wl(e,t){ui(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Pl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Hl(){}function Gl(e){return jt().then((function(){if(e.J)throw new k("app-deleted")}))}function Ql(e){return te(e.providerData,(function(e){return e.providerId}))}function $l(e,t){t&&(Yl(e,t.providerId),e.providerData.push(t))}function Yl(e,t){oe(e.providerData,(function(e){return e.providerId==t}))}function Xl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&si(e,t,n)}function Zl(e,t){e!=t&&(ui(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?si(e,"metadata",function(e){return new Pl(e.a,e.b)}(t.metadata)):si(e,"metadata",new Pl),J(t.providerData,(function(t){$l(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),si(e,"refreshToken",e.h.a),Il(e.S,t.S.b))}function Jl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return gu(e.a,Gs,{idToken:t}).then(w(e.Kc,e))}(e,t).then((function(){return n||Xl(e,"isAnonymous",!1),t}))}))}function ef(e,t){t[fs]&&e.Aa!=t[fs]&&(Nl(e.h,t),e.dispatchEvent(new Sl("tokenChanged")),Bl(e,t[fs]),Xl(e,"refreshToken",e.h.a))}function tf(e,t){return Jl(e).then((function(){if(re(Ql(e),t))return zl(e).then((function(){throw new k("provider-already-linked")}))}))}function nf(e,t,n){return ci({user:e,credential:Xo(t),additionalUserInfo:t=uo(t),operationType:n})}function rf(e,t){return ef(e,t),e.reload().then((function(){return e}))}function of(e,t,n,r,i){if(!zr())return Ut(new k("operation-not-supported-in-this-environment"));if(e.i&&!i)return Ut(e.i);var o=ao(n.providerId),a=Yr(e.uid+":::"),s=null;(!Hr()||Pr())&&e.s&&n.isOAuthProvider&&(s=Pu(e.s,e.l,e.m,t,n,null,a,Nt.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=kr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(sf(e),!i)return e.I().then((function(){}))})).then((function(){return Xc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new Pt((function(n,r){e.na(t,null,new k("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=el(e.b,e,t,u,a)}))})).then((function(e){return u&&Tr(u),e?ci(e):null})).o((function(e){throw u&&Tr(u),e})),uf(e,r,i)}function af(e,t,n,r,i){if(!zr())return Ut(new k("operation-not-supported-in-this-environment"));if(e.i&&!i)return Ut(e.i);var o=null,a=Yr(e.uid+":::");return r=r().then((function(){if(sf(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,zl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(ff,e.w(),t.a)),t})).then((function(){return Jc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return hf(e.ha);throw o})).then((function(){if(o)throw o})),uf(e,r,i)}function sf(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function uf(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Ut(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new Sl("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){ie(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=yl(t.w(),Ul(e),w(e.jc,e))),n||t}))}function cf(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[fs]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Rl(t,n,e);return e.providerData&&J(e.providerData,(function(e){e&&$l(i,ci(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function lf(e){this.a=e,this.b=pc()}pl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=Ie(t.f);return delete n[vl],delete n[gl],ke(n,e),t.g(n)}))},I(ml,k),_l.prototype.tb=function(e,t,n){return t.type==bo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),ke(n,{phoneVerificationInfo:Qo(e.a)}),gu(t,Ws,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ke(n={mfaPendingCredential:n},{phoneVerificationInfo:Qo(e.a)}),gu(t,Hs,n)}))}(this,e,t)},I(bl,_l),I(wl,bl),I(Sl,un),(e=El.prototype).yc=function(e){Il(this,function(e){var t=[];return J(e.mfaInfo||[],(function(e){(e=hi(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new _o(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return ef(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return gu(r,vu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=ee(t.b,(function(e){return e.uid!=n}));return Il(t,r),ef(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:te(this.b,(function(e){return e.w()}))}}},Tl.prototype.start=function(){this.a=this.c,kl(this,!0)},Tl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Cl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Cl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Ut(new k("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?Al(this,{grant_type:"refresh_token",refresh_token:this.a}):jt(null):jt({accessToken:this.b.toString(),refreshToken:this.a})},Pl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(Rl,On),Rl.prototype.xa=function(e){this.za=e,gs(this.a,e)},Rl.prototype.la=function(){return this.za},Rl.prototype.Ga=function(){return se(this.aa)},Rl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},si(Rl.prototype,"providerId","firebase"),(e=Rl.prototype).reload=function(){var e=this;return uf(this,Gl(this).then((function(){return Jl(e).then((function(){return zl(e)})).then(Hl)})))},e.oc=function(e){return this.I(e).then((function(e){return new dl(e)}))},e.I=function(e){var t=this;return uf(this,Gl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new k("internal-error");return e.accessToken!=t.Aa&&(Bl(t,e.accessToken),t.dispatchEvent(new Sl("tokenChanged"))),Xl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new k("internal-error");Wl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?te(e,(function(e){return new Ol(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)$l(this,t[n]);Xl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Sl("userReloaded",{hd:e}))},e.Lc=function(e){return oi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return uf(this,e.c(this.a,this.uid).then((function(e){return ef(t,e),n=nf(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return oi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return uf(this,tf(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=nf(t,e,"link"),rf(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return uf(this,tf(this,"phone").then((function(){return hl(Ul(n),e,t,w(n.rb,n))})))},e.Mc=function(e,t){var n=this;return uf(this,jt().then((function(){return hl(Ul(n),e,t,w(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return uf(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return ef(t,e),t.reload()})))},e.ed=function(e){var t=this;return uf(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return ef(t,e),t.reload()})))},e.Db=function(e){var t=this;return uf(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return ef(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Gl(this);var t=this;return uf(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return ef(t,e),Xl(t,"displayName",e.displayName||null),Xl(t,"photoURL",e.photoUrl||null),J(t.providerData,(function(e){"password"===e.providerId&&(si(e,"displayName",t.displayName),si(e,"photoURL",t.photoURL))})),zl(t)})).then(Hl))},e.cd=function(e){var t=this;return uf(this,Jl(this).then((function(n){return re(Ql(t),e)?function(e,t,n){return gu(e,Bs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return J(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),J(Ql(t),(function(e){n[e]||Yl(t,e)})),n[$o.PROVIDER_ID]||si(t,"phoneNumber",null),zl(t)})):zl(t).then((function(){throw new k("no-such-provider")}))})))},e.delete=function(){var e=this;return uf(this,this.I().then((function(t){return gu(e.a,qs,{idToken:t})})).then((function(){e.dispatchEvent(new Sl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Ml(e,null),Ll(e,null),jl(e,null),e.N=[],e.J=!0,ql(e),si(e,"refreshToken",null),e.b&&Qc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Mb,this):null},e.Ec=function(e){var t=this;return of(this,"linkViaPopup",e,(function(){return tf(t,e.providerId).then((function(){return zl(t)}))}),!1)},e.Nc=function(e){return of(this,"reauthViaPopup",e,(function(){return jt()}),!0)},e.Fc=function(e){var t=this;return af(this,"linkViaRedirect",e,(function(){return tf(t,e.providerId)}),!1)},e.Oc=function(e){return af(this,"reauthViaRedirect",e,(function(){return jt()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return Ds(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=nf(i,e,"link"),rf(i,e)})).then((function(){return o})),uf(this,n)},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=jt().then((function(){return Eo(Ms(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=nf(i,e,"reauthenticate"),ef(i,e),i.i=null,i.reload()})).then((function(){return o}));return uf(this,a,!0)},e.vb=function(e){var t=this,n=null;return uf(this,this.I().then((function(t){return n=t,"undefined"===typeof e||Ee(e)?{}:Xi(new qi(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return uf(this,this.I().then((function(e){return r=e,"undefined"===typeof t||Ee(t)?{}:Xi(new qi(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return e=Eo(jt(e),n.uid).then((function(e){return t=nf(n,e,"reauthenticate"),ef(n,e),n.i=null,n.reload()})).then((function(){return t})),uf(this,e,!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ke(e,this.metadata.w()),J(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ke(e,this.S.w()),e};var ff={name:"redirectUser",F:"session"};function hf(e){return mc(e.b,ff,e.a)}function df(e){this.a=e,this.b=pc(),this.c=null,this.f=function(e){var t=gf("local"),n=gf("session"),r=gf("none");return function(e,t,n){var r=gc(t,n),i=vc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=$r(s.localStorage.getItem(r))}catch(j){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(vf,e.a).then((function(e){return e?gf(e):t}))}))}))})).then((function(t){return e.c=t,pf(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(gf("local"),this.a,w(this.g,this))}function pf(e,t){var n,r=[];for(n in hc)hc[n]!==t&&r.push(mc(e.b,gf(hc[n]),e.a));return r.push(mc(e.b,vf,e.a)),function(e){return new Pt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Vt(e[s],S(o,s),a);else t(i)}))}(r)}df.prototype.g=function(){var e=this,t=gf("local");bf(this,(function(){return jt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return pf(e,"local").then((function(){e.c=t}))}))}))};var vf={name:"persistence",F:"session"};function gf(e){return{name:"authUser",F:e}}function mf(e,t){return bf(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function yf(e){return bf(e,(function(){return mc(e.b,e.c,e.a)}))}function _f(e,t,n){return bf(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),cf(e||{})}))}))}function bf(e,t){return e.f=e.f.then(t,t),e.f}function wf(e){if(this.l=!1,si(this,"settings",new ll),si(this,"app",e),!Af(this).options||!Af(this).options.apiKey)throw new k("invalid-api-key");e=Nt.default.SDK_VERSION?Ur(Nt.default.SDK_VERSION):null,this.a=new cs(Af(this).options&&Af(this).options.apiKey,L(x),e),this.P=[],this.s=[],this.N=[],this.Pa=Nt.default.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=Nt.default.INTERNAL.createSubscribe(w(this.Ac,this)),xf(this,null),this.i=new df(Af(this).options.apiKey+":"+Af(this).name),this.D=new lf(Af(this).options.apiKey+":"+Af(this).name),this.$=Df(this,function(e){var t=Af(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(ff,e.a).then((function(e){return e&&t&&(e.authDomain=t),cf(e||{})}))}(e.D,Af(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),hf(e.D)}));return Df(e,t)}(e).then((function(){return _f(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return mf(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:yf(e.i)}))):null})).then((function(t){xf(e,t||null)}));return Df(e,n)}(this)),this.h=Df(this,function(e){return e.$.then((function(){return kf(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(gf("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(e){var t=Af(e).options.authDomain,n=Af(e).options.apiKey;t&&zr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=rl(t,n,Af(e).name,e.R),Gc(e.b,e),Pf(e)&&Kl(Pf(e)),e.m){Kl(e.m);var r=e.m;r.xa(e.la()),Ml(r,e),Fl(r=e.m,e.J),jl(r,e),Dl(r=e.m,e.R),Ll(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,On.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Yn(this.R.url);e=ci({protocol:e.c,host:e.a,port:e.g,options:ci({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function Sf(e){un.call(this,"languageCodeChanged"),this.h=e}function Ef(e){un.call(this,"emulatorConfigChanged"),this.c=e}function If(e){un.call(this,"frameworkChanged"),this.f=e}function Tf(e){return e.Oa||Ut(new k("auth-domain-config-required"))}function kf(e){if(!zr())return Ut(new k("operation-not-supported-in-this-environment"));var t=Tf(e).then((function(){return e.b.ra()})).then((function(e){return e?ci(e):null}));return Df(e,t)}function Cf(e,t){var n={};return n.apiKey=Af(e).options.apiKey,n.authDomain=Af(e).options.authDomain,n.appName=Af(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new Rl(e,t);return n&&(i.ha=n),r&&Fl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return Pf(e)&&t.uid==Pf(e).uid?(Zl(Pf(e),t),e.da(t)):(xf(e,t),Kl(t),e.da(t))})).then((function(){Rf(e)}))}function xf(e,t){Pf(e)&&(function(e,t){oe(e.W,(function(e){return e==t}))}(Pf(e),e.Ba),En(Pf(e),"tokenChanged",e.qa),En(Pf(e),"userDeleted",e.za),En(Pf(e),"userInvalidated",e.Aa),ql(Pf(e))),t&&(t.W.push(e.Ba),bn(t,"tokenChanged",e.qa),bn(t,"userDeleted",e.za),bn(t,"userInvalidated",e.Aa),0<e.u&&Vl(t)),si(e,"currentUser",t),t&&(t.xa(e.la()),Ml(t,e),Fl(t,e.J),jl(t,e),Dl(t,e.R),Ll(t,e))}function Nf(e,t){var n=null,r=null;return Df(e,t.then((function(t){return n=Xo(t),r=uo(t),Cf(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=yl(t.w(),e,w(e.kc,e))),n||t})).then((function(){return ci({user:Pf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Af(e){return e.app}function Pf(e){return e.currentUser}function Of(e){return Pf(e)&&Pf(e)._lat||null}function Rf(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Of(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Of(e))}}function Df(e,t){return e.P.push(t),t.oa((function(){ie(e.P,t)})),t}function Mf(){}function Lf(){this.a={},this.b=1e12}df.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");e:{for(r in hc)if(hc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Rr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Wu()&&"none"!==e)throw n;break;default:if(!Br()&&"none"!==e)throw n}}(e),bf(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,pf(n,e)})).then((function(){if(n.c=gf(e),t)return n.b.set(n.c,t,n.a)})):jt()}))},I(wf,On),I(Sf,un),I(Ef,un),I(If,un),(e=wf.prototype).yb=function(e){return Df(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,gs(this.a,this.aa),this.dispatchEvent(new Sf(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&Nr().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,ms(this.a,this.R),this.dispatchEvent(new Ef(this.R))}},e.Gc=function(e){this.J.push(e),_s(this.a,Nt.default.SDK_VERSION?Ur(Nt.default.SDK_VERSION,this.J):null),this.dispatchEvent(new If(this.J))},e.Ga=function(){return se(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:Af(this).options.apiKey,authDomain:Af(this).options.authDomain,appName:Af(this).name,currentUser:Pf(this)&&Pf(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return Nf(i,Rs(i.a,o))}))},e.Xc=function(e){if(!zr())return Ut(new k("operation-not-supported-in-this-environment"));var t=this,n=ao(e.providerId),r=Yr(),i=null;(!Hr()||Pr())&&Af(this).options.authDomain&&e.isOAuthProvider&&(i=Pu(Af(this).options.authDomain,Af(this).options.apiKey,Af(this).name,"signInViaPopup",e,null,r,Nt.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=kr(i,n&&n.va,n&&n.ua);return n=Tf(this).then((function(n){return Xc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new Pt((function(e,n){t.na("signInViaPopup",null,new k("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=el(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&Tr(o),e?ci(e):null})).o((function(e){throw o&&Tr(o),e})),Df(this,n)},e.Yc=function(e){if(!zr())return Ut(new k("operation-not-supported-in-this-environment"));var t=this,n=Tf(this).then((function(){return function(e){return bf(e,(function(){return e.b.set(vf,e.c.F,e.a)}))}(t.i)})).then((function(){return Jc(t.b,"signInViaRedirect",e,void 0,t.T())}));return Df(this,n)},e.ra=function(){var e=this;return kf(this).then((function(t){return e.b&&al(e.b.b),t})).o((function(t){throw e.b&&al(e.b.b),t}))},e.dd=function(e){if(!e)return Ut(new k("null-user"));if(this.S!=e.tenantId)return Ut(new k("tenant-id-mismatch"));var t=this,n={};n.apiKey=Af(this).options.apiKey,n.authDomain=Af(this).options.authDomain,n.appName=Af(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[fs]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Rl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Fl(t,r),Zl(t,e),t}(e,n,t.D,t.Ga());return Df(this,this.h.then((function(){if(Af(t).options.apiKey!=e.l)return r.reload()})).then((function(){return Pf(t)&&e.uid==Pf(t).uid?(Zl(Pf(t),e),t.da(e)):(xf(t,r),Kl(r),t.da(r))})).then((function(){Rf(t)})))},e.Bb=function(){var e=this;return Df(this,this.h.then((function(){return e.b&&al(e.b.b),Pf(e)?(xf(e,null),yf(e.i).then((function(){Rf(e)}))):jt()})))},e.Zc=function(){var e=this;return _f(this.i,Af(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Pf(e)&&t){n=Pf(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Zl(Pf(e),t),Pf(e).I();(Pf(e)||t)&&(xf(e,t),t&&(Kl(t),t.ha=e.D),e.b&&Gc(e.b,e),Rf(e))}}))},e.da=function(e){return mf(this.i,e)},e.mc=function(){Rf(this),this.da(Pf(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return Nf(t,jt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Pf(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Df(e,e.h.then((function(){!e.l&&re(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Of(e)))})))}(this,(function(){e.next(Pf(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(Pf(r)):"function"===typeof e.next&&e.next(Pf(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(Pf(r)):"function"===typeof e.next&&e.next(Pf(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this,n=this.h.then((function(){return Pf(t)?Pf(t).I(e).then((function(e){return{accessToken:e}})):null}));return Df(this,n)},e.Tc=function(e){var t=this;return this.h.then((function(){return Nf(t,gu(t.a,lu,{token:e}))})).then((function(e){var n=e.user;return Xl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return Nf(n,gu(n.a,fu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return Nf(n,gu(n.a,Us,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return Nf(t,e.ka(t.a))}))},e.Sc=function(e){return oi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=Pf(e);if(t&&t.isAnonymous){var n=ci({providerId:null,isNewUser:!1});return ci({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Nf(e,e.a.Ab()).then((function(t){var n=t.user;return Xl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return Pf(this)&&Pf(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Pf(this)&&Vl(Pf(this))},e.Pc=function(e){var t=this;J(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&Pf(this)&&ql(Pf(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),Df(this,this.h.then((function(){t.l||re(t.s,e)&&e(Of(t))})))},e.removeAuthTokenListener=function(e){oe(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(gf("local"),e.a,this.ja),this.b&&(Qc(this.b,this),al(this.b.b)),Promise.resolve()},e.hc=function(e){return Df(this,function(e,t){return gu(e,Vs,{identifier:t,continueUri:Kr()?wr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Wo(e)},e.xb=function(e,t){var n=this;return Df(this,jt().then((function(){var e=new qi(t);if(!e.c)throw new k("argument-error",Ki+" must be true when sending sign in link to email");return Xi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return Df(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return Df(this,this.a.Sa(e).then((function(e){return new yi(e)})))},e.kb=function(e){return Df(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return Df(this,jt().then((function(){return"undefined"===typeof t||Ee(t)?{}:Xi(new qi(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return Df(this,hl(this,e,t,w(this.ab,this)))},e.Vc=function(e,t){var n=this;return Df(this,jt().then((function(){var r=t||wr(),i=Ko(e,r);if(!(r=Wo(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.ab(i)})))},Mf.prototype.render=function(){},Mf.prototype.reset=function(){},Mf.prototype.getResponse=function(){},Mf.prototype.execute=function(){};var Ff=null;function jf(e,t){return(t=Uf(t))&&e.a[t]||null}function Uf(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Vf(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=yt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():bn(this.f,"click",this.i)}function qf(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Bf(){}function zf(){}Lf.prototype.render=function(e,t){return this.a[this.b.toString()]=new Vf(e,t),this.b++},Lf.prototype.reset=function(e){var t=jf(this,e);e=Uf(e),t&&e&&(t.delete(),delete this.a[e])},Lf.prototype.getResponse=function(e){return(e=jf(this,e))?e.getResponse():null},Lf.prototype.execute=function(e){(e=jf(this,e))&&e.execute()},Vf.prototype.getResponse=function(){return qf(this),this.b},Vf.prototype.execute=function(){qf(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(F){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(F){}e.h&&e.execute()}),6e4)}),500))},Vf.prototype.delete=function(){qf(this),this.g=!0,clearTimeout(this.a),this.a=null,En(this.f,"click",this.i)},si(Bf,"FACTOR_ID","phone"),zf.prototype.g=function(){return Ff||(Ff=new Lf),jt(Ff)},zf.prototype.c=function(){};var Kf=null;function Wf(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Hf=new xe(Oe,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Gf=new Jr(3e4,6e4);Wf.prototype.g=function(e){var t=this;return new Pt((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),Gf.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete s[t.a]},jt(ns(Le(Hf,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Wf.prototype.c=function(){this.b--};var Qf=null;function $f(e,t,n,r,i,o,a){if(si(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Kf||(Kf=new zf),a=Kf):(Qf||(Qf=new Wf),a=Qf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Zf])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Jf],!s.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!yt(t)||!this.i&&yt(t).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new cs(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Yf];this.a[Yf]=function(e){if(eh(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=qr(c,s);"function"===typeof t&&t(e)}};var l=this.a[Xf];this.a[Xf]=function(){if(eh(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=qr(l,s);"function"===typeof e&&e()}}}var Yf="callback",Xf="expired-callback",Zf="sitekey",Jf="size";function eh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(F){}}function th(e,t){return e.h.push(t),t.oa((function(){ie(e.h,t)})),t}function nh(e){if(e.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function rh(e,t,n){var r=!1;try{this.b=n||Nt.default.app()}catch(W){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(W){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(W){}o=Nt.default.SDK_VERSION?Ur(Nt.default.SDK_VERSION,o):null,$f.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(j){e=null}return e}),o,L(x),r)}function ih(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=oh.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=oh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new k("argument-error",e+" failed: "+r)}(e=$f.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=th(this,jt().then((function(){if(Kr()&&!Or())return Nr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,gu(e.s,Js,{})})).then((function(t){e.a[Zf]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){nh(this);var e=this;return th(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=yt(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!mt&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Je(a.name),'"'),a.type){o.push(' type="',Je(a.type),'"');var s={};ke(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=It(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):_t(o,a)),2<r.length&&Et(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){nh(this);var e=this;return th(this,this.render().then((function(t){return new Pt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){oe(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){nh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){nh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=yt(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},I(rh,$f);var oh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ah(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function sh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function uh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function ch(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function lh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function fh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function hh(e,t){return v(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function dh(e){return v(e)&&"string"===typeof e.uid}function ph(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function vh(e,t){for(var n in t){var r=t[n].name;e[r]=yh(r,e[n],t[n].j)}}function gh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:S((function(e){return this[e]}),n),set:S((function(e,t,n,r){ih(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function mh(e,t,n,r){e[t]=yh(t,n,r)}function yh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return ih(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}vh(wf.prototype,{kb:{name:"applyActionCode",j:[ah("code")]},Sa:{name:"checkActionCode",j:[ah("code")]},ob:{name:"confirmPasswordReset",j:[ah("code"),ah("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ah("email"),ah("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ah("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ah("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ph(uh(),ch(),"nextOrObserver"),ch("opt_error",!0),ch("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ph(uh(),ch(),"nextOrObserver"),ch("opt_error",!0),ch("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ah("email"),ph(uh("opt_actionCodeSettings",!0),lh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ah("email"),uh("actionCodeSettings")]},yb:{name:"setPersistence",j:[ah("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[fh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[fh()]},Tc:{name:"signInWithCustomToken",j:[ah("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ah("email"),ah("password")]},Vc:{name:"signInWithEmailLink",j:[ah("email"),ah("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ah("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[ph({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Rl)}},lh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ah(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ah("url"),uh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ah("code")]}}),gh(wf.prototype,{lc:{name:"languageCode",lb:ph(ah(),lh(),"languageCode")},ti:{name:"tenantId",lb:ph(ah(),lh(),"tenantId")}}),wf.Persistence=hc,wf.Persistence.LOCAL="local",wf.Persistence.SESSION="session",wf.Persistence.NONE="none",vh(Rl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[sh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[sh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[fh()]},rb:{name:"linkWithCredential",j:[fh()]},Dc:{name:"linkWithPhoneNumber",j:[ah("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[fh()]},ub:{name:"reauthenticateWithCredential",j:[fh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ah("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ph(uh("opt_actionCodeSettings",!0),lh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ah(null,!0)]},cd:{name:"unlink",j:[ah("provider")]},Cb:{name:"updateEmail",j:[ah("email")]},Db:{name:"updatePassword",j:[ah("password")]},ed:{name:"updatePhoneNumber",j:[fh("phone")]},Eb:{name:"updateProfile",j:[uh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ah("email"),ph(uh("opt_actionCodeSettings",!0),lh(null,!0),"opt_actionCodeSettings",!0)]}}),vh(Lf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vh(Mf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vh(Pt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),gh(ll.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:sh("appVerificationDisabledForTesting")}}),vh(fl.prototype,{confirm:{name:"confirm",j:[ah("verificationCode")]}}),mh(So,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[No,Bo,Go,ko],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[ph(ah(),uh(),"json")]),mh(zo,"credential",(function(e,t){return new qo(e,t)}),[ah("email"),ah("password")]),vh(qo.prototype,{w:{name:"toJSON",j:[ah(null,!0)]}}),vh(Ro.prototype,{Ca:{name:"addScope",j:[ah("scope")]},Ka:{name:"setCustomParameters",j:[uh("customOAuthParameters")]}}),mh(Ro,"credential",Do,[ph(ah(),uh(),"token")]),mh(zo,"credentialWithLink",Ko,[ah("email"),ah("emailLink")]),vh(Mo.prototype,{Ca:{name:"addScope",j:[ah("scope")]},Ka:{name:"setCustomParameters",j:[uh("customOAuthParameters")]}}),mh(Mo,"credential",Lo,[ph(ah(),uh(),"token")]),vh(Fo.prototype,{Ca:{name:"addScope",j:[ah("scope")]},Ka:{name:"setCustomParameters",j:[uh("customOAuthParameters")]}}),mh(Fo,"credential",jo,[ph(ah(),ph(uh(),lh()),"idToken"),ph(ah(),lh(),"accessToken",!0)]),vh(Uo.prototype,{Ka:{name:"setCustomParameters",j:[uh("customOAuthParameters")]}}),mh(Uo,"credential",Vo,[ph(ah(),uh(),"token"),ah("secret",!0)]),vh(Oo.prototype,{Ca:{name:"addScope",j:[ah("scope")]},credential:{name:"credential",j:[ph(ah(),ph(uh(),lh()),"optionsOrIdToken"),ph(ah(),lh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[uh("customOAuthParameters")]}}),vh(Co.prototype,{w:{name:"toJSON",j:[ah(null,!0)]}}),vh(Io.prototype,{w:{name:"toJSON",j:[ah(null,!0)]}}),mh($o,"credential",Yo,[ah("verificationId"),ah("verificationCode")]),vh($o.prototype,{gb:{name:"verifyPhoneNumber",j:[ph(ah(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?hh(e.session,bo)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?hh(e.session,wo)&&dh(e.multiFactorHint):e.session&&e.multiFactorUid?hh(e.session,wo)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),vh(Ho.prototype,{w:{name:"toJSON",j:[ah(null,!0)]}}),vh(k.prototype,{toJSON:{name:"toJSON",j:[ah(null,!0)]}}),vh(oa.prototype,{toJSON:{name:"toJSON",j:[ah(null,!0)]}}),vh(ia.prototype,{toJSON:{name:"toJSON",j:[ah(null,!0)]}}),vh(ml.prototype,{toJSON:{name:"toJSON",j:[ah(null,!0)]}}),vh(pl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),vh(El.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},ah("displayName",!0)]},bd:{name:"unenroll",j:[ph({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:dh},ah(),"multiFactorInfoIdentifier")]}}),vh(rh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),mh(Oi,"parseLink",Vi,[ah("link")]),mh(Bf,"assertion",(function(e){return new wl(e)}),[fh("phone")]),function(){if("undefined"===typeof Nt.default||!Nt.default.INTERNAL||!Nt.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:bi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:_i,VERIFY_AND_CHANGE_EMAIL:wi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:wf,AuthCredential:So,Error:k};mh(e,"EmailAuthProvider",zo,[]),mh(e,"FacebookAuthProvider",Ro,[]),mh(e,"GithubAuthProvider",Mo,[]),mh(e,"GoogleAuthProvider",Fo,[]),mh(e,"TwitterAuthProvider",Uo,[]),mh(e,"OAuthProvider",Oo,[ah("providerId")]),mh(e,"SAMLAuthProvider",Po,[ah("providerId")]),mh(e,"PhoneAuthProvider",$o,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof wf)}}]),mh(e,"RecaptchaVerifier",rh,[ph(ah(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),uh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Nt.default.app.App)}}]),mh(e,"ActionCodeURL",Oi,[]),mh(e,"PhoneMultiFactorGenerator",Bf,[]),Nt.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new wf(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),Nt.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.nc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Nt.default.registerVersion("@firebase/auth","0.16.8"),Nt.default.INTERNAL.extendNamespace({User:Rl})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});n(9715);var At=n(2349),Pt=n(6616),Ot=n(4185),Rt=function(e,t){return Rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Rt(e,t)};function Dt(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Mt,Lt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ft=Ft||{},jt=Lt||self;function Ut(){}function Vt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function qt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Bt="closure_uid_"+(1e9*Math.random()>>>0),zt=0;function Kt(e,t,n){return e.call.apply(e.bind,arguments)}function Wt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ht(e,t,n){return(Ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kt:Wt).apply(null,arguments)}function Gt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Qt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function $t(){this.s=this.s,this.o=this.o}var Yt={};$t.prototype.s=!1,$t.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Bt)&&e[Bt]||(e[Bt]=++zt)}(this);delete Yt[e]}},$t.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Xt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Zt=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Jt(e){return Array.prototype.concat.apply([],arguments)}function en(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function tn(e){return/^[\s\xa0]*$/.test(e)}var nn,rn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function on(e,t){return-1!=e.indexOf(t)}function an(e,t){return e<t?-1:e>t?1:0}e:{var sn=jt.navigator;if(sn){var un=sn.userAgent;if(un){nn=un;break e}}nn=""}function cn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ln(e){var t={};for(var n in e)t[n]=e[n];return t}var fn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<fn.length;o++)n=fn[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function dn(e){return dn[" "](e),e}dn[" "]=Ut;var pn,vn=on(nn,"Opera"),gn=on(nn,"Trident")||on(nn,"MSIE"),mn=on(nn,"Edge"),yn=mn||gn,_n=on(nn,"Gecko")&&!(on(nn.toLowerCase(),"webkit")&&!on(nn,"Edge"))&&!(on(nn,"Trident")||on(nn,"MSIE"))&&!on(nn,"Edge"),bn=on(nn.toLowerCase(),"webkit")&&!on(nn,"Edge");function wn(){var e=jt.document;return e?e.documentMode:void 0}e:{var Sn="",En=function(){var e=nn;return _n?/rv:([^\);]+)(\)|;)/.exec(e):mn?/Edge\/([\d\.]+)/.exec(e):gn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):bn?/WebKit\/(\S+)/.exec(e):vn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(En&&(Sn=En?En[1]:""),gn){var In=wn();if(null!=In&&In>parseFloat(Sn)){pn=String(In);break e}}pn=Sn}var Tn,kn={};function Cn(){return function(e){var t=kn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=rn(String(pn)).split("."),n=rn("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=an(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||an(0==o[2].length,0==a[2].length)||an(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(jt.document&&gn){var xn=wn();Tn=xn||(parseInt(pn,10)||void 0)}else Tn=void 0;var Nn=Tn,An=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{jt.addEventListener("test",Ut,t),jt.removeEventListener("test",Ut,t)}catch(O){}return e}();function Pn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function On(e,t){if(Pn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(_n){e:{try{dn(t.nodeName);var i=!0;break e}catch(P){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Rn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&On.Z.h.call(this)}}Pn.prototype.h=function(){this.defaultPrevented=!0},Qt(On,Pn);var Rn={2:"touch",3:"pen",4:"mouse"};On.prototype.h=function(){On.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Dn="closure_listenable_"+(1e6*Math.random()|0),Mn=0;function Ln(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Mn,this.ca=this.fa=!1}function Fn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function jn(e){this.src=e,this.g={},this.h=0}function Un(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Xt(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Fn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Vn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}jn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Vn(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Ln(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var qn="closure_lm_"+(1e6*Math.random()|0),Bn={};function zn(e,t,n,r,i){if(r&&r.once)return Wn(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)zn(e,t[o],n,r,i);return null}return n=Zn(n),e&&e[Dn]?e.N(t,n,qt(r)?!!r.capture:!!r,i):Kn(e,t,n,!1,r,i)}function Kn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=qt(i)?!!i.capture:!!i,s=Yn(e);if(s||(e[qn]=s=new jn(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=$n;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)An||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Qn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Wn(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Wn(e,t[o],n,r,i);return null}return n=Zn(n),e&&e[Dn]?e.O(t,n,qt(r)?!!r.capture:!!r,i):Kn(e,t,n,!0,r,i)}function Hn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Hn(e,t[o],n,r,i);else r=qt(r)?!!r.capture:!!r,n=Zn(n),e&&e[Dn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Vn(o=e.g[t],n,r,i))&&(Fn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Yn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Vn(t,n,r,i)),(n=-1<e?t[e]:null)&&Gn(n))}function Gn(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Dn])Un(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Qn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Yn(t))?(Un(n,e),0==n.h&&(n.src=null,t[qn]=null)):Fn(e)}}}function Qn(e){return e in Bn?Bn[e]:Bn[e]="on"+e}function $n(e,t){if(e.ca)e=!0;else{t=new On(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Gn(e),e=n.call(r,t)}return e}function Yn(e){return(e=e[qn])instanceof jn?e:null}var Xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zn(e){return"function"===typeof e?e:(e[Xn]||(e[Xn]=function(t){return e.handleEvent(t)}),e[Xn])}function Jn(){$t.call(this),this.i=new jn(this),this.P=this,this.I=null}function er(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Pn(t,e);else if(t instanceof Pn)t.target=t.target||e;else{var i=t;hn(t=new Pn(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=tr(a,r,!0,t)&&i}if(i=tr(a=t.g=e,r,!0,t)&&i,i=tr(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=tr(a=t.g=n[o],r,!1,t)&&i}function tr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Un(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Qt(Jn,$t),Jn.prototype[Dn]=!0,Jn.prototype.removeEventListener=function(e,t,n,r){Hn(this,e,t,n,r)},Jn.prototype.M=function(){if(Jn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Fn(n[r]);delete t.g[e],t.h--}}this.I=null},Jn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Jn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var nr=jt.JSON.stringify;function rr(){var e=fr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ir,or=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=ar.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),ar=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new sr}),(function(e){return e.reset()})),sr=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function ur(e){jt.setTimeout((function(){throw e}),0)}function cr(e,t){ir||function(){var e=jt.Promise.resolve(void 0);ir=function(){e.then(hr)}}(),lr||(ir(),lr=!0),fr.add(e,t)}var lr=!1,fr=new or;function hr(){for(var e;e=rr();){try{e.h.call(e.g)}catch(O){ur(O)}var t=ar;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}lr=!1}function dr(e,t){Jn.call(this),this.h=e||1,this.g=t||jt,this.j=Ht(this.kb,this),this.l=Date.now()}function pr(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function vr(e,t,n){if("function"===typeof e)n&&(e=Ht(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ht(e.handleEvent,e)}return 2147483647<Number(t)?-1:jt.setTimeout(e,t||0)}function gr(e){e.g=vr((function(){e.g=null,e.i&&(e.i=!1,gr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Qt(dr,Jn),(Mt=dr.prototype).da=!1,Mt.S=null,Mt.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),er(this,"tick"),this.da&&(pr(this),this.start()))}},Mt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mt.M=function(){dr.Z.M.call(this),pr(this),delete this.g};var mr=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Rt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:gr(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}($t);function yr(e){$t.call(this),this.h=e,this.g={}}Qt(yr,$t);var _r=[];function br(e,t,n,r){Array.isArray(n)||(n&&(_r[0]=n.toString()),n=_r);for(var i=0;i<n.length;i++){var o=zn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function wr(e){cn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Gn(e)}),e),e.g={}}function Sr(){this.g=!0}function Er(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return nr(n)}catch(I){return t}}(e,n)+(r?" "+r:"")}))}yr.prototype.M=function(){yr.Z.M.call(this),wr(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sr.prototype.Aa=function(){this.g=!1},Sr.prototype.info=function(){};var Ir={},Tr=null;function kr(){return Tr=Tr||new Jn}function Cr(e){Pn.call(this,Ir.Ma,e)}function xr(e){var t=kr();er(t,new Cr(t,e))}function Nr(e,t){Pn.call(this,Ir.STAT_EVENT,e),this.stat=t}function Ar(e){var t=kr();er(t,new Nr(t,e))}function Pr(e,t){Pn.call(this,Ir.Na,e),this.size=t}function Or(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return jt.setTimeout((function(){e()}),t)}Ir.Ma="serverreachability",Qt(Cr,Pn),Ir.STAT_EVENT="statevent",Qt(Nr,Pn),Ir.Na="timingevent",Qt(Pr,Pn);var Rr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Dr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Mr(){}function Lr(e){return e.h||(e.h=e.i())}function Fr(){}Mr.prototype.h=null;var jr,Ur={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Vr(){Pn.call(this,"d")}function qr(){Pn.call(this,"c")}function Br(){}function zr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new yr(this),this.P=Wr,e=yn?125:void 0,this.W=new dr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Kr}function Kr(){this.i=null,this.g="",this.h=!1}Qt(Vr,Pn),Qt(qr,Pn),Qt(Br,Mr),Br.prototype.g=function(){return new XMLHttpRequest},Br.prototype.i=function(){return{}},jr=new Br;var Wr=45e3,Hr={},Gr={};function Qr(e,t,n){e.K=1,e.v=mi(fi(t)),e.s=n,e.U=!0,$r(e,null)}function $r(e,t){e.F=Date.now(),Jr(e),e.A=fi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ai(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Kr,e.g=Oo(e.l,n?t:null,!e.s),0<e.O&&(e.L=new mr(Ht(e.Ia,e,e.g),e.O)),br(e.V,e.g,"readystatechange",e.gb),t=e.H?ln(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xr(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Yr(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Xr(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Zr(e,n))==Gr){4==t&&(e.o=4,Ar(14),i=!1),Er(e.j,e.m,null,"[Incomplete Response]");break}if(r==Hr){e.o=4,Ar(15),Er(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Er(e.j,e.m,r,null),ii(e,r)}Yr(e)&&r!=Gr&&r!=Hr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ar(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Io(t),t.L=!0,Ar(11))):(Er(e.j,e.m,n,"[Invalid Chunked Response]"),ri(e),ni(e))}function Zr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Gr:(n=Number(t.substring(n,r)),isNaN(n)?Hr:(r+=1)+n>t.length?Gr:(t=t.substr(r,n),e.C=r+n,t))}function Jr(e){e.Y=Date.now()+e.P,ei(e,e.P)}function ei(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Or(Ht(e.eb,e),t)}function ti(e){e.B&&(jt.clearTimeout(e.B),e.B=null)}function ni(e){0==e.l.G||e.I||Co(e.l,e)}function ri(e){ti(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,pr(e.W),wr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ii(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Fi(n.i,e)))if(n.I=e.N,!e.J&&Fi(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ko(n),vo(n)}Eo(n),Ar(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Or(Ht(n.ab,n),6e3));if(1>=Li(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else No(n,11)}else if((e.J||n.g==e)&&ko(n),!tn(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(on(l,"spdy")||on(l,"quic")||on(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(ji(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,gi(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Po(r,r.H?r.la:null,r.W),d.J){Ui(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(ti(p),Jr(p)),r.g=d}else So(r);0<n.l.length&&yo(n)}else"stop"!=o[0]&&"close"!=o[0]||No(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?No(n,7):po(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}xr(4)}catch(o){}}function oi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Vt(e)||"string"===typeof e)Zt(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Vt(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Vt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function ai(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ai)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function si(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ui(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ui(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ui(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Mt=zr.prototype).setTimeout=function(e){this.P=e},Mt.gb=function(e){e=e.target;var t=this.L;t&&3==uo(e)?t.l():this.Ia(e)},Mt.Ia=function(e){try{if(e==this.g)e:{var t=uo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||yn||this.g&&(this.h.h||this.g.ga()||co(this.g)))){this.I||4!=t||7==n||xr(8==n||0>=r?3:2),ti(this);var i=this.g.ba();this.N=i;t:if(Yr(this)){var o=co(this.g);e="";var a=o.length,s=4==uo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ri(this),ni(this);var u="";break t}this.h.i=new jt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tn(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ar(12),ri(this),ni(this);break e}Er(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ii(this,i)}this.U?(Xr(this,t,u),yn&&this.i&&3==t&&(br(this.V,this.W,"tick",this.fb),this.W.start())):(Er(this.j,this.m,u,null),ii(this,u)),4==t&&ri(this),this.i&&!this.I&&(4==t?Co(this.l,this):(this.i=!1,Jr(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),ri(this),ni(this)}}}catch(t){}},Mt.fb=function(){if(this.g){var e=uo(this.g),t=this.g.ga();this.C<t.length&&(ti(this),Xr(this,e,t),this.i&&4!=e&&Jr(this))}},Mt.cancel=function(){this.I=!0,ri(this)},Mt.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(xr(3),Ar(17)),ri(this),this.o=2,ni(this)):ei(this,this.Y-e)},(Mt=ai.prototype).R=function(){si(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Mt.T=function(){return si(this),this.g.concat()},Mt.get=function(e,t){return ui(this.h,e)?this.h[e]:t},Mt.set=function(e,t){ui(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Mt.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var ci=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function li(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof li){this.g=void 0!==t?t:e.g,hi(this,e.j),this.s=e.s,di(this,e.i),pi(this,e.m),this.l=e.l,t=e.h;var n=new ki;n.i=t.i,t.g&&(n.g=new ai(t.g),n.h=t.h),vi(this,n),this.o=e.o}else e&&(n=String(e).match(ci))?(this.g=!!t,hi(this,n[1]||"",!0),this.s=yi(n[2]||""),di(this,n[3]||"",!0),pi(this,n[4]),this.l=yi(n[5]||"",!0),vi(this,n[6]||"",!0),this.o=yi(n[7]||"")):(this.g=!!t,this.h=new ki(null,this.g))}function fi(e){return new li(e)}function hi(e,t,n){e.j=n?yi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function di(e,t,n){e.i=n?yi(t,!0):t}function pi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function vi(e,t,n){t instanceof ki?(e.h=t,function(e,t){t&&!e.j&&(Ci(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xi(this,t),Ai(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=_i(t,Ii)),e.h=new ki(t,e.g))}function gi(e,t,n){e.h.set(t,n)}function mi(e){return gi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function yi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _i(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,bi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function bi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}li.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_i(t,wi,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(_i(t,wi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(_i(n,"/"==n.charAt(0)?Ei:Si,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",_i(n,Ti)),e.join("")};var wi=/[#\/\?@]/g,Si=/[#\?:]/g,Ei=/[#\?]/g,Ii=/[#\?@]/g,Ti=/#/g;function ki(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ci(e){e.g||(e.g=new ai,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xi(e,t){Ci(e),t=Pi(e,t),ui(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ui((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&si(e)))}function Ni(e,t){return Ci(e),t=Pi(e,t),ui(e.g.h,t)}function Ai(e,t,n){xi(e,t),0<n.length&&(e.i=null,e.g.set(Pi(e,t),en(n)),e.h+=n.length)}function Pi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Mt=ki.prototype).add=function(e,t){Ci(this),this.i=null,e=Pi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Mt.forEach=function(e,t){Ci(this),this.g.forEach((function(n,r){Zt(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Mt.T=function(){Ci(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Mt.R=function(e){Ci(this);var t=[];if("string"===typeof e)Ni(this,e)&&(t=Jt(t,this.g.get(Pi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Jt(t,e[n])}return t},Mt.set=function(e,t){return Ci(this),this.i=null,Ni(this,e=Pi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Mt.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Oi=function(e,t){this.h=e,this.g=t};function Ri(e){this.l=e||Di,jt.PerformanceNavigationTiming?e=0<(e=jt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(jt.g&&jt.g.Ea&&jt.g.Ea()&&jt.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Di=10;function Mi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Li(e){return e.h?1:e.g?e.g.size:0}function Fi(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ji(e,t){e.g?e.g.add(t):e.h=t}function Ui(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Vi(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Dt(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return en(e.i)}function qi(){}function Bi(){this.g=new qi}function zi(e,t,n){var r=n||"";try{oi(e,(function(e,n){var i=e;qt(e)&&(i=nr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ki(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(P){}}function Wi(e){this.l=e.$b||null,this.j=e.ib||!1}function Hi(e,t){Jn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Gi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ri.prototype.cancel=function(){var e,t;if(this.i=Vi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Dt(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},qi.prototype.stringify=function(e){return jt.JSON.stringify(e,void 0)},qi.prototype.parse=function(e){return jt.JSON.parse(e,void 0)},Qt(Wi,Mr),Wi.prototype.g=function(){return new Hi(this.l,this.j)},Wi.prototype.i=function(e){return function(){return e}}({}),Qt(Hi,Jn);var Gi=0;function Qi(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function $i(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Yi(e)}function Yi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Mt=Hi.prototype).open=function(e,t){if(this.readyState!=Gi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Yi(this)},Mt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||jt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$i(this)),this.readyState=Gi},Mt.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Yi(this)),this.g&&(this.readyState=3,Yi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof jt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qi(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Mt.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?$i(this):Yi(this),3==this.readyState&&Qi(this)}},Mt.Ua=function(e){this.g&&(this.response=this.responseText=e,$i(this))},Mt.Ta=function(e){this.g&&(this.response=e,$i(this))},Mt.ha=function(){this.g&&$i(this)},Mt.setRequestHeader=function(e,t){this.v.append(e,t)},Mt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Mt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Xi=jt.JSON.parse;function Zi(e){Jn.call(this),this.headers=new ai,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ji,this.K=this.L=!1}Qt(Zi,Jn);var Ji="",eo=/^https?$/i,to=["POST","PUT"];function no(e){return"content-type"==e.toLowerCase()}function ro(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,io(e),ao(e)}function io(e){e.D||(e.D=!0,er(e,"complete"),er(e,"error"))}function oo(e){if(e.h&&"undefined"!=typeof Ft&&(!e.C[1]||4!=uo(e)||2!=e.ba()))if(e.v&&4==uo(e))vr(e.Fa,0,e);else if(er(e,"readystatechange"),4==uo(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(ci)[1]||null;if(!o&&jt.self&&jt.self.location){var a=jt.self.location.protocol;o=a.substr(0,a.length-1)}i=!eo.test(o?o.toLowerCase():"")}t=i}if(t)er(e,"complete"),er(e,"success");else{e.m=6;try{var s=2<uo(e)?e.g.statusText:""}catch(N){s=""}e.j=s+" ["+e.ba()+"]",io(e)}}finally{ao(e)}}}function ao(e,t){if(e.g){so(e);var n=e.g,r=e.C[0]?Ut:null;e.g=null,e.C=null,t||er(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function so(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(jt.clearTimeout(e.A),e.A=null)}function uo(e){return e.g?e.g.readyState:0}function co(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ji:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(V){return null}}function lo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return cn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gi(e,t,n))}function fo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ho(e){this.za=0,this.l=[],this.h=new Sr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fo("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fo("baseRetryDelayMs",5e3,e),this.$a=fo("retryDelaySeedMs",1e4,e),this.Ya=fo("forwardChannelMaxRetries",2,e),this.ra=fo("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ri(e&&e.concurrentRequestLimit),this.Ca=new Bi,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function po(e){if(go(e),3==e.G){var t=e.V++,n=fi(e.F);gi(n,"SID",e.J),gi(n,"RID",t),gi(n,"TYPE","terminate"),bo(e,n),(t=new zr(e,e.h,t,void 0)).K=2,t.v=mi(fi(n)),n=!1,jt.navigator&&jt.navigator.sendBeacon&&(n=jt.navigator.sendBeacon(t.v.toString(),"")),!n&&jt.Image&&((new Image).src=t.v,n=!0),n||(t.g=Oo(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Jr(t)}Ao(e)}function vo(e){e.g&&(Io(e),e.g.cancel(),e.g=null)}function go(e){vo(e),e.u&&(jt.clearTimeout(e.u),e.u=null),ko(e),e.i.cancel(),e.m&&("number"===typeof e.m&&jt.clearTimeout(e.m),e.m=null)}function mo(e,t){e.l.push(new Oi(e.Za++,t)),3==e.G&&yo(e)}function yo(e){Mi(e.i)||e.m||(e.m=!0,cr(e.Ha,e),e.C=0)}function _o(e,t){var n;n=t?t.m:e.V++;var r=fi(e.F);gi(r,"SID",e.J),gi(r,"RID",n),gi(r,"AID",e.U),bo(e,r),e.o&&e.s&&lo(r,e.o,e.s),n=new zr(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=wo(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ji(e.i,n),Qr(n,r,t)}function bo(e,t){e.j&&oi({},(function(e,n){gi(t,n,e)}))}function wo(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ht(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{zi(l,a,"req"+c+"_")}catch(ae){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function So(e){e.g||e.u||(e.Y=1,cr(e.Ga,e),e.A=0)}function Eo(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Or(Ht(e.Ga,e),xo(e,e.A)),e.A++,!0)}function Io(e){null!=e.B&&(jt.clearTimeout(e.B),e.B=null)}function To(e){e.g=new zr(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=fi(e.oa);gi(t,"RID","rpc"),gi(t,"SID",e.J),gi(t,"CI",e.N?"0":"1"),gi(t,"AID",e.U),bo(e,t),gi(t,"TYPE","xmlhttp"),e.o&&e.s&&lo(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=mi(fi(t)),n.s=null,n.U=!0,$r(n,e)}function ko(e){null!=e.v&&(jt.clearTimeout(e.v),e.v=null)}function Co(e,t){var n=null;if(e.g==t){ko(e),Io(e),e.g=null;var r=2}else{if(!Fi(e.i,t))return;n=t.D,Ui(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;er(r=kr(),new Pr(r,n,t,i)),yo(e)}else So(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Li(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Or(Ht(e.Ha,e,t),xo(e,e.C)),e.C++,!0))}(e,t)||2==r&&Eo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:No(e,5);break;case 4:No(e,10);break;case 3:No(e,6);break;default:No(e,2)}}function xo(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function No(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ht(e.jb,e);n||(n=new li("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||hi(n,"https"),mi(n)),function(e,t){var n=new Sr;if(jt.Image){var r=new Image;r.onload=Gt(Ki,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Gt(Ki,n,r,"TestLoadImage: error",!1,t),r.onabort=Gt(Ki,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Gt(Ki,n,r,"TestLoadImage: timeout",!1,t),jt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ar(2);e.G=0,e.j&&e.j.va(t),Ao(e),go(e)}function Ao(e){e.G=0,e.I=-1,e.j&&(0==Vi(e.i).length&&0==e.l.length||(e.i.i.length=0,en(e.l),e.l.length=0),e.j.ua())}function Po(e,t,n){var r=function(e){return e instanceof li?fi(e):new li(e,void 0)}(n);if(""!=r.i)t&&di(r,t+"."+r.i),pi(r,r.m);else{var i=jt.location;r=function(e,t,n,r){var i=new li(null,void 0);return e&&hi(i,e),t&&di(i,t),n&&pi(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&cn(e.aa,(function(e,t){gi(r,t,e)})),t=e.D,n=e.sa,t&&n&&gi(r,t,n),gi(r,"VER",e.ma),bo(e,r),r}function Oo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Zi(new Wi({ib:!0})):new Zi(e.qa)).L=e.H,t}function Ro(){}function Do(){if(gn&&!(10<=Number(Nn)))throw Error("Environmental error: no available transport.")}function Mo(e,t){Jn.call(this),this.g=new ho(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!tn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!tn(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new jo(this)}function Lo(e){Vr.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Fo(){qr.call(this),this.status=1}function jo(e){this.g=e}(Mt=Zi.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jr.g(),this.C=this.u?Lr(this.u):Lr(jr),this.g.onreadystatechange=Ht(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(P){return void ro(this,P)}e=n||"";var i=new ai(this.headers);r&&oi(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=no,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=jt.FormData&&e instanceof jt.FormData,!(0<=Xt(to,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{so(this),0<this.B&&((this.K=function(e){return gn&&Cn()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.pa,this)):this.A=vr(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(P){ro(this,P)}},Mt.pa=function(){"undefined"!=typeof Ft&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,er(this,"timeout"),this.abort(8))},Mt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,er(this,"complete"),er(this,"abort"),ao(this))},Mt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ao(this,!0)),Zi.Z.M.call(this)},Mt.Fa=function(){this.s||(this.F||this.v||this.l?oo(this):this.cb())},Mt.cb=function(){oo(this)},Mt.ba=function(){try{return 2<uo(this)?this.g.status:-1}catch(A){return-1}},Mt.ga=function(){try{return this.g?this.g.responseText:""}catch(A){return""}},Mt.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Xi(t)}},Mt.Da=function(){return this.m},Mt.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Mt=ho.prototype).ma=8,Mt.G=1,Mt.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(V){}},Mt.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new zr(this,this.h,e,void 0),n=this.s;if(this.P&&(n?hn(n=ln(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=wo(this,t,r),gi(i=fi(this.F),"RID",e),gi(i,"CVER",22),this.D&&gi(i,"X-HTTP-Session-Id",this.D),bo(this,i),this.o&&n&&lo(i,this.o,n),ji(this.i,t),this.Ra&&gi(i,"TYPE","init"),this.ja?(gi(i,"$req",r),gi(i,"SID","null"),t.$=!0,Qr(t,i,null)):Qr(t,i,r),this.G=2}}else 3==this.G&&(e?_o(this,e):0==this.l.length||Mi(this.i)||_o(this))},Mt.Ga=function(){if(this.u=null,To(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Or(Ht(this.bb,this),e)}},Mt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ar(10),vo(this),To(this))},Mt.ab=function(){null!=this.v&&(this.v=null,vo(this),Eo(this),Ar(19))},Mt.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ar(2)):(this.h.info("Failed to ping google.com"),Ar(1))},(Mt=Ro.prototype).xa=function(){},Mt.wa=function(){},Mt.va=function(){},Mt.ua=function(){},Mt.Oa=function(){},Do.prototype.g=function(e,t){return new Mo(e,t)},Qt(Mo,Jn),Mo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),cr(Ht(e.hb,e,t))),Ar(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Po(e,null,e.W),yo(e)},Mo.prototype.close=function(){po(this.g)},Mo.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,mo(this.g,t)}else this.v?((t={}).__data__=nr(e),mo(this.g,t)):mo(this.g,e)},Mo.prototype.M=function(){this.g.j=null,delete this.j,po(this.g),delete this.g,Mo.Z.M.call(this)},Qt(Lo,Vr),Qt(Fo,qr),Qt(jo,Ro),jo.prototype.xa=function(){er(this.g,"a")},jo.prototype.wa=function(e){er(this.g,new Lo(e))},jo.prototype.va=function(e){er(this.g,new Fo(e))},jo.prototype.ua=function(){er(this.g,"b")},Do.prototype.createWebChannel=Do.prototype.g,Mo.prototype.send=Mo.prototype.u,Mo.prototype.open=Mo.prototype.m,Mo.prototype.close=Mo.prototype.close,Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Dr.COMPLETE="complete",Fr.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",Jn.prototype.listen=Jn.prototype.N,Zi.prototype.listenOnce=Zi.prototype.O,Zi.prototype.getLastError=Zi.prototype.La,Zi.prototype.getLastErrorCode=Zi.prototype.Da,Zi.prototype.getStatus=Zi.prototype.ba,Zi.prototype.getResponseJson=Zi.prototype.Qa,Zi.prototype.getResponseText=Zi.prototype.ga,Zi.prototype.send=Zi.prototype.ea;var Uo=function(){return new Do},Vo=function(){return kr()},qo=Rr,Bo=Dr,zo=Ir,Ko={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Wo=Wi,Ho=Fr,Go=Zi,Qo=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Qo.o=-1;var $o={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Yo=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,At.__extends)(t,e),t}(Error),Xo=new Ot.Logger("@firebase/firestore");function Zo(){return Xo.logLevel}function Jo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Xo.logLevel<=Ot.LogLevel.DEBUG){var r=t.map(na);Xo.debug.apply(Xo,(0,At.__spreadArray)(["Firestore (8.8.1): "+e],r))}}function ea(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Xo.logLevel<=Ot.LogLevel.ERROR){var r=t.map(na);Xo.error.apply(Xo,(0,At.__spreadArray)(["Firestore (8.8.1): "+e],r))}}function ta(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Xo.logLevel<=Ot.LogLevel.WARN){var r=t.map(na);Xo.warn.apply(Xo,(0,At.__spreadArray)(["Firestore (8.8.1): "+e],r))}}function na(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ra(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+e;throw ea(t),new Error(t)}function ia(e,t){e||ra()}function oa(e,t){return e}function aa(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var sa=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=aa(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function ua(e,t){return e<t?-1:e>t?1:0}function ca(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function la(e){return e+"\0"}var fa=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Yo($o.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Yo($o.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Yo($o.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Yo($o.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?ua(this.nanoseconds,e.nanoseconds):ua(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ha=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new fa(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function da(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pa(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function va(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ga=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&ra(),void 0===n?n=e.length-t:n>e.length-t&&ra(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),ma=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,At.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Yo($o.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(ga),ya=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,At.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return ya.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Yo($o.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Yo($o.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Yo($o.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Yo($o.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(ga),ba=function(){function e(e){this.fields=e,e.sort(_a.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return ca(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),wa=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return ua(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();wa.EMPTY_BYTE_STRING=new wa("");var Sa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(e){if(ia(!!e),"string"==typeof e){var t=0,n=Sa.exec(e);if(ia(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ia(e.seconds),nanos:Ia(e.nanos)}}function Ia(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ta(e){return"string"==typeof e?wa.fromBase64String(e):wa.fromUint8Array(e)}function ka(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ca(e){var t=e.mapValue.fields.__previous_value__;return ka(t)?Ca(t):t}function xa(e){var t=Ea(e.mapValue.fields.__local_write_time__.timestampValue);return new fa(t.seconds,t.nanos)}function Na(e){return null==e}function Aa(e){return 0===e&&1/e==-1/0}function Pa(e){return"number"==typeof e&&Number.isInteger(e)&&!Aa(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Oa=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(ma.fromString(t))},e.fromName=function(t){return new e(ma.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===ma.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return ma.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new ma(t.slice()))},e}();function Ra(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ka(e)?4:10:ra()}function Da(e,t){var n=Ra(e);if(n!==Ra(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xa(e).isEqual(xa(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ea(e.timestampValue),r=Ea(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ta(e.bytesValue).isEqual(Ta(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ia(e.geoPointValue.latitude)===Ia(t.geoPointValue.latitude)&&Ia(e.geoPointValue.longitude)===Ia(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ia(e.integerValue)===Ia(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ia(e.doubleValue),r=Ia(t.doubleValue);return n===r?Aa(n)===Aa(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ca(e.arrayValue.values||[],t.arrayValue.values||[],Da);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(da(n)!==da(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Da(n[i],r[i])))return!1;return!0}(e,t);default:return ra()}}function Ma(e,t){return void 0!==(e.values||[]).find((function(e){return Da(e,t)}))}function La(e,t){var n=Ra(e),r=Ra(t);if(n!==r)return ua(n,r);switch(n){case 0:return 0;case 1:return ua(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ia(e.integerValue||e.doubleValue),r=Ia(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Fa(e.timestampValue,t.timestampValue);case 4:return Fa(xa(e),xa(t));case 5:return ua(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ta(e),r=Ta(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ua(n[i],r[i]);if(0!==o)return o}return ua(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ua(Ia(e.latitude),Ia(t.latitude));return 0!==n?n:ua(Ia(e.longitude),Ia(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=La(n[i],r[i]);if(o)return o}return ua(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=ua(r[a],o[a]);if(0!==s)return s;var u=La(n[r[a]],i[o[a]]);if(0!==u)return u}return ua(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ra()}}function Fa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ua(e,t);var n=Ea(e),r=Ea(t),i=ua(n.seconds,r.seconds);return 0!==i?i:ua(n.nanos,r.nanos)}function ja(e){return Ua(e)}function Ua(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ea(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ta(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Oa.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Ua(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Ua(e.fields[o])}return t+"}"}(e.mapValue):ra();var t,n}function Va(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function qa(e){return!!e&&"integerValue"in e}function Ba(e){return!!e&&"arrayValue"in e}function za(e){return!!e&&"nullValue"in e}function Ka(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wa(e){return!!e&&"mapValue"in e}function Ha(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return pa(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ha(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ha(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Ga=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Wa(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(t)},e.prototype.setAll=function(e){var t=this,n=_a.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Ha(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Wa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return Da(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Wa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){pa(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(Ha(this.value))},e}();function Qa(e){var t=[];return pa(e.fields,(function(e,n){var r=new _a([e]);if(Wa(n)){var i=Qa(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new ba(t)}var $a=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,ha.min(),Ga.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Ga.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Ga.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Ga.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Ga.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Ya=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Xa(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ya(e,t,n,r,i,o,a)}function Za(e){var t=oa(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ja(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Na(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=fs(t.startAt)),t.endAt&&(n+="|ub:",n+=fs(t.endAt)),t.h=n}return t.h}function Ja(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ds(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Da(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vs(e.startAt,t.startAt)&&vs(e.endAt,t.endAt)}function es(e){return Oa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ts=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,At.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new ns(e,n,r):"array-contains"===n?new as(e,r):"in"===n?new ss(e,r):"not-in"===n?new us(e,r):"array-contains-any"===n?new cs(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new rs(e,n):new is(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(La(t,this.value)):null!==t&&Ra(this.value)===Ra(t)&&this.m(La(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ra()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),ns=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Oa.fromName(r.referenceValue),i}return(0,At.__extends)(t,e),t.prototype.matches=function(e){var t=Oa.comparator(e.key,this.key);return this.m(t)},t}(ts),rs=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=os("in",n),r}return(0,At.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(ts),is=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=os("not-in",n),r}return(0,At.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(ts);function os(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Oa.fromName(e.referenceValue)}))}var as=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,At.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Ba(t)&&Ma(t.arrayValue,this.value)},t}(ts),ss=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,At.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Ma(this.value.arrayValue,t)},t}(ts),us=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,At.__extends)(t,e),t.prototype.matches=function(e){if(Ma(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ma(this.value.arrayValue,t)},t}(ts),cs=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,At.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Ba(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ma(t.value.arrayValue,e)}))},t}(ts),ls=function(e,t){this.position=e,this.before=t};function fs(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return ja(e)})).join(",")}var hs=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function ds(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ps(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Oa.comparator(Oa.fromName(a.referenceValue),n.key):La(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function vs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Da(e.position[n],t.position[n]))return!1;return!0}var gs=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function ms(e,t,n,r,i,o,a,s){return new gs(e,t,n,r,i,o,a,s)}function ys(e){return new gs(e)}function _s(e){return!Na(e.limit)&&"F"===e.limitType}function bs(e){return!Na(e.limit)&&"L"===e.limitType}function ws(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ss(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Es(e){return null!==e.collectionGroup}function Is(e){var t=oa(e);if(null===t.p){t.p=[];var n=Ss(t),r=ws(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new hs(n)),t.p.push(new hs(_a.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new hs(_a.keyField(),u))}}}return t.p}function Ts(e){var t=oa(e);if(!t.T)if("F"===t.limitType)t.T=Xa(t.path,t.collectionGroup,Is(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Is(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new hs(o.field,a))}var s=t.endAt?new ls(t.endAt.position,!t.endAt.before):null,u=t.startAt?new ls(t.startAt.position,!t.startAt.before):null;t.T=Xa(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function ks(e,t,n){return new gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cs(e,t){return Ja(Ts(e),Ts(t))&&e.limitType===t.limitType}function xs(e){return Za(Ts(e))+"|lt:"+e.limitType}function Ns(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+ja(t.value);var t})).join(", ")+"]"),Na(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+fs(e.startAt)),e.endAt&&(t+=", endAt: "+fs(e.endAt)),"Target("+t+")"}(Ts(e))+"; limitType="+e.limitType+")"}function As(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Oa.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!ps(e.startAt,Is(e),t))&&(!e.endAt||!ps(e.endAt,Is(e),t))}(e,t)}function Ps(e){return function(t,n){for(var r=!1,i=0,o=Is(e);i<o.length;i++){var a=o[i],s=Os(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Os(e,t,n){var r=e.field.isKeyField()?Oa.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?La(r,i):ra()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ra()}}function Rs(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Aa(t)?"-0":t}}function Ds(e){return{integerValue:""+e}}function Ms(e,t){return Pa(t)?Ds(t):Rs(e,t)}var Ls=function(){this._=void 0};function Fs(e,t,n){return e instanceof Vs?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof qs?Bs(e,t):e instanceof zs?Ks(e,t):function(e,t){var n=Us(e,t),r=Hs(n)+Hs(e.A);return qa(n)&&qa(e.A)?Ds(r):Rs(e.R,r)}(e,t)}function js(e,t,n){return e instanceof qs?Bs(e,t):e instanceof zs?Ks(e,t):n}function Us(e,t){return e instanceof Ws?qa(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Vs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,At.__extends)(t,e),t}(Ls),qs=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,At.__extends)(t,e),t}(Ls);function Bs(e,t){for(var n=Gs(t),r=function(e){n.some((function(t){return Da(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var zs=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,At.__extends)(t,e),t}(Ls);function Ks(e,t){for(var n=Gs(t),r=function(e){n=n.filter((function(t){return!Da(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ws=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,At.__extends)(t,e),t}(Ls);function Hs(e){return Ia(e.integerValue||e.doubleValue)}function Gs(e){return Ba(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Qs=function(e,t){this.field=e,this.transform=t},$s=function(e,t){this.version=e,this.transformResults=t},Ys=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Xs(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Zs=function(){};function Js(e,t,n){e instanceof iu?function(e,t,n){var r=e.value.clone(),i=su(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ou?function(e,t,n){if(Xs(e.precondition,t)){var r=su(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(au(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function eu(e,t,n){e instanceof iu?function(e,t,n){if(Xs(e.precondition,t)){var r=e.value.clone(),i=uu(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(ru(t),r).setHasLocalMutations()}}(e,t,n):e instanceof ou?function(e,t,n){if(Xs(e.precondition,t)){var r=uu(e.fieldTransforms,n,t),i=t.data;i.setAll(au(e)),i.setAll(r),t.convertToFoundDocument(ru(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Xs(e.precondition,t)&&t.convertToNoDocument(ha.min())}(e,t)}function tu(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Us(o.transform,a||null);null!=s&&(null==n&&(n=Ga.empty()),n.set(o.field,s))}return n||null}function nu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ca(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qs&&t instanceof qs||e instanceof zs&&t instanceof zs?ca(e.elements,t.elements,Da):e instanceof Ws&&t instanceof Ws?Da(e.A,t.A):e instanceof Vs&&t instanceof Vs}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ru(e){return e.isFoundDocument()?e.version:ha.min()}var iu=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,At.__extends)(t,e),t}(Zs),ou=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,At.__extends)(t,e),t}(Zs);function au(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function su(e,t,n){var r=new Map;ia(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,js(a,s,n[i]))}return r}function uu(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Fs(s,u,t))}return r}var cu,lu,fu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,At.__extends)(t,e),t}(Zs),hu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,At.__extends)(t,e),t}(Zs),du=function(e){this.count=e};function pu(e){switch(e){case $o.OK:return ra();case $o.CANCELLED:case $o.UNKNOWN:case $o.DEADLINE_EXCEEDED:case $o.RESOURCE_EXHAUSTED:case $o.INTERNAL:case $o.UNAVAILABLE:case $o.UNAUTHENTICATED:return!1;case $o.INVALID_ARGUMENT:case $o.NOT_FOUND:case $o.ALREADY_EXISTS:case $o.PERMISSION_DENIED:case $o.FAILED_PRECONDITION:case $o.ABORTED:case $o.OUT_OF_RANGE:case $o.UNIMPLEMENTED:case $o.DATA_LOSS:return!0;default:return ra()}}function vu(e){if(void 0===e)return ea("GRPC error has no .code"),$o.UNKNOWN;switch(e){case cu.OK:return $o.OK;case cu.CANCELLED:return $o.CANCELLED;case cu.UNKNOWN:return $o.UNKNOWN;case cu.DEADLINE_EXCEEDED:return $o.DEADLINE_EXCEEDED;case cu.RESOURCE_EXHAUSTED:return $o.RESOURCE_EXHAUSTED;case cu.INTERNAL:return $o.INTERNAL;case cu.UNAVAILABLE:return $o.UNAVAILABLE;case cu.UNAUTHENTICATED:return $o.UNAUTHENTICATED;case cu.INVALID_ARGUMENT:return $o.INVALID_ARGUMENT;case cu.NOT_FOUND:return $o.NOT_FOUND;case cu.ALREADY_EXISTS:return $o.ALREADY_EXISTS;case cu.PERMISSION_DENIED:return $o.PERMISSION_DENIED;case cu.FAILED_PRECONDITION:return $o.FAILED_PRECONDITION;case cu.ABORTED:return $o.ABORTED;case cu.OUT_OF_RANGE:return $o.OUT_OF_RANGE;case cu.UNIMPLEMENTED:return $o.UNIMPLEMENTED;case cu.DATA_LOSS:return $o.DATA_LOSS;default:return ra()}}(lu=cu||(cu={}))[lu.OK=0]="OK",lu[lu.CANCELLED=1]="CANCELLED",lu[lu.UNKNOWN=2]="UNKNOWN",lu[lu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lu[lu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lu[lu.NOT_FOUND=5]="NOT_FOUND",lu[lu.ALREADY_EXISTS=6]="ALREADY_EXISTS",lu[lu.PERMISSION_DENIED=7]="PERMISSION_DENIED",lu[lu.UNAUTHENTICATED=16]="UNAUTHENTICATED",lu[lu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lu[lu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lu[lu.ABORTED=10]="ABORTED",lu[lu.OUT_OF_RANGE=11]="OUT_OF_RANGE",lu[lu.UNIMPLEMENTED=12]="UNIMPLEMENTED",lu[lu.INTERNAL=13]="INTERNAL",lu[lu.UNAVAILABLE=14]="UNAVAILABLE",lu[lu.DATA_LOSS=15]="DATA_LOSS";var gu=function(){function e(e,t){this.comparator=e,this.root=t||yu.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yu.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yu.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new mu(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new mu(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new mu(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new mu(this.root,e,this.comparator,!0)},e}(),mu=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),yu=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ra();if(this.right.isRed())throw ra();var e=this.left.check();if(e!==this.right.check())throw ra();return e+(this.isRed()?0:1)},e}();yu.EMPTY=null,yu.RED=!0,yu.BLACK=!1,yu.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ra()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ra()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ra()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ra()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ra()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new yu(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var _u=function(){function e(e){this.comparator=e,this.data=new gu(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new bu(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new bu(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),bu=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),wu=new gu(Oa.comparator);function Su(){return wu}var Eu=new gu(Oa.comparator);function Iu(){return Eu}var Tu=new gu(Oa.comparator);function ku(){return Tu}var Cu=new _u(Oa.comparator);function xu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Cu,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Nu=new _u(ua);function Au(){return Nu}var Pu=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Ou.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ha.min(),r,Au(),Su(),xu())},e}(),Ou=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(wa.EMPTY_BYTE_STRING,n,xu(),xu(),xu())},e}(),Ru=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Du=function(e,t){this.targetId=e,this.V=t},Mu=function(e,t,n,r){void 0===n&&(n=wa.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Lu=function(){function e(){this.S=0,this.D=Uu(),this.C=wa.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=xu(),t=xu(),n=xu();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ra()}})),new Ou(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=Uu()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),Fu=function(){function e(e){this.W=e,this.G=new Map,this.H=Su(),this.J=ju(),this.Y=new _u(ua)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:ra()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(es(i))if(0===n){var o=new Oa(i.path);this.tt(t,o,$a.newNoDocument(o,ha.min()))}else ia(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&es(o.target)){var a=new Oa(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,$a.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=xu();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Pu(e,n,this.Y,this.H,r);return this.H=Su(),this.J=ju(),this.Y=new _u(ua),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Lu,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new _u(ua),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Jo("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Lu),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function ju(){return new gu(Oa.comparator)}function Uu(){return new gu(Oa.comparator)}var Vu={asc:"ASCENDING",desc:"DESCENDING"},qu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bu=function(e,t){this.databaseId=e,this.I=t};function zu(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ku(e,t){return e.I?t.toBase64():t.toUint8Array()}function Wu(e,t){return zu(e,t.toTimestamp())}function Hu(e){return ia(!!e),ha.fromTimestamp(function(e){var t=Ea(e);return new fa(t.seconds,t.nanos)}(e))}function Gu(e,t){return function(e){return new ma(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Qu(e){var t=ma.fromString(e);return ia(yc(t)),t}function $u(e,t){return Gu(e.databaseId,t.path)}function Yu(e,t){var n=Qu(t);if(n.get(1)!==e.databaseId.projectId)throw new Yo($o.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Yo($o.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Oa(ec(n))}function Xu(e,t){return Gu(e.databaseId,t)}function Zu(e){var t=Qu(e);return 4===t.length?ma.emptyPath():ec(t)}function Ju(e){return new ma(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ec(e){return ia(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function tc(e,t,n){return{name:$u(e,t),fields:n.value.mapValue.fields}}function nc(e,t,n){var r=Yu(e,t.name),i=Hu(t.updateTime),o=new Ga({mapValue:{fields:t.fields}}),a=$a.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function rc(e,t){var n;if(t instanceof iu)n={update:tc(e,t.key,t.value)};else if(t instanceof fu)n={delete:$u(e,t.key)};else if(t instanceof ou)n={update:tc(e,t.key,t.data),updateMask:mc(t.fieldMask)};else{if(!(t instanceof hu))return ra();n={verify:$u(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Vs)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zs)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ws)return{fieldPath:t.field.canonicalString(),increment:n.A};throw ra()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Wu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ra()}(e,t.precondition)),n}function ic(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ys.updateTime(Hu(e.updateTime)):void 0!==e.exists?Ys.exists(e.exists):Ys.none()}(t.currentDocument):Ys.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ia("REQUEST_TIME"===t.setToServerValue),n=new Vs;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new qs(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new zs(i)}else"increment"in t?n=new Ws(e,t.increment):ra();var o=_a.fromServerFormat(t.fieldPath);return new Qs(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Yu(e,t.update.name),o=new Ga({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new ba(t.map((function(e){return _a.fromServerFormat(e)})))}(t.updateMask);return new ou(i,o,a,n,r)}return new iu(i,o,n,r)}if(t.delete){var s=Yu(e,t.delete);return new fu(s,n)}if(t.verify){var u=Yu(e,t.verify);return new hu(u,n)}return ra()}function oc(e,t){return{documents:[Xu(e,t.path)]}}function ac(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Xu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Xu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ka(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NAN"}};if(za(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ka(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NOT_NAN"}};if(za(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dc(e.field),op:hc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:dc(e.field),direction:fc(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Na(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=cc(t.startAt)),t.endAt&&(n.structuredQuery.endAt=cc(t.endAt)),n}function sc(e){var t=Zu(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ia(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=uc(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new hs(pc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Na(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=lc(n.startAt));var l=null;return n.endAt&&(l=lc(n.endAt)),ms(t,i,s,a,u,"F",c,l)}function uc(e){return e?void 0!==e.unaryFilter?[gc(e)]:void 0!==e.fieldFilter?[vc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return uc(e)})).reduce((function(e,t){return e.concat(t)})):ra():[]}function cc(e){return{before:e.before,values:e.position}}function lc(e){var t=!!e.before,n=e.values||[];return new ls(n,t)}function fc(e){return Vu[e]}function hc(e){return qu[e]}function dc(e){return{fieldPath:e.canonicalString()}}function pc(e){return _a.fromServerFormat(e.fieldPath)}function vc(e){return ts.create(pc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ra()}}(e.fieldFilter.op),e.fieldFilter.value)}function gc(e){switch(e.unaryFilter.op){case"IS_NAN":var t=pc(e.unaryFilter.field);return ts.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=pc(e.unaryFilter.field);return ts.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=pc(e.unaryFilter.field);return ts.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=pc(e.unaryFilter.field);return ts.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ra()}}function mc(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function yc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function _c(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=wc(t)),t=bc(e.get(n),t);return wc(t)}function bc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function wc(e){return e+"\x01\x01"}function Sc(e){var t=e.length;if(ia(t>=2),2===t)return ia("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ma.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&ra(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:ra()}o=a+2}return new ma(r)}var Ec=function(e,t){this.seconds=e,this.nanoseconds=t},Ic=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Ic.store="owner",Ic.key="owner";var Tc=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Tc.store="mutationQueues",Tc.keyPath="userId";var kc=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};kc.store="mutations",kc.keyPath="batchId",kc.userMutationsIndex="userMutationsIndex",kc.userMutationsKeyPath=["userId","batchId"];var Cc=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,_c(t)]},e.key=function(e,t,n){return[e,_c(t),n]},e}();Cc.store="documentMutations",Cc.PLACEHOLDER=new Cc;var xc=function(e,t){this.path=e,this.readTime=t},Nc=function(e,t){this.path=e,this.version=t},Ac=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ac.store="remoteDocuments",Ac.readTimeIndex="readTimeIndex",Ac.readTimeIndexPath="readTime",Ac.collectionReadTimeIndex="collectionReadTimeIndex",Ac.collectionReadTimeIndexPath=["parentPath","readTime"];var Pc=function(e){this.byteSize=e};Pc.store="remoteDocumentGlobal",Pc.key="remoteDocumentGlobalKey";var Oc=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Oc.store="targets",Oc.keyPath="targetId",Oc.queryTargetsIndexName="queryTargetsIndex",Oc.queryTargetsKeyPath=["canonicalId","targetId"];var Rc=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Rc.store="targetDocuments",Rc.keyPath=["targetId","path"],Rc.documentTargetsIndex="documentTargetsIndex",Rc.documentTargetsKeyPath=["path","targetId"];var Dc=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Dc.key="targetGlobalKey",Dc.store="targetGlobal";var Mc=function(e,t){this.collectionId=e,this.parent=t};Mc.store="collectionParents",Mc.keyPath=["collectionId","parent"];var Lc=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Lc.store="clientMetadata",Lc.keyPath="clientId";var Fc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Fc.store="bundles",Fc.keyPath="bundleId";var jc=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};jc.store="namedQueries",jc.keyPath="name";var Uc=(0,At.__spreadArray)((0,At.__spreadArray)([],(0,At.__spreadArray)((0,At.__spreadArray)([],(0,At.__spreadArray)((0,At.__spreadArray)([],(0,At.__spreadArray)((0,At.__spreadArray)([],[Tc.store,kc.store,Cc.store,Ac.store,Oc.store,Ic.store,Dc.store,Rc.store]),[Lc.store])),[Pc.store])),[Mc.store])),[Fc.store,jc.store]),Vc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qc=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Bc=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},zc=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&ra(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Kc=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Bc,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Gc(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Zc(t.target.error);n.ft.reject(new Gc(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Gc(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Jo("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new $c(t)},e}(),Wc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,Pt.getUA)())&&ea("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Jo("SimpleDb","Removing database:",e),Yc(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,Pt.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Jo("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Gc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Yo($o.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Gc(e,n))},i.onupgradeneeded=function(e){Jo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Jo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,At.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,At.__generator)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,At.__generator)(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=Kc.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),zc.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,Jo("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Hc=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Yc(this.Pt.delete())},e}(),Gc=function(e){function t(t,n){var r=this;return(r=e.call(this,$o.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,At.__extends)(t,e),t}(Yo);function Qc(e){return"IndexedDbTransactionError"===e.name}var $c=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Jo("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Jo("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Yc(n)},e.prototype.add=function(e){return Jo("SimpleDb","ADD",this.store.name,e,e),Yc(this.store.add(e))},e.prototype.get=function(e){var t=this;return Yc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Jo("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Jo("SimpleDb","DELETE",this.store.name,e),Yc(this.store.delete(e))},e.prototype.count=function(){return Jo("SimpleDb","COUNT",this.store.name),Yc(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){Jo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new zc((function(n,r){t.onerror=function(e){var t=Zc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new zc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Hc(i),a=t(i.primaryKey,i.value,o);if(a instanceof zc){var s=a.catch((function(e){return o.done(),zc.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return zc.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Yc(e){return new zc((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Zc(e.target.error);n(t)}}))}var Xc=!1;function Zc(e){var t=Wc._t((0,Pt.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Yo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Xc||(Xc=!0,setTimeout((function(){throw r}),0)),r}}return e}var Jc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,At.__extends)(t,e),t}(qc);function el(e,t){var n=oa(e);return Wc.It(n.Mt,t)}var tl=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Js(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&eu(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&eu(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ha.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),xu())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,(function(e,t){return nu(e,t)}))&&ca(this.baseMutations,e.baseMutations,(function(e,t){return nu(e,t)}))},e}(),nl=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){ia(t.mutations.length===r.length);for(var i=ku(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),rl=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=ha.min()),void 0===o&&(o=ha.min()),void 0===a&&(a=wa.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),il=function(e){this.Lt=e};function ol(e,t){if(t.document)return nc(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Oa.fromSegments(t.noDocument.path),r=ll(t.noDocument.readTime),i=$a.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Oa.fromSegments(t.unknownDocument.path);return r=ll(t.unknownDocument.version),$a.newUnknownDocument(o,r)}return ra()}function al(e,t,n){var r=sl(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:$u(e,t.key),fields:t.data.value.mapValue.fields,updateTime:zu(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Ac(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=cl(t.version);return a=t.hasCommittedMutations,new Ac(null,new xc(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=cl(t.version);return new Ac(new Nc(c,l),null,null,!0,r,i)}return ra()}function sl(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ul(e){var t=new fa(e[0],e[1]);return ha.fromTimestamp(t)}function cl(e){var t=e.toTimestamp();return new Ec(t.seconds,t.nanoseconds)}function ll(e){var t=new fa(e.seconds,e.nanoseconds);return ha.fromTimestamp(t)}function fl(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ic(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return ic(e.Lt,t)})),s=fa.fromMillis(t.localWriteTimeMs);return new tl(t.batchId,s,n,a)}function hl(e){var t,n,r=ll(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ll(e.lastLimboFreeSnapshotVersion):ha.min();return void 0!==e.query.documents?(ia(1===(n=e.query).documents.length),t=Ts(ys(Zu(n.documents[0])))):t=function(e){return Ts(sc(e))}(e.query),new rl(t,e.targetId,0,e.lastListenSequenceNumber,r,i,wa.fromBase64String(e.resumeToken))}function dl(e,t){var n,r=cl(t.snapshotVersion),i=cl(t.lastLimboFreeSnapshotVersion);n=es(t.target)?oc(e.Lt,t.target):ac(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Oc(t.targetId,Za(t.target),r,o,t.sequenceNumber,i,n)}function pl(e){var t=sc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ks(t,t.limit,"L"):t}var vl=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return gl(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ll(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return gl(e).put({bundleId:(n=t).id,createTime:cl(Hu(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return ml(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:pl(t.bundledQuery),readTime:ll(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return ml(e).put(function(e){return{name:e.name,readTime:cl(Hu(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function gl(e){return el(e,Fc.store)}function ml(e){return el(e,jc.store)}var yl=function(){function e(){this.Bt=new _l}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),zc.resolve()},e.prototype.getCollectionParents=function(e,t){return zc.resolve(this.Bt.getEntries(t))},e}(),_l=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _u(ma.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new _u(ma.comparator)).toArray()},e}(),bl=function(){function e(){this.qt=new _l}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:_c(i)};return wl(e).put(o)}return zc.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[la(t),""],!1,!0);return wl(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Sc(o.parent))}return n}))},e}();function wl(e){return el(e,Mc.store)}var Sl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},El=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Il(e,t,n){var r=e.store(kc.store),i=e.store(Cc.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){ia(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Cc.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return zc.waitFor(o).next((function(){return c}))}function Tl(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ra();t=e.noDocument}return JSON.stringify(t).length}El.DEFAULT_COLLECTION_PERCENTILE=10,El.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,El.DEFAULT=new El(41943040,El.DEFAULT_COLLECTION_PERCENTILE,El.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),El.DISABLED=new El(-1,0,0);var kl=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return ia(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).$t({index:kc.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Nl(e),a=xl(e);return a.add({}).next((function(s){ia("number"==typeof s);for(var u=new tl(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return rc(e.Lt,t)})),i=n.mutations.map((function(t){return rc(e.Lt,t)}));return new kc(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new _u((function(e,t){return ua(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=Cc.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Cc.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),zc.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return xl(e).get(t).next((function(e){return e?(ia(e.userId===n.userId),fl(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?zc.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return xl(e).$t({index:kc.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(ia(t.batchId>=r),o=fl(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return xl(e).$t({index:kc.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).Nt(kc.userMutationsIndex,n).next((function(e){return e.map((function(e){return fl(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Cc.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Nl(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Sc(u);if(s===n.userId&&t.path.isEqual(l))return xl(e).get(c).next((function(e){if(!e)throw ra();ia(e.userId===n.userId),o.push(fl(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new _u(ua),i=[];return t.forEach((function(t){var o=Cc.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Nl(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Sc(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),zc.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Cc.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new _u(ua);return Nl(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Sc(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(xl(e).get(t).next((function(e){if(null===e)throw ra();ia(e.userId===n.userId),r.push(fl(n.R,e))})))})),zc.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Il(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),zc.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return zc.resolve();var r=IDBKeyRange.lowerBound(Cc.prefixForUser(t.userId)),i=[];return Nl(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Sc(e[1]);i.push(o)}else r.done()})).next((function(){ia(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Cl(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Al(e).get(this.userId).next((function(e){return e||new Tc(t.userId,-1,"")}))},e}();function Cl(e,t,n){var r=Cc.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Nl(e).$t({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function xl(e){return el(e,kc.store)}function Nl(e){return el(e,Cc.store)}function Al(e){return el(e,Tc.store)}var Pl=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Ol=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Pl(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return ha.fromTimestamp(new fa(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Rl(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return ia(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Rl(e).$t((function(a,s){var u=hl(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return zc.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Rl(e).$t((function(e,n){var r=hl(n);t(r)}))},e.prototype.Xt=function(e){return Dl(e).get(Dc.key).next((function(e){return ia(null!==e),e}))},e.prototype.Zt=function(e,t){return Dl(e).put(Dc.key,t)},e.prototype.te=function(e,t){return Rl(e).put(dl(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Za(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Rl(e).$t({range:r,index:Oc.queryTargetsIndexName},(function(e,n,r){var o=hl(n);Ja(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Ml(e);return t.forEach((function(t){var a=_c(t.path);i.push(o.put(new Rc(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),zc.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Ml(e);return zc.forEach(t,(function(t){var o=_c(t.path);return zc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Ml(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ml(e),i=xu();return r.$t({range:n,kt:!0},(function(e,t,n){var r=Sc(e[1]),o=new Oa(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=_c(t.path),r=IDBKeyRange.bound([n],[la(n)],!1,!0),i=0;return Ml(e).$t({index:Rc.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Rl(e).get(t).next((function(e){return e?hl(e):null}))},e}();function Rl(e){return el(e,Oc.store)}function Dl(e){return el(e,Dc.store)}function Ml(e){return el(e,Rc.store)}function Ll(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){if(e.code!==$o.FAILED_PRECONDITION||e.message!==Vc)throw e;return Jo("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Fl(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=ua(n,i);return 0===a?ua(r,o):a}var jl=function(){function e(e){this.ne=e,this.buffer=new _u(Fl),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Fl(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Ul=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Jo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,At.__awaiter)(t,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Qc(t=n.sent())?(Jo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Ll(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Vl=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return zc.resolve(Qo.o);var r=new jl(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Jo("LruGarbageCollector","Garbage collection skipped; disabled"),zc.resolve(Sl)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Jo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Sl):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Jo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Zo()<=Ot.LogLevel.DEBUG&&Jo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),zc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),ql=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Vl(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Bl(e,n)},e.prototype.removeReference=function(e,t,n){return Bl(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Bl(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Al(e).Ot((function(r){return Cl(e,r,t).next((function(e){return e&&(n=!0),zc.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Ml(e).delete([0,_c(a.path)])}))}));i.push(u)}})).next((function(){return zc.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Bl(e,t)},e.prototype.we=function(e,t){var n,r=Ml(e),i=Qo.o;return r.$t({index:Rc.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Qo.o&&t(new Oa(Sc(n)),i),i=s,n=a):i=Qo.o})).next((function(){i!==Qo.o&&t(new Oa(Sc(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Bl(e,t){return Ml(e).put(function(e,t){return new Rc(0,_c(e.path),t)}(t,e.currentSequenceNumber))}var zl=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){pa(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return va(this.inner)},e}(),Kl=function(){function e(){this.changes=new zl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:ha.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:$a.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?zc.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Wl=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Ql(e).put($l(t),n)},e.prototype.removeEntry=function(e,t){var n=Ql(e),r=$l(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Ql(e).get($l(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Ql(e).get($l(t)).next((function(e){return{document:n.ye(t,e),size:Tl(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Su();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Su(),i=new gu(Oa.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Tl(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return zc.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Ql(e).$t({range:r},(function(e,t,r){for(var a=Oa.fromSegments(e);o&&Oa.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Su(),o=t.path.length+1,a={};if(n.isEqual(ha.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=sl(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Ac.collectionReadTimeIndex}return Ql(e).$t(a,(function(e,n,a){if(e.length===o){var s=ol(r.R,n);t.path.isPrefixOf(s.key.path)?As(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Hl(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Gl(e).get(Pc.key).next((function(e){return ia(!!e),e}))},e.prototype.me=function(e,t){return Gl(e).put(Pc.key,t)},e.prototype.ye=function(e,t){if(t){var n=ol(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(ha.min()))return n}return $a.newInvalidDocument(e)},e}(),Hl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new zl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,At.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new _u((function(e,t){return ua(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=al(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Tl(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=al(t.Ie.R,$a.newNoDocument(o,ha.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),zc.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Kl);function Gl(e){return el(e,Pc.store)}function Ql(e){return el(e,Ac.store)}function $l(e){return e.path.toArray()}var Yl=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;ia(n<r&&n>=0&&r<=11);var o=new Kc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ic.store)}(e),function(e){e.createObjectStore(Tc.store,{keyPath:Tc.keyPath}),e.createObjectStore(kc.store,{keyPath:kc.keyPath,autoIncrement:!0}).createIndex(kc.userMutationsIndex,kc.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Cc.store)}(e),Xl(e),function(e){e.createObjectStore(Ac.store)}(e));var a=zc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Rc.store),e.deleteObjectStore(Oc.store),e.deleteObjectStore(Dc.store)}(e),Xl(e)),a=a.next((function(){return function(e){var t=e.store(Dc.store),n=new Dc(0,0,ha.min().toTimestamp(),0);return t.put(Dc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(kc.store).Nt().next((function(n){e.deleteObjectStore(kc.store),e.createObjectStore(kc.store,{keyPath:kc.keyPath,autoIncrement:!0}).createIndex(kc.userMutationsIndex,kc.userMutationsKeyPath,{unique:!0});var r=t.store(kc.store),i=n.map((function(e){return r.put(e)}));return zc.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Lc.store,{keyPath:Lc.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Pc.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Ac.store);t.createIndex(Ac.readTimeIndex,Ac.readTimeIndexPath,{unique:!1}),t.createIndex(Ac.collectionReadTimeIndex,Ac.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Fc.store,{keyPath:Fc.keyPath})}(e),function(e){e.createObjectStore(jc.store,{keyPath:jc.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Ac.store).$t((function(e,n){t+=Tl(n)})).next((function(){var n=new Pc(t);return e.store(Pc.store).put(Pc.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Tc.store),r=e.store(kc.store);return n.Nt().next((function(n){return zc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(kc.userMutationsIndex,i).next((function(r){return zc.forEach(r,(function(r){ia(r.userId===n.userId);var i=fl(t.R,r);return Il(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Rc.store),n=e.store(Ac.store);return e.store(Dc.store).get(Dc.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new ma(n),a=function(e){return[0,_c(e)]}(o);r.push(t.get(a).next((function(n){return n?zc.resolve():function(n){return t.put(new Rc(0,_c(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return zc.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Mc.store,{keyPath:Mc.keyPath});var n=t.store(Mc.store),r=new _l,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:_c(i)})}};return t.store(Ac.store).$t({kt:!0},(function(e,t){var n=new ma(e);return i(n.popLast())})).next((function(){return t.store(Cc.store).$t({kt:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Sc(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Oc.store);return n.$t((function(e,r){var i=hl(r),o=dl(t.R,i);return n.put(o)}))},e}();function Xl(e){e.createObjectStore(Rc.store,{keyPath:Rc.keyPath}).createIndex(Rc.documentTargetsIndex,Rc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Oc.store,{keyPath:Oc.keyPath}).createIndex(Oc.queryTargetsIndexName,Oc.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Dc.store)}var Zl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Jl=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Yo($o.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ql(this,i),this.Le=n+"main",this.R=new il(u),this.Be=new Wc(this.Le,11,new Yl(this.R)),this.qe=new Ol(this.referenceDelegate,this.R),this.Ut=new bl,this.Ue=function(e,t){return new Wl(e,t)}(this.R,this.Ut),this.Ke=new vl,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&ea("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Yo($o.FAILED_PRECONDITION,Zl);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Qo(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,At.__awaiter)(t,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,At.__awaiter)(t,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,At.__awaiter)(t,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return tf(t).put(new Lc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Qc(t))return Jo("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Jo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return ef(e).get(Ic.key).next((function(e){return zc.resolve(t.tn(e))}))},e.prototype.en=function(e){return tf(e).delete(this.clientId)},e.prototype.nn=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=el(e,Lc.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return zc.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?zc.resolve(!0):ef(e).get(Ic.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Yo($o.FAILED_PRECONDITION,Zl);return!1}}return!(!t.networkEnabled||!t.inForeground)||tf(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Jo("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ic.store,Lc.store],(function(t){var n=new Jc(t,Qo.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return tf(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return kl.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Jo("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Uc,(function(o){return i=new Jc(o,r.Ne?r.Ne.next():Qo.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw ea("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Yo($o.FAILED_PRECONDITION,Vc);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return ef(e).get(Ic.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Yo($o.FAILED_PRECONDITION,Zl)}))},e.prototype.Ze=function(e){var t=new Ic(this.clientId,this.allowTabSynchronization,Date.now());return ef(e).put(Ic.key,t)},e.yt=function(){return Wc.yt()},e.prototype.Xe=function(e){var t=this,n=ef(e);return n.get(Ic.key).next((function(e){return t.tn(e)?(Jo("IndexedDbPersistence","Releasing primary lease."),n.delete(Ic.key)):zc.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(ea("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),(0,Pt.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Jo("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return ea("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){ea("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function ef(e){return el(e,Ic.store)}function tf(e){return el(e,Lc.store)}function nf(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var rf=function(e,t){this.progress=e,this.wn=t},of=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Oa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Es(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Oa(t)).next((function(e){var t=Iu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Iu();return this.Ut.getCollectionParents(e,i).next((function(a){return zc.forEach(a,(function(a){var s=function(e,t){return new gs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=$a.newInvalidDocument(c),r=r.insert(c,l)),eu(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){As(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=xu(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof ou&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),af=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=xu(),i=xu(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),sf=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ha.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(_s(t)||bs(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Zo()<=Ot.LogLevel.DEBUG&&Jo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ns(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new _u(Ps(e));return t.forEach((function(t,r){As(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Zo()<=Ot.LogLevel.DEBUG&&Jo("QueryEngine","Using full collection scan to execute query:",Ns(t)),this.Sn.getDocumentsMatchingQuery(e,t,ha.min())},e}(),uf=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new gu(ua),this.kn=new zl((function(e){return Za(e)}),Ja),this.$n=ha.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new of(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function cf(e,t,n,r){return new uf(e,t,n,r)}function lf(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,At.__generator)(this,(function(a){switch(a.label){case 0:return n=oa(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new of(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=xu(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function ff(e,t){var n=oa(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=zc.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);ia(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function hf(e){var t=oa(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function df(e,t){var n=oa(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return ia(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Su();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(pf(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(ha.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return zc.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function pf(e,t,n,r,i){var o=xu();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Su();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ha.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Jo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function vf(e,t){var n=oa(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function gf(e,t){var n=oa(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,zc.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new rl(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function mf(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,At.__generator)(this,(function(s){switch(s.label){case 0:r=oa(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Qc(a=s.sent()))throw a;return Jo("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function yf(e,t,n){var r=oa(e),i=ha.min(),o=xu();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=oa(e),i=r.kn.get(n);return void 0!==i?zc.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,Ts(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:ha.min(),n?o:xu())})).next((function(e){return{documents:e,Bn:o}}))}))}function _f(e,t){var n=oa(e),r=oa(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function bf(e){var t=oa(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=oa(e),i=Su(),o=sl(n),a=Ql(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Ac.readTimeIndex,range:s},(function(e,t){var n=ol(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:ul(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function wf(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){return[2,(t=oa(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Ql(e),n=ha.min();return t.$t({index:Ac.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=ul(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function Sf(e,t,n,r){return(0,At.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return(0,At.__generator)(this,(function(p){switch(p.label){case 0:for(i=oa(e),o=xu(),a=Su(),s=ku(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,gf(i,function(e){return Ts(ys(ma.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return pf(e,h,a,ha.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Ef(e,t,n){return void 0===n&&(n=xu()),(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return[4,gf(e,Ts(pl(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=oa(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Hu(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(wa.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var If=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return zc.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:Hu(n.createTime)}),zc.resolve()},e.prototype.getNamedQuery=function(e,t){return zc.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:pl(e.bundledQuery),readTime:Hu(e.readTime)}}(t)),zc.resolve()},e}(),Tf=function(){function e(){this.Wn=new _u(kf.Gn),this.zn=new _u(kf.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new kf(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new kf(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Oa(new ma([])),r=new kf(n,e),i=new kf(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Oa(new ma([])),n=new kf(t,e),r=new kf(t,e+1),i=xu();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new kf(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),kf=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Oa.comparator(e.key,t.key)||ua(e.ns,t.ns)},e.Hn=function(e,t){return ua(e.ns,t.ns)||Oa.comparator(e.key,t.key)},e}(),Cf=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new _u(kf.Gn)}return e.prototype.checkEmpty=function(e){return zc.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new tl(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new kf(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return zc.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return zc.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return zc.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return zc.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return zc.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new kf(t,0),i=new kf(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),zc.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new _u(ua);return t.forEach((function(e){var t=new kf(e,0),i=new kf(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),zc.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Oa.isDocumentKey(i)||(i=i.child(""));var o=new kf(new Oa(i),0),a=new _u(ua);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),zc.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;ia(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return zc.forEach(t.mutations,(function(i){var o=new kf(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new kf(t,0),r=this.rs.firstAfterOrEqual(n);return zc.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,zc.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),xf=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new gu(Oa.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return zc.resolve(n?n.document.clone():$a.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Su();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():$a.newInvalidDocument(e))})),zc.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Su(),i=new Oa(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||As(t,c)&&(r=r.insert(c.key,c.clone()))}return zc.resolve(r)},e.prototype.fs=function(e,t){return zc.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Nf(this)},e.prototype.getSize=function(e){return zc.resolve(this.size)},e}(),Nf=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,At.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),zc.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Kl),Af=function(){function e(e){this.persistence=e,this.ds=new zl((function(e){return Za(e)}),Ja),this.lastRemoteSnapshotVersion=ha.min(),this.highestTargetId=0,this.ws=0,this._s=new Tf,this.targetCount=0,this.ys=Pl.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),zc.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return zc.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return zc.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),zc.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),zc.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Pl(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,zc.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),zc.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,zc.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),zc.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return zc.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return zc.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),zc.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),zc.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),zc.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return zc.resolve(n)},e.prototype.containsKey=function(e,t){return zc.resolve(this._s.containsKey(t))},e}(),Pf=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Qo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Af(this),this.Ut=new yl,this.Ue=function(e,t){return new xf(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new il(t),this.Ke=new If(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Cf(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Jo("MemoryPersistence","Starting transaction:",e);var i=new Of(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return zc.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Of=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,At.__extends)(t,e),t}(qc),Rf=function(){function e(e){this.persistence=e,this.As=new Tf,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ra()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),zc.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),zc.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),zc.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zc.forEach(this.vs,(function(r){var i=Oa.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return zc.or([function(){return zc.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Df=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Mf(e,t){return"firestore_clients_"+e+"_"+t}function Lf(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Ff(e,t){return"firestore_targets_"+e+"_"+t}Df.UNAUTHENTICATED=new Df(null),Df.GOOGLE_CREDENTIALS=new Df("google-credentials-uid"),Df.FIRST_PARTY=new Df("first-party-uid");var jf=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Yo(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(ea("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Uf=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Yo(i.error.code,i.error.message)),o?new e(t,i.state,r):(ea("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Vf=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Au(),a=0;i&&a<r.activeTargetIds.length;++a)i=Pa(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(ea("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),qf=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ea("SharedClientState","Failed to parse online state: "+t),null)},e}(),Bf=function(){function e(){this.activeTargetIds=Au()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),zf=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new gu(ua),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Mf(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Bf),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return(0,At.__generator)(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Mf(this.persistenceKey,r)))&&(o=Vf.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.Fs(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ff(this.persistenceKey,e));if(n){var r=Uf.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Ff(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Jo("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Jo("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Jo("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Jo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void ea("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,At.__awaiter)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,At.__generator)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=Qo.o;if(null!=e)try{var n=JSON.parse(e);ia("number"==typeof n),t=n}catch(e){ea("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Qo.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new jf(this.currentUser,e,t,n),i=Lf(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Lf(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Ff(this.persistenceKey,e),i=new Uf(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Vf.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return jf.Vs(new Df(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Uf.Vs(r,t)},e.prototype.js=function(e){return qf.Vs(e)},e.prototype.ii=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Jo("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Au();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Kf=function(){function e(){this.li=new Bf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Bf,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Wf=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Hf=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Jo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Jo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Gf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Qf=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),$f=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,At.__extends)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new Go;a.listenOnce(Bo.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case qo.NO_ERROR:var t=a.getResponseJson();Jo("Connection","XHR received:",JSON.stringify(t)),i(t);break;case qo.TIMEOUT:Jo("Connection",'RPC "'+e+'" timed out'),o(new Yo($o.DEADLINE_EXCEEDED,"Request time out"));break;case qo.HTTP_ERROR:var n=a.getStatus();if(Jo("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values($o).indexOf(t)>=0?t:$o.UNKNOWN}(r.status);o(new Yo(s,r.message))}else o(new Yo($o.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Yo($o.UNAVAILABLE,"Connection failed."));break;default:ra()}}finally{Jo("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Uo(),i=Vo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Wo({})),this.Fi(o.initMessageHeaders,t),(0,Pt.isMobileCordova)()||(0,Pt.isReactNative)()||(0,Pt.isElectron)()||(0,Pt.isIE)()||(0,Pt.isUWP)()||(0,Pt.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Jo("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Qf({Ei:function(e){c?Jo("Connection","Not sending because WebChannel is closed:",e):(u||(Jo("Connection","Opening WebChannel transport."),s.open(),u=!0),Jo("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,Ho.EventType.OPEN,(function(){c||Jo("Connection","WebChannel transport opened.")})),f(s,Ho.EventType.CLOSE,(function(){c||(c=!0,Jo("Connection","WebChannel transport closed"),l.Vi())})),f(s,Ho.EventType.ERROR,(function(e){c||(c=!0,ta("Connection","WebChannel transport errored:",e),l.Vi(new Yo($o.UNAVAILABLE,"The operation could not be completed")))})),f(s,Ho.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];ia(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Jo("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=cu[e];if(void 0!==t)return vu(t)}(o),u=i.message;void 0===a&&(a=$o.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new Yo(a,u)),s.close()}else Jo("Connection","WebChannel received:",n),l.Si(n)}})),f(i,zo.STAT_EVENT,(function(e){e.stat===Ko.PROXY?Jo("Connection","Detected buffering proxy"):e.stat===Ko.NOPROXY&&Jo("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Jo("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return Jo("RestConnection","Received: ",e),e}),(function(t){throw ta("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=Gf[e];return this.Di+"/v1/"+t+":"+n},e}());function Yf(){return"undefined"!=typeof window?window:null}function Xf(){return"undefined"!=typeof document?document:null}function Zf(e){return new Bu(e,!0)}var Jf=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Jo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),eh=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Jf(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===$o.RESOURCE_EXHAUSTED?(ea(t.toString()),ea("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===$o.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Yo($o.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,At.__awaiter)(e,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Jo("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Jo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),th=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,At.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ra()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(ia(void 0===t||"string"==typeof t),wa.fromBase64String(t||"")):(ia(void 0===t||t instanceof Uint8Array),wa.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?$o.UNKNOWN:vu(e.code);return new Yo(t,e.message||"")}(s);n=new Mu(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Yu(e,r.document.name),o=Hu(r.document.updateTime);var s=new Ga({mapValue:{fields:r.document.fields}}),u=(a=$a.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new Ru(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Yu(e,r.document),o=r.readTime?Hu(r.readTime):ha.min(),s=$a.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Ru([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Yu(e,r.document),o=r.removedTargetIds||[],n=new Ru([],o,i,null);else{if(!("filter"in t))return ra();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new du(r),o=l.targetId,n=new Du(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return ha.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ha.min():t.readTime?Hu(t.readTime):ha.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Ju(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=es(r)?{documents:oc(e,r)}:{query:ac(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ku(e,t.resumeToken):t.snapshotVersion.compareTo(ha.min())>0&&(n.readTime=zu(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ra()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Ju(this.R),t.removeTarget=e,this.cr(t)},t}(eh),nh=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,At.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(ia(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(ia(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Hu(e.updateTime):Hu(t);return n.isEqual(ha.min())&&(n=Hu(t)),new $s(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Hu(e.commitTime);return this.listener.Tr(n,t)}return ia(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Ju(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return rc(t.R,e)}))};this.cr(n)},t}(eh),rh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,At.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new Yo($o.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===$o.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Yo($o.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===$o.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Yo($o.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),ih=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ea(t),this.Vr=!1):Jo("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),oh=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,At.__awaiter)(o,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){switch(e.label){case 0:return ph(this)?(Jo("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return(t=oa(e)).Or.add(4),[4,sh(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,ah(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new ih(n,r)};function ah(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:if(!ph(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function sh(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function uh(e,t){var n=oa(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),dh(n)?hh(n):Nh(n).er()&&lh(n,t))}function ch(e,t){var n=oa(e),r=Nh(n);n.$r.delete(t),r.er()&&fh(n,t),0===n.$r.size&&(r.er()?r.ir():ph(n)&&n.Br.set("Unknown"))}function lh(e,t){e.qr.U(t.targetId),Nh(e).mr(t)}function fh(e,t){e.qr.U(t),Nh(e).yr(t)}function hh(e){e.qr=new Fu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Nh(e).start(),e.Br.Sr()}function dh(e){return ph(e)&&!Nh(e).tr()&&e.$r.size>0}function ph(e){return 0===oa(e).Or.size}function vh(e){e.qr=void 0}function gh(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){return e.$r.forEach((function(t,n){lh(e,t)})),[2]}))}))}function mh(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(n){return vh(e),dh(e)?(e.Br.Nr(t),hh(e)):e.Br.set("Unknown"),[2]}))}))}function yh(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,At.__generator)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Mu&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,At.__generator)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Jo("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,_h(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ru?e.qr.X(t):t instanceof Du?e.qr.rt(t):e.qr.et(t),n.isEqual(ha.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,hf(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(wa.EMPTY_BYTE_STRING,n.snapshotVersion)),fh(e,t);var r=new rl(n.target,t,1,n.sequenceNumber);lh(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Jo("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,_h(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function _h(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r=this;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:if(!Qc(t))throw t;return e.Or.add(1),[4,sh(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return hf(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,At.__awaiter)(r,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return Jo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,ah(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function bh(e,t){return t().catch((function(n){return _h(e,n,t)}))}function wh(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,At.__generator)(this,(function(a){switch(a.label){case 0:t=oa(e),n=Ah(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return ph(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,vf(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=Ah(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,_h(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Sh(t)&&Eh(t),[2]}}))}))}function Sh(e){return ph(e)&&!Ah(e).tr()&&e.kr.length>0}function Eh(e){Ah(e).start()}function Ih(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){return Ah(e).Ar(),[2]}))}))}function Th(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,At.__generator)(this,(function(o){for(t=Ah(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function kh(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=nl.from(r,t,n),[4,bh(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,wh(e)];case 2:return o.sent(),[2]}}))}))}function Ch(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return t&&Ah(e).pr?[4,function(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return pu(r=t.code)&&r!==$o.ABORTED?(n=e.kr.shift(),Ah(e).sr(),[4,bh(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,wh(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Sh(e)&&Eh(e),[2]}}))}))}function xh(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return n=oa(e),t?(n.Or.delete(2),[4,ah(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,sh(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Nh(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=oa(e);return r.br(),new th(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:gh.bind(null,e),Ri:mh.bind(null,e),_r:yh.bind(null,e)}),e.Mr.push((function(n){return(0,At.__awaiter)(t,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),dh(e)?hh(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),vh(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Ah(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=oa(e);return r.br(),new nh(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Ih.bind(null,e),Ri:Ch.bind(null,e),Ir:Th.bind(null,e),Tr:kh.bind(null,e)}),e.Mr.push((function(n){return(0,At.__awaiter)(t,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,wh(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.kr.length>0&&(Jo("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Ph=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Bc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yo($o.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Oh(e,t){if(ea("AsyncQueue",t+": "+e),Qc(e))return new Yo($o.UNAVAILABLE,t+": "+e);throw e}var Rh=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Oa.comparator(t.key,n.key)}:function(e,t){return Oa.comparator(e.key,t.key)},this.keyedMap=Iu(),this.sortedSet=new gu(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Dh=function(){function e(){this.Qr=new gu(Oa.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):ra():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Mh=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Rh.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Lh=function(){this.Wr=void 0,this.listeners=[]},Fh=function(){this.queries=new zl((function(e){return xs(e)}),Cs),this.onlineState="Unknown",this.Gr=new Set};function jh(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,At.__generator)(this,(function(c){switch(c.label){case 0:if(n=oa(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Lh),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Oh(s,"Initialization of query '"+Ns(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Bh(n),[2]}}))}))}function Uh(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,At.__generator)(this,(function(s){return n=oa(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Vh(e,t){for(var n=oa(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Bh(n)}function qh(e,t,n){var r=oa(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Bh(e){e.Gr.forEach((function(e){e.next()}))}var zh=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Mh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Mh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Kh=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Wh=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Yu(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?nc(this.R,e.document,!1):$a.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return Hu(e)},e}(),Hh=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Gh(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Wh(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||xu()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return[4,Sf(this.localStore,new Wh(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Ef(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new rf(Object.assign({},this.progress),e))]}}))}))},e}();function Gh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Qh=function(e){this.key=e},$h=function(e){this.key=e},Yh=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=xu(),this.mutatedKeys=xu(),this.lo=Ps(e),this.fo=new Rh(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Dh,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=_s(this.query)&&i.size===this.query.limit?i.last():null,c=bs(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=As(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),_s(this.query)||bs(this.query))for(;a.size>this.query.limit;){var l=_s(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ra()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Mh(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Dh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=xu(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new $h(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Qh(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=xu();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Mh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Xh=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Zh=function(e){this.key=e,this.bo=!1},Jh=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new zl((function(e){return xs(e)}),Cs),this.Vo=new Map,this.So=new Set,this.Do=new gu(Oa.comparator),this.Co=new Map,this.No=new Tf,this.xo={},this.Fo=new Map,this.ko=Pl.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function ed(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,At.__generator)(this,(function(u){switch(u.label){case 0:return n=Nd(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,gf(n.localStore,Ts(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,td(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&uh(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function td(e,t,n,r){return(0,At.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,At.__generator)(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,At.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,At.__generator)(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,yf(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(pd(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,yf(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Yh(t,i.Bn),a=o._o(i.documents),s=Ou.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),pd(e,n,u.To),c=new Xh(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function nd(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return n=oa(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Cs(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,mf(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),ch(n.remoteStore,r.targetId),hd(n,r.targetId)})).catch(Ll)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return hd(n,r.targetId),[4,mf(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function rd(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,At.__generator)(this,(function(s){switch(s.label){case 0:r=Ad(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=oa(e),i=fa.now(),o=t.reduce((function(e,t){return e.add(t.key)}),xu());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=tu(c,n.get(c.key));null!=l&&a.push(new ou(c.key,l,Qa(l.value.mapValue),Ys.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new gu(ua)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,md(r,i.changes)];case 3:return s.sent(),[4,wh(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Oh(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function id(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:n=oa(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,df(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(ia(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?ia(r.bo):e.removedDocuments.size>0&&(ia(r.bo),r.bo=!1))})),[4,md(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ll(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function od(e,t,n){var r=oa(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=oa(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Bh(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ad(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,At.__generator)(this,(function(c){switch(c.label){case 0:return(r=oa(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new gu(Oa.comparator)).insert(o,$a.newNoDocument(o,ha.min())),s=xu().add(o),u=new Pu(ha.min(),new Map,new _u(ua),a,s),[4,id(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),gd(r),[3,4];case 2:return[4,mf(r.localStore,t,!1).then((function(){return hd(r,t,n)})).catch(Ll)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function sd(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:n=oa(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ff(n.localStore,t)];case 2:return i=o.sent(),fd(n,r,null),ld(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,md(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ll(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ud(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:r=oa(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=oa(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return ia(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),fd(r,t,n),ld(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,md(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ll(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function cd(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,At.__generator)(this,(function(s){switch(s.label){case 0:ph((n=oa(e)).remoteStore)||Jo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=oa(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Oh(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function ld(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function fd(e,t,n){var r=oa(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function hd(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||dd(e,t)}))}function dd(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(ch(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),gd(e))}function pd(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Qh?(e.No.addReference(o.key,t),vd(e,o)):o instanceof $h?(Jo("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||dd(e,o.key)):ra()}}function vd(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Jo("SyncEngine","New document in limbo: "+n),e.So.add(r),gd(e))}function gd(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Oa(ma.fromString(t)),r=e.ko.next();e.Co.set(r,new Zh(n)),e.Do=e.Do.insert(n,r),uh(e.remoteStore,new rl(Ts(ys(n.path)),r,2,Qo.o))}}function md(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,At.__generator)(this,(function(s){switch(s.label){case 0:return r=oa(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=af.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,At.__generator)(this,(function(f){switch(f.label){case 0:n=oa(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return zc.forEach(t,(function(t){return zc.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return zc.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Qc(r=f.sent()))throw r;return Jo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function yd(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return(n=oa(e)).currentUser.isEqual(t)?[3,3]:(Jo("SyncEngine","User change. New user:",t.toKey()),[4,lf(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new Yo($o.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,md(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function _d(e,t){var n=oa(e),r=n.Co.get(t);if(r&&r.bo)return xu().add(r.key);var i=xu(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function bd(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return[4,yf((n=oa(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&pd(n,t.targetId,i.To),i)]}}))}))}function wd(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){return[2,bf((t=oa(e)).localStore).then((function(e){return md(t,e)}))]}))}))}function Sd(e,t,n,r){return(0,At.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,At.__generator)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=oa(e),r=oa(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):zc.resolve(null)}))}))}((i=oa(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,wh(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(fd(i,t,r||null),ld(i,t),function(e,t){oa(oa(e)._n).Gt(t)}(i.localStore,t)):ra(),a.label=4;case 4:return[4,md(i,o)];case 5:return a.sent(),[3,7];case 6:Jo("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Ed(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,At.__generator)(this,(function(l){switch(l.label){case 0:return Nd(n=oa(e)),Ad(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Id(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,xh(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],uh(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return hd(n,t),mf(n.localStore,t,!0)})),ch(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,Id(n,u)];case 5:return l.sent(),function(e){var t=oa(e);t.Co.forEach((function(e,n){ch(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new gu(Oa.comparator)}(n),n.$o=!1,[4,xh(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Id(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,v;return(0,At.__generator)(this,(function(g){switch(g.label){case 0:n=oa(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,gf(n.localStore,Ts(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,f=c,g.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,bd(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,_f(n.localStore,s)];case 8:return v=g.sent(),[4,gf(n.localStore,v)];case 9:return u=g.sent(),[4,td(n,Td(v),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Td(e){return ms(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function kd(e){var t=oa(e);return oa(oa(t.localStore).persistence).fn()}function Cd(e,t,n,r){return(0,At.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,At.__generator)(this,(function(s){switch(s.label){case 0:return(i=oa(e)).$o?(Jo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,bf(i.localStore)];case 3:return o=s.sent(),a=Pu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,md(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,mf(i.localStore,t,!0)];case 6:return s.sent(),hd(i,t,r),[3,8];case 7:ra(),s.label=8;case 8:return[2]}}))}))}function xd(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return(0,At.__generator)(this,(function(d){switch(d.label){case 0:if(!(r=Nd(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Jo("SyncEngine","Adding an already active target "+a),[3,5]):[4,_f(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,gf(r.localStore,s)];case 3:return u=d.sent(),[4,td(r,Td(s),u.targetId,!1)];case 4:d.sent(),uh(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,mf(r.localStore,e,!1).then((function(){ch(r.remoteStore,e),hd(r,e)})).catch(Ll)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Nd(e){var t=oa(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=id.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_d.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ad.bind(null,t),t.vo._r=Vh.bind(null,t.eventManager),t.vo.Mo=qh.bind(null,t.eventManager),t}function Ad(e){var t=oa(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ud.bind(null,t),t}function Pd(e,t,n){var r=oa(e);(function(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,At.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=oa(e),r=Hu(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(Gh(r)),i=new Hh(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,md(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=oa(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return ta("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Od=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return this.R=Zf(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return cf(this.persistence,new sf,e.initialUser,this.R)},e.prototype.qo=function(e){return new Pf(Rf.bs,this.R)},e.prototype.Bo=function(e){return new Kf},e.prototype.terminate=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Rd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,At.__extends)(t,e),t.prototype.initialize=function(t){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,wf(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,t)];case 3:return n.sent(),[4,Ad(this.Qo.syncEngine)];case 4:return n.sent(),[4,wh(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ko=function(e){return cf(this.persistence,new sf,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Ul(t,e.asyncQueue)},t.prototype.qo=function(e){var t=nf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?El.withCacheSize(this.cacheSizeBytes):El.DEFAULT;return new Jl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Yf(),Xf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Kf},t}(Od),Dd=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,At.__extends)(t,e),t.prototype.initialize=function(t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof zf?(this.sharedClientState.syncEngine={ui:Sd.bind(null,n),ai:Cd.bind(null,n),hi:xd.bind(null,n),fn:kd.bind(null,n),ci:wd.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,At.__awaiter)(r,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return[4,Ed(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Yf();if(!zf.yt(t))throw new Yo($o.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=nf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zf(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Rd),Md=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return od(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=yd.bind(null,this.syncEngine),[4,xh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Fh},e.prototype.createDatastore=function(e){var t,n=Zf(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new $f(t));return function(e,t,n){return new rh(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return od(a.syncEngine,e,0)},o=Hf.yt()?new Hf:new Wf,new oh(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Jh(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return t=oa(e),Jo("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,sh(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function Ld(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r;return(0,At.__generator)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Fd=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),jd=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Bc,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Kh(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),Ud=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Yo($o.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,At.__generator)(this,(function(u){switch(u.label){case 0:return n=oa(e),r=Ju(n.R)+"/documents",i={documents:t.map((function(e){return $u(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){ia(!!t.found),t.found.name,t.found.updateTime;var n=Yu(e,t.found.name),r=Hu(t.found.updateTime),i=new Ga({mapValue:{fields:t.found.fields}});return $a.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ia(!!t.missing),ia(!!t.readTime);var n=Yu(e,t.missing),r=Hu(t.readTime);return $a.newNoDocument(n,r)}(e,t):ra()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());ia(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new fu(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Oa.fromPath(n);t.mutations.push(new hu(r,t.precondition(r)))})),[4,function(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return n=oa(e),r=Ju(n.R)+"/documents",i={writes:t.map((function(e){return rc(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ra();t=ha.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Yo($o.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ys.updateTime(t):Ys.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ha.min()))throw new Yo($o.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ys.updateTime(t)}return Ys.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),Vd=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Jf(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,At.__awaiter)(e,void 0,void 0,(function(){var e,t,n=this;return(0,At.__generator)(this,(function(r){return e=new Ud(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Na(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!pu(t)}return!1},e}(),qd=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Df.UNAUTHENTICATED,this.clientId=sa.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return(0,At.__awaiter)(r,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return Jo("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Yo($o.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Bc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,At.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Oh(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Bd(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Jo("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return(0,At.__awaiter)(i,void 0,void 0,(function(){return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,lf(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function zd(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Kd(e)];case 1:return n=i.sent(),Jo("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return(n=oa(e)).asyncQueue.verifyOperationInProgress(),Jo("RemoteStore","RemoteStore received new credentials"),r=ph(n),n.Or.add(3),[4,sh(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,ah(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Kd(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Jo("FirestoreClient","Using default OfflineComponentProvider"),[4,Bd(e,new Od)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Wd(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Jo("FirestoreClient","Using default OnlineComponentProvider"),[4,zd(e,new Md)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Hd(e){return Kd(e).then((function(e){return e.persistence}))}function Gd(e){return Kd(e).then((function(e){return e.localStore}))}function Qd(e){return Wd(e).then((function(e){return e.remoteStore}))}function $d(e){return Wd(e).then((function(e){return e.syncEngine}))}function Yd(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return[4,Wd(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=ed.bind(null,t.syncEngine),n.onUnlisten=nd.bind(null,t.syncEngine),n)]}}))}))}function Xd(e,t,n){var r=this;void 0===n&&(n={});var i=new Bc;return e.asyncQueue.enqueueAndForget((function(){return(0,At.__awaiter)(r,void 0,void 0,(function(){var r;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Fd({next:function(o){t.enqueueAndForget((function(){return Uh(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Yo($o.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Yo($o.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new zh(ys(n.path),o,{includeMetadataChanges:!0,so:!0});return jh(e,a)},[4,Yd(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Zd(e,t,n){var r=this;void 0===n&&(n={});var i=new Bc;return e.asyncQueue.enqueueAndForget((function(){return(0,At.__awaiter)(r,void 0,void 0,(function(){var r;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Fd({next:function(n){t.enqueueAndForget((function(){return Uh(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Yo($o.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new zh(n,o,{includeMetadataChanges:!0,so:!0});return jh(e,a)},[4,Yd(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var Jd=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},ep=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),tp=new Map,np=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},rp=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Df.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),ip=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),op=function(){function e(e){var t=this;this.currentUser=Df.UNAUTHENTICATED,this.oc=new Bc,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Jo("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Jo("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Jo("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ia("string"==typeof n.accessToken),new np(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return(0,At.__awaiter)(n,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return ia(null===e||"string"==typeof e),new Df(e)},e}(),ap=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Df.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),sp=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new ap(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Df.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function up(e,t,n){if(!n)throw new Yo($o.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function cp(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Yo($o.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function lp(e,t,n,r){if(!0===t&&!0===r)throw new Yo($o.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function fp(e){if(!Oa.isDocumentKey(e))throw new Yo($o.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function hp(e){if(Oa.isDocumentKey(e))throw new Yo($o.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function dp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":ra()}function pp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Yo($o.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=dp(e);throw new Yo($o.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function vp(e,t){if(t<=0)throw new Yo($o.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var gp=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Yo($o.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Yo($o.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,lp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),mp=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gp({}),this._settingsFrozen=!1,e instanceof ep?(this._databaseId=e,this._credentials=new rp):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Yo($o.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ep(e.options.projectId)}(e),this._credentials=new op(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Yo($o.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Yo($o.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gp(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new rp;switch(e.type){case"gapi":var t=e.client;return ia(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new sp(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Yo($o.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=tp.get(this))&&(Jo("ComponentProvider","Removing Datastore"),tp.delete(this),e.terminate()),Promise.resolve();var e},e}(),yp=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new bp(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),_p=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),bp=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,ys(r))||this)._path=r,i.type="collection",i}return(0,At.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new yp(this.firestore,null,new Oa(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(_p);function wp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Pt.getModularInstance)(e),up("collection","path",t),e instanceof mp)return hp(n=ma.fromString.apply(ma,(0,At.__spreadArray)([t],r))),new bp(e,null,n);if(!(e instanceof yp||e instanceof bp))throw new Yo($o.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return hp(n=ma.fromString.apply(ma,(0,At.__spreadArray)([e.path],r)).child(ma.fromString(t))),new bp(e.firestore,null,n)}function Sp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Pt.getModularInstance)(e),1===arguments.length&&(t=sa.u()),up("doc","path",t),e instanceof mp)return fp(n=ma.fromString.apply(ma,(0,At.__spreadArray)([t],r))),new yp(e,null,new Oa(n));if(!(e instanceof yp||e instanceof bp))throw new Yo($o.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return fp(n=e._path.child(ma.fromString.apply(ma,(0,At.__spreadArray)([t],r)))),new yp(e.firestore,e instanceof bp?e.converter:null,new Oa(n))}function Ep(e,t){return e=(0,Pt.getModularInstance)(e),t=(0,Pt.getModularInstance)(t),(e instanceof yp||e instanceof bp)&&(t instanceof yp||t instanceof bp)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ip(e,t){return e=(0,Pt.getModularInstance)(e),t=(0,Pt.getModularInstance)(t),e instanceof _p&&t instanceof _p&&e.firestore===t.firestore&&Cs(e._query,t._query)&&e.converter===t.converter}var Tp=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Jf(this,"async_queue_retry"),this.Ic=function(){var t=Xf();t&&Jo("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Xf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Xf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Bc;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Qc(e=n.sent()))throw e;return Jo("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,ea("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Ph.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&ra()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e;return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function kp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Cp=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Bc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),xp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Tp,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,At.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Ap(this),this._firestoreClient.terminate()},t}(mp);function Np(e){return e._firestoreClient||Ap(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ap(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Jd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new qd(e._credentials,e._queue,r)}function Pp(e,t,n){var r=this,i=new Bc;return e.asyncQueue.enqueue((function(){return(0,At.__awaiter)(r,void 0,void 0,(function(){var r;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Bd(e,n)];case 1:return o.sent(),[4,zd(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===$o.FAILED_PRECONDITION||e.code===$o.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Op(e){if(e._initialized||e._terminated)throw new Yo($o.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Rp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Yo($o.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _a(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Dp=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(wa.fromBase64String(t))}catch(t){throw new Yo($o.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(wa.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Mp=function(e){this._methodName=e},Lp=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Yo($o.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Yo($o.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return ua(this._lat,e._lat)||ua(this._long,e._long)},e}(),Fp=/^__.*__$/,jp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new ou(e,this.data,this.fieldMask,t,this.fieldTransforms):new iu(e,this.data,t,this.fieldTransforms)},e}(),Up=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new ou(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Vp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ra()}}var qp=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Fc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,kc:!0})},e.prototype.Lc=function(e){return sv(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(Vp(this.Nc)&&Fp.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Bp=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Zf(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new qp({Nc:e,methodName:t,qc:n,path:_a.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function zp(e){var t=e._freezeSettings(),n=Zf(e._databaseId);return new Bp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Kp(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);rv("Data must be an object, but it was:",a,r);var s,u,c=tv(r,a);if(o.merge)s=new ba(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=iv(t,h[f],n);if(!a.contains(d))throw new Yo($o.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");uv(l,d)||l.push(d)}s=new ba(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new jp(new Ga(c),s,u)}var Wp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,At.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Mp);function Hp(e,t,n){return new qp({Nc:3,qc:t.settings.qc,methodName:e._methodName,kc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Gp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,At.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new Qs(e.path,new Vs)},t.prototype.isEqual=function(e){return e instanceof t},t}(Mp),Qp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,At.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=Hp(this,e,!0),n=this.Kc.map((function(e){return ev(e,t)})),r=new qs(n);return new Qs(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Mp),$p=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,At.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=Hp(this,e,!0),n=this.Kc.map((function(e){return ev(e,t)})),r=new zs(n);return new Qs(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Mp),Yp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,At.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new Ws(e.R,Ms(e.R,this.Qc));return new Qs(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Mp);function Xp(e,t,n,r){var i=e.Uc(1,t,n);rv("Data must be an object, but it was:",i,r);var o=[],a=Ga.empty();pa(r,(function(e,r){var s=av(t,e,n);r=(0,Pt.getModularInstance)(r);var u=i.Oc(s);if(r instanceof Wp)o.push(s);else{var c=ev(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new ba(o);return new Up(a,s,i.fieldTransforms)}function Zp(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[iv(t,r,n)],u=[i];if(o.length%2!=0)throw new Yo($o.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(iv(t,o[c])),u.push(o[c+1]);for(var l=[],f=Ga.empty(),h=s.length-1;h>=0;--h)if(!uv(l,s[h])){var d=s[h],p=u[h];p=(0,Pt.getModularInstance)(p);var v=a.Oc(d);if(p instanceof Wp)l.push(d);else{var g=ev(p,v);null!=g&&(l.push(d),f.set(d,g))}}var m=new ba(l);return new Up(f,m,a.fieldTransforms)}function Jp(e,t,n,r){return void 0===r&&(r=!1),ev(n,e.Uc(r?4:3,t))}function ev(e,t){if(nv(e=(0,Pt.getModularInstance)(e)))return rv("Unsupported field value:",t,e),tv(e,t);if(e instanceof Mp)return function(e,t){if(!Vp(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.kc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=ev(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Pt.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ms(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=fa.fromDate(e);return{timestampValue:zu(t.R,n)}}if(e instanceof fa)return n=new fa(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:zu(t.R,n)};if(e instanceof Lp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Dp)return{bytesValue:Ku(t.R,e._byteString)};if(e instanceof yp){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Gu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+dp(e))}(e,t)}function tv(e,t){var n={};return va(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pa(e,(function(e,r){var i=ev(r,t.Fc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function nv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof fa||e instanceof Lp||e instanceof Dp||e instanceof yp||e instanceof Mp)}function rv(e,t,n){if(!nv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=dp(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function iv(e,t,n){if((t=(0,Pt.getModularInstance)(t))instanceof Rp)return t._internalPath;if("string"==typeof t)return av(e,t);throw sv("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var ov=new RegExp("[~\\*/\\[\\]]");function av(e,t,n){if(t.search(ov)>=0)throw sv("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Rp.bind.apply(Rp,(0,At.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(r){throw sv("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function sv(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Yo($o.INVALID_ARGUMENT,(s+=". ")+e+u)}function uv(e,t){return e.some((function(e){return e.isEqual(t)}))}var cv=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new yp(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new lv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(fv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),lv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,At.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(cv);function fv(e,t){return"string"==typeof t?av(e,t):t instanceof Rp?t._internalPath:t._delegate._internalPath}var hv=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),dv=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,At.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new pv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(fv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(cv),pv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,At.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(dv),vv=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new hv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new pv(n._firestore,n._userDataWriter,r.key,r,new hv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Yo($o.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new pv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new pv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:gv(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function gv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ra()}}function mv(e,t){return e instanceof dv&&t instanceof dv?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof vv&&t instanceof vv&&e._firestore===t._firestore&&Ip(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function yv(e){if(bs(e)&&0===e.explicitOrderBy.length)throw new Yo($o.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _v=function(){};function bv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var wv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return(0,At.__extends)(t,e),t.prototype._apply=function(e){var t=zp(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Yo($o.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){xv(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(Cv(r,e,f))}s={arrayValue:{values:u}}}else s=Cv(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||xv(a,o),s=Jp(n,"where",a,"in"===o||"not-in"===o);var h=ts.create(i,o,s);return function(e,t){if(t.g()){var n=Ss(e);if(null!==n&&!n.isEqual(t.field))throw new Yo($o.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=ws(e);null!==r&&Nv(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Yo($o.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Yo($o.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new _p(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(_v),Sv=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return(0,At.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Yo($o.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Yo($o.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new hs(t,n);return function(e,t){if(null===ws(e)){var n=Ss(e);null!==n&&Nv(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new _p(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new gs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(_v),Ev=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,At.__extends)(t,e),t.prototype._apply=function(e){return new _p(e.firestore,e.converter,ks(e._query,this.Hc,this.Jc))},t}(_v),Iv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,At.__extends)(t,e),t.prototype._apply=function(e){var t=kv(e,this.type,this.Yc,this.Xc);return new _p(e.firestore,e.converter,function(e,t){return new gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(_v),Tv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,At.__extends)(t,e),t.prototype._apply=function(e){var t=kv(e,this.type,this.Yc,this.Xc);return new _p(e.firestore,e.converter,function(e,t){return new gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(_v);function kv(e,t,n,r){if(n[0]=(0,Pt.getModularInstance)(n[0]),n[0]instanceof cv)return function(e,t,n,r,i){if(!r)throw new Yo($o.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Is(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Va(t,r.key));else{var c=r.data.field(u.field);if(ka(c))throw new Yo($o.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Yo($o.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ls(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=zp(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Yo($o.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Yo($o.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Es(e)&&-1!==c.indexOf("/"))throw new Yo($o.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(ma.fromString(c));if(!Oa.isDocumentKey(l))throw new Yo($o.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Oa(l);s.push(Va(t,f))}else{var h=Jp(n,r,c);s.push(h)}}return new ls(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Cv(e,t,n){if("string"==typeof(n=(0,Pt.getModularInstance)(n))){if(""===n)throw new Yo($o.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Es(t)&&-1!==n.indexOf("/"))throw new Yo($o.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(ma.fromString(n));if(!Oa.isDocumentKey(r))throw new Yo($o.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Va(e,new Oa(r))}if(n instanceof yp)return Va(e,n._key);throw new Yo($o.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+dp(n)+".")}function xv(e,t){if(!Array.isArray(e)||0===e.length)throw new Yo($o.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Yo($o.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Nv(e,t,n){if(!n.isEqual(t))throw new Yo($o.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Av=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ia(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ra()}},e.prototype.convertObject=function(e,t){var n=this,r={};return pa(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Lp(Ia(e.latitude),Ia(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Ca(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xa(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Ea(e);return new fa(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=ma.fromString(e);ia(yc(n));var r=new ep(n.get(1),n.get(3)),i=new Oa(n.popFirst(5));return r.isEqual(t)||ea("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Pv(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Ov=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,At.__extends)(t,e),t.prototype.convertBytes=function(e){return new Dp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yp(this.firestore,null,t)},t}(Av),Rv=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zp(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Dv(e,this._firestore),i=Pv(r.converter,t,n),o=Kp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ys.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Dv(e,this._firestore);return o="string"==typeof(t=(0,Pt.getModularInstance)(t))||t instanceof Rp?Zp(this._dataReader,"WriteBatch.update",a._key,t,n,r):Xp(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Ys.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Dv(e,this._firestore);return this._mutations=this._mutations.concat(new fu(t._key,Ys.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Yo($o.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Dv(e,t){if((e=(0,Pt.getModularInstance)(e)).firestore!==t)throw new Yo($o.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Mv=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,At.__extends)(t,e),t.prototype.convertBytes=function(e){return new Dp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yp(this.firestore,null,t)},t}(Av);function Lv(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=pp(e,yp);var o=pp(e.firestore,xp),a=zp(o);return jv(o,[("string"==typeof(t=(0,Pt.getModularInstance)(t))||t instanceof Rp?Zp(a,"updateDoc",e._key,t,n,r):Xp(a,"updateDoc",e._key,t)).toMutation(e._key,Ys.exists(!0))])}function Fv(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,Pt.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||kp(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(kp(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof yp)c=pp(e.firestore,xp),l=ys(e._key.path),u={next:function(t){i[s]&&i[s](Uv(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=pp(e,_p);c=pp(d.firestore,xp),l=d._query;var p=new Mv(c);u={next:function(e){i[s]&&i[s](new vv(c,p,d,e))},error:i[s+1],complete:i[s+2]},yv(e._query)}return function(e,t,n,r){var i=this,o=new Fd(r),a=new zh(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,At.__awaiter)(i,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return t=jh,[4,Yd(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,At.__awaiter)(i,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return t=Uh,[4,Yd(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Np(c),l,f,u)}function jv(e,t){return function(e,t){var n=this,r=new Bc;return e.asyncQueue.enqueueAndForget((function(){return(0,At.__awaiter)(n,void 0,void 0,(function(){var n;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return n=rd,[4,$d(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Np(e),t)}function Uv(e,t,n){var r=n.docs.get(t._key),i=new Mv(e);return new dv(e,i,t._key,r,new hv(n.hasPendingWrites,n.fromCache),t.converter)}var Vv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,At.__extends)(t,e),t.prototype.get=function(t){var n=this,r=Dv(t,this._firestore),i=new Mv(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new dv(n._firestore,i,r._key,e._document,new hv(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=zp(e)}return e.prototype.get=function(e){var t=this,n=Dv(e,this._firestore),r=new Ov(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ra();var i=e[0];if(i.isFoundDocument())return new cv(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new cv(t._firestore,r,n._key,null,n.converter);throw ra()}))},e.prototype.set=function(e,t,n){var r=Dv(e,this._firestore),i=Pv(r.converter,t,n),o=Kp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Dv(e,this._firestore);return o="string"==typeof(t=(0,Pt.getModularInstance)(t))||t instanceof Rp?Zp(this._dataReader,"Transaction.update",a._key,t,n,r):Xp(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Dv(e,this._firestore);return this._transaction.delete(t._key),this},e}());function qv(){if("undefined"==typeof Uint8Array)throw new Yo($o.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Bv(){if("undefined"==typeof atob)throw new Yo($o.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zv=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Bv(),new e(Dp.fromBase64String(t))},e.fromUint8Array=function(t){return qv(),new e(Dp.fromUint8Array(t))},e.prototype.toBase64=function(){return Bv(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return qv(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Kv=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Op(e=pp(e,xp));var n=Np(e),r=e._freezeSettings(),i=new Md;return Pp(n,i,new Rd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Op(e=pp(e,xp));var t=Np(e),n=e._freezeSettings(),r=new Md;return Pp(t,r,new Dd(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Yo($o.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Bc;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,At.__awaiter)(t,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return Wc.yt()?(t=e+"main",[4,Wc.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(nf(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),Wv=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof ep||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ta("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=pp(e,mp))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&ta("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=(0,Pt.createMockUserToken)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Yo($o.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new ip(new np(o,new Df(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,At.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return[4,Hd(e)];case 1:return t=r.sent(),[4,Qd(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=oa(e);return t.Or.delete(0),ah(t)}(n))]}}))}))}))}(Np(pp(this._delegate,xp)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,At.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return[4,Hd(e)];case 1:return t=r.sent(),[4,Qd(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return(t=oa(e)).Or.add(0),[4,sh(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Np(pp(this._delegate,xp)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&lp("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Bc;return e.asyncQueue.enqueueAndForget((function(){return(0,At.__awaiter)(t,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return t=cd,[4,$d(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Np(pp(this._delegate,xp)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Fd(t);return e.asyncQueue.enqueueAndForget((function(){return(0,At.__awaiter)(n,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){oa(e).Gr.add(t),t.next()},[4,Yd(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,At.__awaiter)(n,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){oa(e).Gr.delete(t)},[4,Yd(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Np(e=pp(e,xp)),kp(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Yo($o.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new og(this,wp(this._delegate,e))}catch(e){throw Xv(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Yv(this,Sp(this._delegate,e))}catch(e){throw Xv(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new ng(this,function(e,t){if(e=pp(e,mp),up("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Yo($o.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new _p(e,null,function(e){return new gs(ma.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Xv(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Bc;return e.asyncQueue.enqueueAndForget((function(){return(0,At.__awaiter)(n,void 0,void 0,(function(){var n;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return[4,function(e){return Wd(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Vd(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Np(e),(function(n){return t(new Vv(e,n))}))}(this._delegate,(function(n){return e(new Gv(t,n))}))},e.prototype.batch=function(){var e=this;return Np(this._delegate),new Qv(new Rv(this._delegate,(function(t){return jv(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Yo($o.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Yo($o.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Hv=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,At.__extends)(t,e),t.prototype.convertBytes=function(e){return new zv(new Dp(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Yv.eu(t,this.firestore,null)},t}(Av);var Gv=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Hv(e)}return e.prototype.get=function(e){var t=this,n=ag(e);return this._delegate.get(n).then((function(e){return new eg(t._firestore,new dv(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=ag(e);return n?(cp("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=ag(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,At.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=ag(e);return this._delegate.delete(t),this},e}(),Qv=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=ag(e);return n?(cp("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=ag(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,At.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=ag(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),$v=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new pv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new tg(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Hv(t),n),i.set(n,o)),o},e}();$v.su=new WeakMap;var Yv=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Hv(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Yo($o.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new yp(n._delegate,r,new Oa(t)))},e.eu=function(t,n,r){return new e(n,new yp(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new og(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new og(this.firestore,wp(this._delegate,e))}catch(e){throw Xv(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,Pt.getModularInstance)(e))instanceof yp&&Ep(this._delegate,e)},e.prototype.set=function(e,t){t=cp("DocumentReference.set",t);try{return function(e,t,n){e=pp(e,yp);var r=pp(e.firestore,xp),i=Pv(e.converter,t,n);return jv(r,[Kp(zp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ys.none())])}(this._delegate,e,t)}catch(e){throw Xv(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Lv(this._delegate,e):Lv.apply(void 0,(0,At.__spreadArray)([this._delegate,e,t],n))}catch(e){throw Xv(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return jv(pp((e=this._delegate).firestore,xp),[new fu(e._key,Ys.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Zv(t),i=Jv(t,(function(t){return new eg(e.firestore,new dv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Fv(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=pp(e,yp);var t=pp(e.firestore,xp),n=Np(t),r=new Mv(t);return function(e,t){var n=this,r=new Bc;return e.asyncQueue.enqueueAndForget((function(){return(0,At.__awaiter)(n,void 0,void 0,(function(){var n;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=oa(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Yo($o.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Oh(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Gd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new dv(t,r,e._key,n,new hv(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=pp(e,yp);var t=pp(e.firestore,xp);return Xd(Np(t),e._key,{source:"server"}).then((function(n){return Uv(t,e,n)}))}(this._delegate):function(e){e=pp(e,yp);var t=pp(e.firestore,xp);return Xd(Np(t),e._key).then((function(n){return Uv(t,e,n)}))}(this._delegate)).then((function(e){return new eg(t.firestore,new dv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter($v.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Xv(e,t,n){return e.message=e.message.replace(t,n),e}function Zv(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!kp(r))return r}return{}}function Jv(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=kp(e[0])?e[0]:kp(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var eg=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Yv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return mv(this._delegate,e._delegate)},e}(),tg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,At.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(eg),ng=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Hv(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,bv(this._delegate,function(e,t,n){var r=t,i=fv("where",e);return new wv(i,r,n)}(t,n,r)))}catch(t){throw Xv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,bv(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=fv("orderBy",e);return new Sv(r,n)}(t,n)))}catch(t){throw Xv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,bv(this._delegate,function(e){return vp("limit",e),new Ev("limit",e,"F")}(t)))}catch(t){throw Xv(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,bv(this._delegate,function(e){return vp("limitToLast",e),new Ev("limitToLast",e,"L")}(t)))}catch(t){throw Xv(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,bv(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Iv("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Xv(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,bv(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Iv("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Xv(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,bv(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Tv("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Xv(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,bv(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Tv("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Xv(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Ip(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=pp(e,_p);var t=pp(e.firestore,xp),n=Np(t),r=new Mv(t);return function(e,t){var n=this,r=new Bc;return e.asyncQueue.enqueueAndForget((function(){return(0,At.__awaiter)(n,void 0,void 0,(function(){var n;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,At.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,yf(e,t,!0)];case 1:return s=u.sent(),r=new Yh(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Oh(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Gd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new vv(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=pp(e,_p);var t=pp(e.firestore,xp),n=Np(t),r=new Mv(t);return Zd(n,e._query,{source:"server"}).then((function(n){return new vv(t,r,e,n)}))}(this._delegate):function(e){e=pp(e,_p);var t=pp(e.firestore,xp),n=Np(t),r=new Mv(t);return yv(e._query),Zd(n,e._query).then((function(n){return new vv(t,r,e,n)}))}(this._delegate)).then((function(e){return new ig(t.firestore,new vv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Zv(t),i=Jv(t,(function(t){return new ig(e.firestore,new vv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Fv(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter($v.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),rg=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new tg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),ig=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new ng(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new tg(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new rg(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new tg(n._firestore,r))}))},e.prototype.isEqual=function(e){return mv(this._delegate,e._delegate)},e}(),og=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,At.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Yv(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Yv(this.firestore,void 0===e?Sp(this._delegate):Sp(this._delegate,e))}catch(e){throw Xv(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=pp(e.firestore,xp),r=Sp(e),i=Pv(e.converter,t);return jv(n,[Kp(zp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ys.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Yv(t.firestore,e)}))},t.prototype.isEqual=function(e){return Ep(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter($v.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(ng);function ag(e){return pp(e,yp)}var sg=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Rp.bind.apply(Rp,(0,At.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(_a.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,Pt.getModularInstance)(e))instanceof Rp&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),ug=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Gp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Wp("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Qp("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new $p("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Yp("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function cg(e){return function(e,t){var n=Np(e=pp(e,xp)),r=new Cp;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new jd(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ld(e,t);if(e instanceof ArrayBuffer)return Ld(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Zf(t));e.asyncQueue.enqueueAndForget((function(){return(0,At.__awaiter)(i,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return t=Pd,[4,$d(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function lg(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return(0,At.__awaiter)(n,void 0,void 0,(function(){var n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=oa(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,Gd(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Np(t=pp(t,xp)),n).then((function(e){return e?new _p(t,null,e.query):null}))).then((function(e){return e?new ng(r,e):null}))}var fg=n(3850),hg={Firestore:Wv,GeoPoint:Lp,Timestamp:fa,Blob:zv,Transaction:Gv,WriteBatch:Qv,DocumentReference:Yv,DocumentSnapshot:eg,Query:ng,QueryDocumentSnapshot:tg,QuerySnapshot:ig,CollectionReference:og,FieldPath:sg,FieldValue:ug,setLogLevel:function(e){var t;t=e,Xo.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new fg.Component("firestore",(function(e){return function(e,t){return new Wv(e,new xp(e,t),new Kv)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},hg)))}(e),e.registerVersion("@firebase/firestore","2.3.10")}(Nt.default),function(e){e.prototype.loadBundle=cg,e.prototype.namedQuery=lg}(Wv);var dg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pg=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,At.__extends)(t,e),t}(Error);var vg=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e;return(0,At.__generator)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function gg(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var mg=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return gg(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?gg(e,(function(e){return t.decode(e)})):e},e}();var yg=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new mg,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new vg(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(u){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,At.__generator)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e;return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h,d;return(0,At.__generator)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new pg("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([_g(c,this.postJSON(r,i,o)),l,_g(c,this.cancelAllRequests)])];case 2:if(!(f=p.sent()))throw new pg("cancelled","Firebase Functions instance was deleted.");if(h=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!dg[s])return new pg("internal","internal");r=dg[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(c){}return"ok"===r?null:new pg(r,i,o)}(f.status,f.json,this.serializer),h)throw h;if(!f.json)throw new pg("internal","Response is not valid JSON object.");if("undefined"===typeof(d=f.json.data)&&(d=f.json.result),"undefined"===typeof d)throw new pg("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function _g(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:yg};e.INTERNAL.registerComponent(new fg.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new yg(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Nt.default,fetch.bind(self)),Nt.default.registerVersion("@firebase/functions","0.6.14");var bg,wg=n(8457),Sg="0.4.31",Eg=1e4,Ig="w:0.4.31",Tg="FIS_v2",kg=36e5,Cg=((bg={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',bg["not-registered"]="Firebase Installation is not registered.",bg["installation-not-found"]="Firebase Installation not found.",bg["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',bg["app-offline"]="Could not process request. Application offline.",bg["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",bg),xg=new Pt.ErrorFactory("installations","Installations",Cg);function Ng(e){return e instanceof Pt.FirebaseError&&e.code.includes("request-failed")}function Ag(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function Pg(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Og(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,xg.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Rg(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Dg(e,t){var n=t.refreshToken,r=Rg(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function Mg(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function Lg(e,t){var n=t.fid;return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,At.__generator)(this,(function(u){switch(u.label){case 0:return t=Ag(e),r=Rg(e),i={fid:n,authVersion:Tg,appId:e.appId,sdkVersion:Ig},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Mg((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Pg(s.authToken)}];case 3:return[4,Og("Create Installation",a)];case 4:throw u.sent()}}))}))}function Fg(e){return new Promise((function(t){setTimeout(t,e)}))}var jg=/^[cdef][\w-]{21}$/;function Ug(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,At.__spreadArray)([],(0,At.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return jg.test(t)?t:""}catch(Wp){return""}}function Vg(e){return e.appName+"!"+e.appId}var qg=new Map;function Bg(e,t){var n=Vg(e);zg(n,t),function(e,t){var n=Wg();n&&n.postMessage({key:e,fid:t});Hg()}(n,t)}function zg(e,t){var n,r,i=qg.get(e);if(i)try{for(var o=(0,At.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Kg=null;function Wg(){return!Kg&&"BroadcastChannel"in self&&((Kg=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){zg(e.data.key,e.data.fid)}),Kg}function Hg(){0===qg.size&&Kg&&(Kg.close(),Kg=null)}var Gg,Qg,$g="firebase-installations-store",Yg=null;function Xg(){return Yg||(Yg=(0,wg.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore($g)}))),Yg}function Zg(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,At.__generator)(this,(function(s){switch(s.label){case 0:return n=Vg(e),[4,Xg()];case 1:return r=s.sent(),i=r.transaction($g,"readwrite"),[4,(o=i.objectStore($g)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||Bg(e,t.fid),[2,t]}}))}))}function Jg(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return t=Vg(e),[4,Xg()];case 1:return n=i.sent(),[4,(r=n.transaction($g,"readwrite")).objectStore($g).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function em(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,At.__generator)(this,(function(u){switch(u.label){case 0:return n=Vg(e),[4,Xg()];case 1:return r=u.sent(),i=r.transaction($g,"readwrite"),[4,(o=i.objectStore($g)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||Bg(e,s.fid),[2,s]}}))}))}function tm(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return[4,em(e,(function(n){var r=function(e){return im(e||{fid:Ug(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(xg.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Lg(e,t)];case 1:return n=i.sent(),[2,Zg(e,n)];case 2:return Ng(r=i.sent())&&409===r.customData.serverCode?[4,Jg(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Zg(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:nm(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function nm(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return[4,rm(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,Fg(100)];case 3:return o.sent(),[4,rm(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,tm(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function rm(e){return em(e,(function(e){if(!e)throw xg.create("installation-not-found");return im(e)}))}function im(e){return 1===(t=e).registrationStatus&&t.registrationTime+Eg<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function om(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return(0,At.__generator)(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return Ag(e)+"/"+n+"/authTokens:generate"}(n,t),i=Dg(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:Ig}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,Mg((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,Pg(c)];case 3:return[4,Og("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function am(e,t){return void 0===t&&(t=!1),(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return[4,em(e.appConfig,(function(r){if(!um(r))throw xg.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+kg}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return[4,sm(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Fg(100)];case 3:return i.sent(),[4,sm(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,am(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw xg.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,At.__assign)((0,At.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,om(e,t)];case 1:return n=o.sent(),i=(0,At.__assign)((0,At.__assign)({},t),{authToken:n}),[4,Zg(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Ng(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Jg(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,At.__assign)((0,At.__assign)({},t),{authToken:{requestStatus:0}}),[4,Zg(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function sm(e){return em(e,(function(e){if(!um(e))throw xg.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Eg<Date.now()?(0,At.__assign)((0,At.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function um(e){return void 0!==e&&2===e.registrationStatus}function cm(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return[4,tm(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function lm(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,At.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return Ag(e)+"/"+n}(e,t),r=Dg(e,t),i={method:"DELETE",headers:r},[4,Mg((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Og("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function fm(e,t){var n=e.appConfig;return function(e,t){Wg();var n=Vg(e),r=qg.get(n);r||(r=new Set,qg.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=Vg(e),r=qg.get(n);r&&(r.delete(t),0===r.size&&qg.delete(n),Hg())}(n,t)}}function hm(e){return xg.create("missing-app-config-values",{valueName:e})}(Gg=Nt.default).INTERNAL.registerComponent(new fg.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw hm("App Configuration");if(!e.name)throw hm("App Name");try{for(var r=(0,At.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw hm(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return[4,tm(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):am(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return[4,cm(e.appConfig)];case 1:return n.sent(),[4,am(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return[4,em(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw xg.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw xg.create("app-offline");case 3:return[4,lm(t,n)];case 4:return r.sent(),[4,Jg(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return fm(r,e)}};return i}),"PUBLIC")),Gg.registerVersion("@firebase/installations",Sg);var dm,pm=((Qg={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Qg["only-available-in-window"]="This method is available in a Window context.",Qg["only-available-in-sw"]="This method is available in a service worker context.",Qg["permission-default"]="The notification permission was not granted and dismissed instead.",Qg["permission-blocked"]="The notification permission was not granted and blocked instead.",Qg["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Qg["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Qg["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Qg["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Qg["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Qg["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Qg["token-update-no-token"]="FCM returned no token when updating the user to push.",Qg["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Qg["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Qg["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Qg["invalid-vapid-key"]="The public VAPID key must be a string.",Qg["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Qg),vm=new Pt.ErrorFactory("messaging","Messaging",pm),gm="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mm="google.c.a.c_id";function ym(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,At.__spreadArray)([],(0,At.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _m(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(dm||(dm={}));var bm="fcm_token_details_db",wm="fcm_token_object_Store";function Sm(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i=this;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(bm))return[2,null];o.label=2;case 2:return r=null,[4,(0,wg.openDb)(bm,5,(function(t){return(0,At.__awaiter)(i,void 0,void 0,(function(){var n,i,o,a;return(0,At.__generator)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(wm)?[4,(n=t.transaction.objectStore(wm)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:ym(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:ym(o.auth),p256dh:ym(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:ym(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,wg.deleteDb)(bm)];case 4:return o.sent(),[4,(0,wg.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,wg.deleteDb)("undefined")];case 6:return o.sent(),[2,Em(r)?r:null]}}))}))}function Em(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Im="firebase-messaging-store",Tm=null;function km(){return Tm||(Tm=(0,wg.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(Im)}))),Tm}function Cm(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return t=Am(e),[4,km()];case 1:return[4,i.sent().transaction(Im).objectStore(Im).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,Sm(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,xm(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function xm(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return n=Am(e),[4,km()];case 1:return r=o.sent(),[4,(i=r.transaction(Im,"readwrite")).objectStore(Im).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function Nm(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return t=Am(e),[4,km()];case 1:return n=i.sent(),[4,(r=n.transaction(Im,"readwrite")).objectStore(Im).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Am(e){return e.appConfig.appId}function Pm(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,At.__generator)(this,(function(u){switch(u.label){case 0:return[4,Mm(e)];case 1:n=u.sent(),r=Lm(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Dm(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),vm.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,vm.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw vm.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Om(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,At.__generator)(this,(function(u){switch(u.label){case 0:return[4,Mm(e)];case 1:n=u.sent(),r=Lm(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Dm(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),vm.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,vm.create("token-update-failed",{errorInfo:s});if(!o.token)throw vm.create("token-update-no-token");return[2,o.token]}}))}))}function Rm(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,At.__generator)(this,(function(s){switch(s.label){case 0:return[4,Mm(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Dm(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,vm.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),vm.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function Dm(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function Mm(e){var t=e.appConfig,n=e.installations;return(0,At.__awaiter)(this,void 0,void 0,(function(){var e;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function Lm(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==gm&&(o.web.applicationPubKey=i),o}function Fm(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,At.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw vm.create("permission-blocked");return[4,qm(t,n)];case 1:return r=s.sent(),[4,Cm(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:ym(r.getKey("auth")),p256dh:ym(r.getKey("p256dh"))},i?[3,3]:[2,Vm(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Rm(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,Vm(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,Um({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function jm(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return[4,Cm(e)];case 1:return(n=i.sent())?[4,Rm(e,n.token)]:[3,4];case 2:return i.sent(),[4,Nm(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Um(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,At.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Om(t,e)];case 1:return r=a.sent(),i=(0,At.__assign)((0,At.__assign)({},e),{token:r,createTime:Date.now()}),[4,xm(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,jm(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function Vm(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return[4,Pm(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,xm(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function qm(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_m(t)})]}}))}))}function Bm(e){return"object"===typeof e&&!!e&&mm in e}function zm(e){return new Promise((function(t){setTimeout(t,e)}))}var Km=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw vm.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,At.__awaiter)(this,void 0,void 0,(function(){var n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Cm(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:gm,r.label=2;case 2:return[2,Fm(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return jm(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw vm.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw vm.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw vm.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw vm.create("only-available-in-window")},e.prototype.onMessage=function(){throw vm.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw vm.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,Qm()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,Gm(n,t)]:(r=!1,t.notification?[4,$m(Wm(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,zm(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,At.__awaiter)(this,void 0,void 0,(function(){var r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,jm(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,Cm(this.firebaseDependencies)];case 3:return r=i.sent(),[4,jm(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,Fm(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:gm)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,At.__generator)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return Bm(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,Hm(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,zm(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=dm.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function Wm(e){var t,n=(0,At.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function Hm(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,At.__generator)(this,(function(u){switch(u.label){case 0:return[4,Qm()];case 1:t=u.sent();try{for(n=(0,At.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function Gm(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=dm.PUSH_RECEIVED;try{for(var i=(0,At.__values)(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Qm(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function $m(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var Ym=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===dm.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),Bm(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw vm.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,Fm(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=gm),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw vm.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),vm.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,jm(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e;return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?vm.create("permission-blocked"):vm.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw vm.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw vm.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw vm.create("invalid-sw-registration");if(this.swRegistration)throw vm.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw vm.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw vm.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case dm.NOTIFICATION_CLICKED:return"notification_open";case dm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function Xm(e){return vm.create("missing-app-config-values",{valueName:e})}var Zm={isSupported:Jm};function Jm(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Nt.default.INTERNAL.registerComponent(new fg.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Xm("App Configuration Object");if(!e.name)throw Xm("App Name");var r=e.options;try{for(var i=(0,At.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw Xm(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Jm())throw vm.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Km(r):new Ym(r)}),"PUBLIC").setServiceProps(Zm));var ey="firebasestorage.googleapis.com",ty=function(e){function t(n,r){var i=e.call(this,ny(n),"Firebase Storage: "+r+" ("+ny(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,At.__extends)(t,e),t.prototype._codeEquals=function(e){return ny(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Pt.FirebaseError);function ny(e){return"storage/"+e}function ry(){return new ty("unknown","An unknown error occurred, please check the error payload for server response.")}function iy(){return new ty("canceled","User canceled the upload/download.")}function oy(){return new ty("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ay(e){return new ty("invalid-argument",e)}function sy(){return new ty("app-deleted","The Firebase app was deleted.")}function uy(e){return new ty("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cy(e,t){return new ty("invalid-format","String does not match format '"+e+"': "+t)}function ly(e){throw new ty("internal-error","Internal error: "+e)}var fy={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},hy=function(e,t){this.data=e,this.contentType=t||null};function dy(e,t){switch(e){case fy.RAW:return new hy(py(t));case fy.BASE64:case fy.BASE64URL:return new hy(vy(e,t));case fy.DATA_URL:return new hy(function(e){var t=new gy(e);return t.base64?vy(fy.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw cy(fy.DATA_URL,"Malformed data URL.")}return py(t)}(t.rest)}(t),new gy(t).contentType)}throw ry()}function py(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function vy(e,t){switch(e){case fy.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw cy(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case fy.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw cy(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(c){throw cy(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var gy=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw cy(fy.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)};var my,yy={STATE_CHANGED:"state_changed"},_y={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function by(e){switch(e){case"running":case"pausing":case"canceling":return _y.RUNNING;case"paused":return _y.PAUSED;case"success":return _y.SUCCESS;case"canceled":return _y.CANCELED;default:return _y.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(my||(my={}));var wy=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=my.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=my.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=my.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw ly("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw ly("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw ly("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw ly("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var Sy=function(){function e(){}return e.prototype.createConnection=function(){return new wy},e}(),Ey=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new ty("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===ey?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new ty("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Iy=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function Ty(e){return"string"===typeof e||e instanceof String}function ky(e){return Cy()&&e instanceof Blob}function Cy(){return"undefined"!==typeof Blob}function xy(e,t,n,r){if(r<t)throw ay("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw ay("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Ny(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Ay(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var Py=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(u){o(u)}else null!==a?((r=ry()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?sy():iy()):o(r=new ty("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Oy(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,(0,At.__spreadArray)([null,e],t));else{var i;s()||o?c.call.apply(c,(0,At.__spreadArray)([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var h=!1;function d(e){h||(h=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new Oy(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===my.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Oy(a,r))}else{var s=r.getErrorCode()===my.ABORT;t(!1,new Oy(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Oy=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function Ry(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Dy(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ry();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Cy())return new Blob(e);throw new ty("unsupported-environment","This browser doesn't seem to support creating Blobs")}var My=function(){function e(e,t){var n=0,r="";ky(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(ky(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Cy()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Dy.apply(null,r))}var i=t.map((function(e){return Ty(e)?dy(fy.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function Ly(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Fy(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function jy(e,t){return t}var Uy=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||jy},Vy=null;function qy(){if(Vy)return Vy;var e=[];e.push(new Uy("bucket")),e.push(new Uy("generation")),e.push(new Uy("metageneration")),e.push(new Uy("name","fullPath",!0));var t=new Uy("name");t.xform=function(e,t){return function(e){return!Ty(e)||e.length<2?e:Fy(e)}(t)},e.push(t);var n=new Uy("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Uy("timeCreated")),e.push(new Uy("updated")),e.push(new Uy("md5Hash",null,!0)),e.push(new Uy("cacheControl",null,!0)),e.push(new Uy("contentDisposition",null,!0)),e.push(new Uy("contentEncoding",null,!0)),e.push(new Uy("contentLanguage",null,!0)),e.push(new Uy("contentType",null,!0)),e.push(new Uy("metadata","customMetadata",!0)),Vy=e}function By(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Ey(n,r);return t._makeStorageReference(i)}})}(r,e),r}function zy(e,t,n){var r=Ly(t);return null===r?null:By(e,r,n)}function Ky(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Wy(e,t,n){var r=Ly(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Ey(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Ey(t,l.name)),r.items.push(s)}return r}(e,t,r)}var Hy=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Gy(e){if(!e)throw ry()}function Qy(e,t){return function(n,r){var i=zy(e,r,t);return Gy(null!==i),i}}function $y(e,t){return function(n,r){var i=zy(e,r,t);return Gy(null!==i),function(e,t,n){var r=Ly(t);if(null===r)return null;if(!Ty(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Ny("/b/"+o(r)+"/o/"+o(i),n)+Ay({alt:"media",token:t})}))[0]}(i,r,e.host)}}function Yy(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new ty("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ty("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new ty("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new ty("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Xy(e){var t=Yy(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new ty("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Zy(e,t,n){var r=Ny(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Hy(r,"GET",Qy(e,n),i);return o.errorHandler=Xy(t),o}function Jy(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Ny(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new Hy(a,"GET",function(e,t){return function(n,r){var i=Wy(e,t,r);return Gy(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=Yy(t),u}function e_(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var t_=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function n_(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Gy(!1)}return Gy(!!n&&-1!==(t||["active"]).indexOf(n)),n}var r_=262144;function i_(e,t,n,r,i,o,a,s){var u=new t_(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new ty("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(f,h);if(null===p)throw oy();var v=t.maxUploadRetryTime,g=new Hy(n,"POST",(function(e,n){var i,a=n_(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Qy(t,o)(e,n):null,new t_(s,c,"final"===a,i)}),v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=Yy(e),g}var o_=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function a_(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var s_=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=qy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=e_(t,r,i),s={name:a.fullPath},u=Ny(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Ky(a,n),f=e.maxUploadRetryTime,h=new Hy(u,"POST",(function(e){var t;n_(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Gy(!1)}return Gy(Ty(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=Yy(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new Hy(n,"POST",(function(e){var t=n_(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Gy(!1)}n||Gy(!1);var i=Number(n);return Gy(!isNaN(i)),new t_(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Yy(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=r_*this._chunkMultiplier,n=new t_(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=i_(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){r_*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Zy(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=e_(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ky(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=My.getBlob(c,r,l);if(null===f)throw oy();var h={name:u.fullPath},d=Ny(o,e.host),p=e.maxUploadRetryTime,v=new Hy(d,"POST",Qy(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=Yy(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=iy(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=by(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new o_(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(by(this._state)){case _y.SUCCESS:a_(this._resolve.bind(null,this.snapshot))();break;case _y.CANCELED:case _y.ERROR:a_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(by(this._state)){case _y.RUNNING:case _y.PAUSED:e.next&&a_(e.next.bind(e,this.snapshot))();break;case _y.SUCCESS:e.complete&&a_(e.complete.bind(e))();break;default:e.error&&a_(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),u_=function(){function e(e,t){this._service=e,this._location=t instanceof Ey?t:Ey.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Ey(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Fy(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Ey(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw uy(e)},e}();function c_(e){var t={prefixes:[],items:[]};return l_(e,t).then((function(){return t}))}function l_(e,t,n){return(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,At.__generator)(this,(function(a){switch(a.label){case 0:return[4,f_(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,l_(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function f_(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&xy("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Jy(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function h_(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Ny(t.fullServerUrl(),e.host),o=Ky(n,r),a=e.maxOperationRetryTime,s=new Hy(i,"PATCH",Qy(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Xy(t),s}(e.storage,e._location,t,qy()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function d_(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Ny(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Hy(r,"GET",$y(e,n),i);return o.errorHandler=Xy(t),o}(e.storage,e._location,qy()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new ty("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function p_(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Ny(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new Hy(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Xy(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function v_(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Ey(e._location.bucket,n);return new u_(e.storage,r)}function g_(e){return/^[A-Za-z]+:\/\//.test(e)}function m_(e,t){if(e instanceof b_){var n=e;if(null==n._bucket)throw new ty("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new u_(n,n._bucket);return null!=t?m_(r,t):r}if(void 0!==t){if(t.includes(".."))throw ay('`path` param cannot contain ".."');return v_(e,t)}return e}function y_(e,t){if(t&&g_(t)){if(e instanceof b_)return new u_(e,t);throw ay("To use ref(service, url), the first argument must be a Storage instance.")}return m_(e,t)}function __(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Ey.makeFromBucketSpec(n,e)}var b_=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=ey,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ey.makeFromBucketSpec(i,this._host):__(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Ey.makeFromBucketSpec(this._url,e):this._bucket=__(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){xy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){xy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e;return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new u_(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new Iy(sy());var i=function(e,t,n,r,i,o){var a=Ay(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Py(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function w_(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new s_(e,new My(t),n)}(e=(0,Pt.getModularInstance)(e),t,n)}function S_(e){return function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Zy(e.storage,e._location,qy()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,Pt.getModularInstance)(e))}function E_(e,t){return y_(e=(0,Pt.getModularInstance)(e),t)}var I_=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),T_=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new I_(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new I_(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new I_(e,i,i._ref))}:{next:t.next?function(e){return t.next(new I_(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),k_=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new C_(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new C_(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),C_=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return v_(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new T_(w_(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=fy.RAW),this._throwIfRoot("putString");var r=dy(t,e),i=(0,At.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new T_(new s_(this._delegate,new My(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return c_(e=(0,Pt.getModularInstance)(e))}(this._delegate).then((function(t){return new k_(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return f_(e=(0,Pt.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new k_(e,t.storage)}))},e.prototype.getMetadata=function(){return S_(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return h_(e=(0,Pt.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return d_(e=(0,Pt.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return p_(e=(0,Pt.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw uy(e)},e}(),x_=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(g_(e))throw ay("ref() expected a child path but got a URL, use refFromURL instead.");return new C_(E_(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!g_(e))throw ay("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ey.makeFromUrl(e,this._delegate.host)}catch(t){throw ay("refFromUrl() expected a valid full URL but got an invalid one.")}return new C_(E_(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){!function(e,t,n){e.host="http://"+t+":"+n}(e,t,n)}(this._delegate,e,t)},e}();function N_(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new x_(r,new b_(r,i,o,new Sy,n,Nt.default.SDK_VERSION))}!function(e){var t={TaskState:_y,TaskEvent:yy,StringFormat:fy,Storage:b_,Reference:C_};e.INTERNAL.registerComponent(new fg.Component("storage",N_,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.6.2")}(Nt.default);var A_,P_,O_,R_="0.4.17",D_=R_,M_="FB-PERF-TRACE-MEASURE",L_="_wt_",F_="_fcp",j_="_fid",U_="@firebase/performance/config",V_="@firebase/performance/configexpire",q_="Performance",B_=((A_={})["trace started"]="Trace {$traceName} was started before.",A_["trace stopped"]="Trace {$traceName} is not running.",A_["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",A_["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",A_["no window"]="Window is not available.",A_["no app id"]="App id is not available.",A_["no project id"]="Project id is not available.",A_["no api key"]="Api key is not available.",A_["invalid cc log"]="Attempted to queue invalid cc event",A_["FB not default"]="Performance can only start when Firebase app instance is the default one.",A_["RC response not ok"]="RC response is not ok",A_["invalid attribute name"]="Attribute name {$attributeName} is invalid.",A_["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",A_["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",A_["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",A_),z_=new Pt.ErrorFactory("performance",q_,B_),K_=new Ot.Logger(q_);K_.logLevel=Ot.LogLevel.INFO;var W_,H_=function(){function e(e){if(this.window=e,!e)throw z_.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,Pt.isIndexedDBAvailable)()||(K_.info("IndexedDB is not supported by current browswer"),!1):(K_.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===P_&&(P_=new e(O_)),P_},e}();function G_(e,t){var n=e.length-t.length;if(n<0||n>1)throw z_.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var Q_,$_,Y_=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=G_("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=G_("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw z_.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw z_.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw z_.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===W_&&(W_=new e),W_},e}();function X_(){return Q_}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}($_||($_={}));var Z_=["firebase_","google_","ga_"],J_=new RegExp("^[a-zA-Z]\\w*$");function eb(){var e=H_.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function tb(){switch(H_.getInstance().document.visibilityState){case"visible":return $_.VISIBLE;case"hidden":return $_.HIDDEN;default:return $_.UNKNOWN}}function nb(){var e=H_.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var rb="0.0.1",ib=!0,ob="FIREBASE_INSTALLATIONS_AUTH";function ab(e){var t=function(){var e=H_.getInstance().localStorage;if(!e)return;var t=e.getItem(V_);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(U_);if(!r)return;try{return JSON.parse(r)}catch(Wp){return}}();return t?(ub(t),Promise.resolve()):function(e){return function(){var e=Y_.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Y_.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Y_.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:ob+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Y_.getInstance().getAppId(),app_version:D_,sdk_version:rb})});return fetch(r).then((function(e){if(e.ok)return e.json();throw z_.create("RC response not ok")}))})).catch((function(){K_.info(sb)}))}(e).then(ub).then((function(e){return function(e){var t=H_.getInstance().localStorage;if(!e||!t)return;t.setItem(U_,JSON.stringify(e)),t.setItem(V_,String(Date.now()+60*Y_.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var sb="Could not fetch config, will use default configs";function ub(e){if(!e)return e;var t=Y_.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=ib,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=cb(t.tracesSamplingRate),t.logNetworkAfterSampling=cb(t.networkRequestsSamplingRate),e}function cb(e){return Math.random()<=e}var lb,fb=1;function hb(){return fb=2,lb=lb||function(){var e=H_.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=Y_.getInstance().installationsService.getId();return e.then((function(e){Q_=e})),e}()})).then((function(e){return ab(e)})).then((function(){return db()}),(function(){return db()}))}function db(){fb=3}var pb,vb=1e4,gb=3,mb=[],yb=!1;function _b(e){setTimeout((function(){if(0!==gb)return mb.length?void function(){var e=mb.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=Y_.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||K_.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=vb;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(mb=(0,At.__spreadArray)((0,At.__spreadArray)([],t),mb),K_.info("Retry transport request later.")),gb=3,_b(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Y_.getInstance().logSource,log_event:t},e).catch((function(){mb=(0,At.__spreadArray)((0,At.__spreadArray)([],e),mb),gb--,K_.info("Tries left: "+gb+"."),_b(vb)}))}():_b(vb)}),e)}function bb(e){if(!e.eventTime||!e.message)throw z_.create("invalid cc log");mb=(0,At.__spreadArray)((0,At.__spreadArray)([],mb),[e])}function wb(e,t){pb||(pb=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];bb({message:e.apply(void 0,t),eventTime:Date.now()})}}(Ib)),pb(e,t)}function Sb(e){var t=Y_.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&H_.getInstance().requiredApisAvailable()&&(e.isAuto&&tb()!==$_.VISIBLE||(3===fb?Eb(e):hb().then((function(){return Eb(e)}),(function(){return Eb(e)}))))}function Eb(e){if(X_()){var t=Y_.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return wb(e,1)}),0)}}function Ib(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:Tb(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:Tb(),trace_metric:t};return JSON.stringify(r)}(e)}function Tb(){return{google_app_id:Y_.getInstance().getAppId(),app_instance_id:X_(),web_app_info:{sdk_version:D_,page_url:H_.getInstance().getUrl(),service_worker_status:eb(),visibility_state:tb(),effective_connection_type:nb()},application_process_state:0}}var kb=["_fp",F_,j_];var Cb=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=H_.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw z_.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw z_.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Sb(this)},e.prototype.record=function(e,t,n){if(e<=0)throw z_.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw z_.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,At.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Sb(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(L_)&&kb.indexOf(n)>-1)&&n.startsWith("_"))throw z_.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&K_.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n=function(e){if(0===e.length||e.length>40)return!1;var t=Z_.some((function(t){return e.startsWith(t)}));return!t&&!!e.match(J_)}(e),r=function(e){return 0!==e.length&&e.length<=100}(t);if(n&&r)this.customAttributes[e]=t;else{if(!n)throw z_.create("invalid attribute name",{attributeName:e});if(!r)throw z_.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,At.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=H_.getInstance().getUrl();if(i){var o=new e(L_+i,!0),a=Math.floor(1e3*H_.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(F_,Math.floor(1e3*u.startTime)),r&&o.putMetric(j_,Math.floor(1e3*r))}Sb(o)}},e.createUserTimingTrace=function(t){Sb(new e(t,!1,t))},e}();function xb(e){var t=e;if(t&&void 0!==t.responseStart){var n=H_.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=Y_.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return wb(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function Nb(){X_()&&(setTimeout((function(){return function(){var e=H_.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){Cb.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),Cb.createOobTrace(t,n,e))}))}else Cb.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=H_.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){xb(r[n])}e.setupObserver("resource",xb)}()}),0),setTimeout((function(){return function(){for(var e=H_.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){Ab(r[n])}e.setupObserver("measure",Ab)}()}),0))}function Ab(e){var t=e.name;t.substring(0,M_.length)!==M_&&Cb.createUserTimingTrace(t)}var Pb=function(){function e(e){this.app=e,H_.getInstance().requiredApisAvailable()&&(0,Pt.validateIndexedDBOpenable)().then((function(e){e&&(yb||(_b(5500),yb=!0),hb().then(Nb,Nb))})).catch((function(e){K_.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new Cb(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Y_.getInstance().instrumentationEnabled},set:function(e){Y_.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Y_.getInstance().dataCollectionEnabled},set:function(e){Y_.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw z_.create("FB not default");if("undefined"===typeof window)throw z_.create("no window");return function(e){O_=e}(window),Y_.getInstance().firebaseAppInstance=e,Y_.getInstance().installationsService=t,new Pb(e)};e.INTERNAL.registerComponent(new fg.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",R_)}(Nt.default);var Ob,Rb,Db="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(Ob||(Ob={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(Rb||(Rb={}));var Mb,Lb=new Ot.Logger("@firebase/analytics");function Fb(e,t,n,r,i,o){return(0,At.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c;return(0,At.__generator)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),Lb.error(c),[3,8];case 8:return e(Ob.CONFIG,i,o),[2]}}))}))}function jb(e,t,n,r,i){return(0,At.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,h;return(0,At.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(f=l[c],"break"!==u(f));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(Ob.EVENT,r,i||{}),[3,5];case 4:return h=d.sent(),Lb.error(h),[3,5];case 5:return[2]}}))}))}function Ub(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,At.__awaiter)(this,void 0,void 0,(function(){var s;return(0,At.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Ob.EVENT?[3,2]:[4,jb(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==Ob.CONFIG?[3,4]:[4,Fb(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(Ob.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),Lb.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var Vb=((Mb={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Mb["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Mb["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Mb["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Mb["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Mb["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Mb["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Mb["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Mb["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Mb),qb=new Pt.ErrorFactory("analytics","Analytics",Vb),Bb=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function zb(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Kb(e){var t;return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,At.__generator)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:zb(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw qb.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function Wb(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=Bb),(0,At.__awaiter)(this,void 0,void 0,(function(){var t,a,s,u,c,l,f;return(0,At.__generator)(this,(function(h){switch(h.label){case 0:t=e.appId,a=e.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Hb(n,i)];case 2:return h.sent(),[3,4];case 3:if(s=h.sent(),a)return Lb.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return h.trys.push([4,6,,7]),[4,Kb(e)];case 5:return u=h.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof Pt.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=h.sent())){if(r.deleteThrottleMetadata(t),a)return Lb.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,Pt.calculateBackoffMillis)(o,r.intervalMillis,30):(0,Pt.calculateBackoffMillis)(o,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,f),Lb.debug("Calling attemptFetch again in "+l+" millis"),[2,Wb(e,f,n,r)];case 7:return[2]}}))}))}function Hb(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(qb.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Gb=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function Qb(e,t,n,r,i,o){return(0,At.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c,l,f,h;return(0,At.__generator)(this,(function(d){switch(d.label){case 0:return a=function(e,t,n){return void 0===t&&(t=Bb),(0,At.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return(0,At.__generator)(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw qb.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw qb.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Gb,setTimeout((function(){return(0,At.__awaiter)(c,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,Wb({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Lb.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Lb.error(e)})),t.push(a),s=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e;return(0,At.__generator)(this,(function(t){switch(t.label){case 0:return(0,Pt.isIndexedDBAvailable)()?[3,1]:(Lb.warn(qb.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,Pt.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Lb.warn(qb.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Db))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=Db+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(h={}).origin="firebase",h.update=!0,f=h,null!=l&&(f.firebase_id=l),i(Ob.CONFIG,c.measurementId,f),[2,c.measurementId]}}))}))}var $b,Yb,Xb={},Zb=[],Jb={},ew="dataLayer",tw="gtag",nw=!1;function rw(e){if(nw)throw qb.create("already-initialized");e.dataLayerName&&(ew=e.dataLayerName),e.gtagName&&(tw=e.gtagName)}function iw(e,t){!function(){var e=[];if((0,Pt.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,Pt.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=qb.create("invalid-analytics-context",{errorInfo:t});Lb.warn(n.message)}}();var n=e.options.appId;if(!n)throw qb.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw qb.create("no-api-key");Lb.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Xb[n])throw qb.create("already-exists",{id:n});if(!nw){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ew);var r=Ub(Xb,Zb,Jb,ew,tw),i=r.wrappedGtag,o=r.gtagCore;Yb=i,$b=o,nw=!0}Xb[n]=Qb(e,Zb,Jb,t,$b,ew);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,At.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,At.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(Ob.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,At.__assign)((0,At.__assign)({},r),{send_to:o}),e(Ob.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(Yb,Xb[n],e,t,r).catch((function(e){return Lb.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,At.__awaiter)(this,void 0,void 0,(function(){var i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(Ob.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(Ob.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Yb,Xb[n],e,t).catch((function(e){return Lb.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,At.__awaiter)(this,void 0,void 0,(function(){var i;return(0,At.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(Ob.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(Ob.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Yb,Xb[n],e,t).catch((function(e){return Lb.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,At.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,At.__generator)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(Ob.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(Ob.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(Yb,Xb[n],e,t).catch((function(e){return Lb.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(Xb[n],e).catch((function(e){return Lb.error(e)}))},INTERNAL:{delete:function(){return delete Xb[n],Promise.resolve()}}};return a}var ow="analytics";function aw(){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){switch(e.label){case 0:if((0,Pt.isBrowserExtension)())return[2,!1];if(!(0,Pt.areCookiesEnabled)())return[2,!1];if(!(0,Pt.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,Pt.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new fg.Component(ow,(function(e){return iw(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:rw,EventName:Rb,isSupported:aw})),e.INTERNAL.registerComponent(new fg.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(ow).getImmediate().logEvent}}catch(t){throw qb.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.17")}(Nt.default);var sw,uw=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,At.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),cw=((sw={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",sw["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",sw["registration-api-key"]="Undefined API key. Check Firebase app initialization.",sw["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",sw["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",sw["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",sw["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",sw["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",sw["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",sw["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',sw["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',sw["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",sw["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",sw),lw=new Pt.ErrorFactory("remoteconfig","Remote Config",cw);var fw=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,h,d,p,v,g,m,y,_;return(0,At.__generator)(this,(function(b){switch(b.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=b.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),b.label=2;case 2:return b.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return b.sent(),[4,c];case 4:return f=b.sent(),[3,6];case 5:throw h=b.sent(),d="fetch-client-network","AbortError"===h.name&&(d="fetch-timeout"),lw.create(d,{originalErrorMessage:h.message});case 6:if(p=f.status,v=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];y=void 0,b.label=7;case 7:return b.trys.push([7,9,,10]),[4,f.json()];case 8:return y=b.sent(),[3,10];case 9:throw _=b.sent(),lw.create("fetch-client-parse",{originalErrorMessage:_.message});case 10:g=y.entries,m=y.state,b.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?p=500:"NO_CHANGE"===m?p=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(g={}),304!==p&&200!==p)throw lw.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:g}]}var w}))}))},e}(),hw=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),dw=["1","true","t","yes","y","on"],pw=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&dw.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),vw=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Ot.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Ot.LogLevel.SILENT;break;default:this._logger.logLevel=Ot.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:e=new hw,setTimeout((function(){return(0,At.__awaiter)(r,void 0,void 0,(function(){return(0,At.__generator)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof Pt.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){return(0,At.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys((0,At.__assign)((0,At.__assign)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new pw("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new pw("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new pw("static"))},e}();function gw(e,t){var n=e.target.error||void 0;return lw.create(t,{originalErrorMessage:n&&n.message})}var mw="app_namespace_store";var yw=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(gw(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(mw,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([mw],"readonly").objectStore(mw),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(gw(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(u){i(lw.create("storage-get",{originalErrorMessage:u&&u.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,At.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,At.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([mw],"readwrite").objectStore(mw),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(gw(e,"storage-set"))},u.onsuccess=function(){i()}}catch(c){o(lw.create("storage-set",{originalErrorMessage:c&&c.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,At.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([mw],"readwrite").objectStore(mw),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(gw(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(u){i(lw.create("storage-delete",{originalErrorMessage:u&&u.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),_w=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,At.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,At.__generator)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function bw(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(lw.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var ww,Sw=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,At.__awaiter)(this,void 0,void 0,(function(){var t;return(0,At.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,At.__awaiter)(this,void 0,void 0,(function(){var t,i,o;return(0,At.__generator)(this,(function(a){switch(a.label){case 0:return[4,bw(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof Pt.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,Pt.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),Ew="@firebase/remote-config";(ww=Nt.default).INTERNAL.registerComponent(new fg.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw lw.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw lw.create("registration-project-id");if(!s)throw lw.create("registration-api-key");if(!u)throw lw.create("registration-app-id");n=n||"firebase";var c=new yw(u,r.name,n),l=new _w(c),f=new Ot.Logger(Ew);f.logLevel=Ot.LogLevel.ERROR;var h=new fw(i,ww.SDK_VERSION,n,a,s,u),d=new Sw(h,c),p=new uw(d,c,l,f),v=new vw(r,p,l,c,f);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),ww.registerVersion(Ew,"0.1.42");n(2705);var Iw="8.9.1";Nt.default.registerVersion("firebase",Iw,"app"),Nt.default.SDK_VERSION=Iw;console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Nt.default.registerVersion("firebase","8.9.1");var Tw=Nt.default.initializeApp({apiKey:"AIzaSyALqtXp77xvE6H7IUR2mSJt-JPmu46xOpo",authDomain:"linkedin-clone-db7e6.firebaseapp.com",projectId:"linkedin-clone-db7e6",storageBucket:"linkedin-clone-db7e6.appspot.com",messagingSenderId:"450782366586",appId:"1:450782366586:web:355c66f31779521ffc24c3",measurementId:"G-J6FERBL9LQ"}).firestore(),kw=Nt.default.auth();function Cw(e){var t=!1;return function(){t||(console.warn(e),t=!0)}}Cw("\n>> Error, via react-flip-move <<\n\nYou provided a stateless functional component as a child to <FlipMove>. Unfortunately, SFCs aren't supported, because Flip Move needs access to the backing instances via refs, and SFCs don't have a public instance that holds that info.\n\nPlease wrap your components in a native element (eg. <div>), or a non-functional component.\n"),Cw("\n>> Error, via react-flip-move <<\n\nYou provided a primitive (text or number) node as a child to <FlipMove>. Flip Move needs containers with unique keys to move children around.\n\nPlease wrap your value in a native element (eg. <span>), or a component.\n");var xw=Cw("\n>> Warning, via react-flip-move <<\n\nWhen using \"wrapperless\" mode (by supplying 'typeName' of 'null'), strange things happen when the direct parent has the default \"static\" position.\n\nFlipMove has added 'position: relative' to this node, to ensure Flip Move animates correctly.\n\nTo avoid seeing this warning, simply apply a non-static position to that parent node.\n"),Nw=Cw("\n>> Warning, via react-flip-move <<\n\nOne or more of Flip Move's child elements have the html attribute 'disabled' set to true.\n\nPlease note that this will cause animations to break in Internet Explorer 11 and below. Either remove the disabled attribute or set 'animation' to false.\n"),Aw={elevator:{from:{transform:"scale(0)",opacity:"0"},to:{transform:"",opacity:""}},fade:{from:{opacity:"0"},to:{opacity:""}},accordionVertical:{from:{transform:"scaleY(0)",transformOrigin:"center top"},to:{transform:"",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(0)",transformOrigin:"left center"},to:{transform:"",transformOrigin:"left center"}},none:null},Pw={elevator:{from:{transform:"scale(1)",opacity:"1"},to:{transform:"scale(0)",opacity:"0"}},fade:{from:{opacity:"1"},to:{opacity:"0"}},accordionVertical:{from:{transform:"scaleY(1)",transformOrigin:"center top"},to:{transform:"scaleY(0)",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(1)",transformOrigin:"left center"},to:{transform:"scaleX(0)",transformOrigin:"left center"}},none:null},Ow=Aw,Rw="elevator",Dw=function(e,t){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return t[n]},Mw=function(e){return(Mw=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)};var Lw=function(e){var t={};return function(n){return t[n]||(t[n]=e(n)),t[n]}}((function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()})),Fw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Uw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vw=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},qw=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};function Bw(t){var n,r;return r=n=function(n){function r(){return jw(this,r),qw(this,n.apply(this,arguments))}return Vw(r,n),r.prototype.checkChildren=function(e){},r.prototype.convertProps=function(e){var t={children:e.children,easing:e.easing,onStart:e.onStart,onFinish:e.onFinish,onStartAll:e.onStartAll,onFinishAll:e.onFinishAll,typeName:e.typeName,disableAllAnimations:e.disableAllAnimations,getPosition:e.getPosition,maintainContainerHeight:e.maintainContainerHeight,verticalAlignment:e.verticalAlignment,duration:this.convertTimingProp("duration"),delay:this.convertTimingProp("delay"),staggerDurationBy:this.convertTimingProp("staggerDurationBy"),staggerDelayBy:this.convertTimingProp("staggerDelayBy"),appearAnimation:this.convertAnimationProp(e.appearAnimation,Ow),enterAnimation:this.convertAnimationProp(e.enterAnimation,Aw),leaveAnimation:this.convertAnimationProp(e.leaveAnimation,Pw),delegated:{}};this.checkChildren(t.children);var n=Object.keys(t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(this.props,n);return r.style=Uw({position:"relative"},r.style),t.delegated=r,t},r.prototype.convertTimingProp=function(e){var t=this.props[e],n="number"===typeof t?t:parseInt(t,10);return isNaN(n)?r.defaultProps[e]:n},r.prototype.convertAnimationProp=function(e,t){switch("undefined"===typeof e?"undefined":Fw(e)){case"boolean":return t[e?Rw:"none"];case"string":return-1===Object.keys(t).indexOf(e)?t.elevator:t[e];default:return e}},r.prototype.render=function(){return e.createElement(t,this.convertProps(this.props))},r}(e.Component),n.defaultProps={easing:"ease-in-out",duration:350,delay:0,staggerDurationBy:0,staggerDelayBy:0,typeName:"div",enterAnimation:Rw,leaveAnimation:Rw,disableAllAnimations:!1,getPosition:function(e){return e.getBoundingClientRect()},maintainContainerHeight:!1,verticalAlignment:"top"},r}function zw(e){var t=e.domNode,n=e.styles;Object.keys(n).forEach((function(e){t.style.setProperty(Lw(e),n[e])}))}var Kw=function(e){var t=e.childDomNode,n={top:0,left:0,right:0,bottom:0,height:0,width:0},r=e.childBoundingBox||n,i=e.parentBoundingBox||n,o=(0,e.getPosition)(t),a=o.top-i.top,s=o.left-i.left;return[r.left-s,r.top-a]},Ww=function(e,t){var n=t.delay,r=t.duration,i=t.staggerDurationBy,o=t.staggerDelayBy,a=t.easing;n+=e*o,r+=e*i;return["transform","opacity"].map((function(e){return e+" "+r+"ms "+a+" "+n+"ms"})).join(", ")},Hw=function(){var e={transition:"transitionend","-o-transition":"oTransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};if("undefined"===typeof document)return"";var t=document.createElement("fakeelement"),n=Dw((function(e){return void 0!==t.style.getPropertyValue(e)}),Object.keys(e));return n?e[n]:""}(),Gw=!Hw;function Qw(e){return e.key||""}function $w(t){return e.Children.toArray(t)}var Yw=function(t){function n(){var e,r;jw(this,n);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=r=qw(this,t.call.apply(t,[this].concat(a))),r.state={children:$w(r.props?r.props.children:[]).map((function(e){return Uw({},e,{element:e,appearing:!0})}))},r.childrenData={},r.parentData={domNode:null,boundingBox:null},r.heightPlaceholderData={domNode:null},r.remainingAnimations=0,r.childrenToAnimate=[],r.findDOMContainer=function(){var e=o.findDOMNode(r),t=e&&e.parentNode;t&&t instanceof HTMLElement&&("static"===window.getComputedStyle(t).position&&(t.style.position="relative",xw()),r.parentData.domNode=t)},r.runAnimation=function(){var e=r.state.children.filter(r.doesChildNeedToBeAnimated),t=e.map((function(e){return r.computeInitialStyles(e)}));e.forEach((function(e,n){r.remainingAnimations+=1,r.childrenToAnimate.push(Qw(e)),r.animateChild(e,n,t[n])})),"function"===typeof r.props.onStartAll&&r.callChildrenHook(r.props.onStartAll)},r.doesChildNeedToBeAnimated=function(e){if(!Qw(e))return!1;var t=r.getChildData(Qw(e)),n=t.domNode,i=t.boundingBox,o=r.parentData.boundingBox;if(!n)return!1;var a=r.props,s=a.appearAnimation,u=a.enterAnimation,c=a.leaveAnimation,l=a.getPosition,f=e.appearing&&s,h=e.entering&&u,d=e.leaving&&c;if(f||h||d)return!0;var p=Kw({childDomNode:n,childBoundingBox:i,parentBoundingBox:o,getPosition:l}),v=p[0],g=p[1];return 0!==v||0!==g},qw(r,e)}return Vw(n,t),n.prototype.componentDidMount=function(){null===this.props.typeName&&this.findDOMContainer(),this.props.appearAnimation&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())},n.prototype.componentDidUpdate=function(e){null===this.props.typeName&&this.findDOMContainer();var t=$w(this.props.children).map((function(e){return e.key})),n=$w(e.children).map((function(e){return e.key})),r=!function(e,t){if(e===t)return!0;var n=!Mw(e)||!Mw(t),r=e.length!==t.length;return!n&&!r&&function(e,t){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}((function(e,n){return e===t[n]}),e)}(t,n)&&!this.isAnimationDisabled(this.props);r&&(this.prepForAnimation(),this.runAnimation())},n.prototype.calculateNextSetOfChildren=function(e){var t=this,n=e.map((function(e){var n=t.findChildByKey(e.key),r=!n||n.leaving;return Uw({},e,{element:e,entering:r})})),r=0;return this.state.children.forEach((function(i,o){if(!Dw((function(e){return e.key===Qw(i)}),e)&&t.props.leaveAnimation){var a=Uw({},i,{leaving:!0}),s=o+r;n.splice(s,0,a),r+=1}})),n},n.prototype.prepForAnimation=function(){var e=this,t=this.props,n=t.leaveAnimation,r=t.maintainContainerHeight,i=t.getPosition;if(n){var o=this.state.children.filter((function(e){return e.leaving}));o.forEach((function(t){var n=e.getChildData(Qw(t));!e.isAnimationDisabled(e.props)&&n.domNode&&n.domNode.disabled&&Nw(),n.boundingBox&&function(e,t){var n=e.domNode,r=e.boundingBox;if(n&&r){var i=window.getComputedStyle(n),o=["margin-top","margin-left","margin-right"].reduce((function(e,t){var n,r=i.getPropertyValue(t);return Uw({},e,((n={})[t]=Number(r.replace("px","")),n))}),{});zw({domNode:n,styles:{position:"absolute",top:("bottom"===t?r.top-r.height:r.top)-o["margin-top"]+"px",left:r.left-o["margin-left"]+"px",right:r.right-o["margin-right"]+"px"}})}}(n,e.props.verticalAlignment)})),r&&this.heightPlaceholderData.domNode&&function(e){var t=e.domNode,n=e.parentData,r=e.getPosition,i=n.domNode,o=n.boundingBox;if(i&&o){zw({domNode:t,styles:{height:"0"}});var a=o.height-r(i).height;zw({domNode:t,styles:{height:a>0?a+"px":"0"}})}}({domNode:this.heightPlaceholderData.domNode,parentData:this.parentData,getPosition:i})}this.state.children.forEach((function(t){var n=e.getChildData(Qw(t)).domNode;n&&(t.entering||t.leaving||zw({domNode:n,styles:{transition:""}}))}))},n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.updateBoundingBoxCaches();var t=$w(e.children);this.setState({children:this.isAnimationDisabled(e)?t.map((function(e){return Uw({},e,{element:e})})):this.calculateNextSetOfChildren(t)})},n.prototype.animateChild=function(e,t,n){var r=this,i=this.getChildData(Qw(e)).domNode;i&&(zw({domNode:i,styles:n}),this.props.onStart&&this.props.onStart(e,i),requestAnimationFrame((function(){requestAnimationFrame((function(){var n={transition:Ww(t,r.props),transform:"",opacity:""};e.appearing&&r.props.appearAnimation?n=Uw({},n,r.props.appearAnimation.to):e.entering&&r.props.enterAnimation?n=Uw({},n,r.props.enterAnimation.to):e.leaving&&r.props.leaveAnimation&&(n=Uw({},n,r.props.leaveAnimation.to)),zw({domNode:i,styles:n})}))})),this.bindTransitionEndHandler(e))},n.prototype.bindTransitionEndHandler=function(e){var t=this,n=this.getChildData(Qw(e)).domNode;if(n){n.addEventListener(Hw,(function r(i){i.target===n&&(n.style.transition="",t.triggerFinishHooks(e,n),n.removeEventListener(Hw,r),e.leaving&&t.removeChildData(Qw(e)))}))}},n.prototype.triggerFinishHooks=function(e,t){var n=this;if(this.props.onFinish&&this.props.onFinish(e,t),this.remainingAnimations-=1,0===this.remainingAnimations){var r=this.state.children.filter((function(e){return!e.leaving})).map((function(e){return Uw({},e,{element:e.element,appearing:!1,entering:!1})}));this.setState({children:r},(function(){"function"===typeof n.props.onFinishAll&&n.callChildrenHook(n.props.onFinishAll),n.childrenToAnimate=[]})),this.heightPlaceholderData.domNode&&(this.heightPlaceholderData.domNode.style.height="0")}},n.prototype.callChildrenHook=function(e){var t=this,n=[],r=[];this.childrenToAnimate.forEach((function(e){var i=t.findChildByKey(e);i&&(n.push(i),t.hasChildData(e)&&r.push(t.getChildData(e).domNode))})),e(n,r)},n.prototype.updateBoundingBoxCaches=function(){var e=this,t=this.parentData.domNode;if(t){this.parentData.boundingBox=this.props.getPosition(t);var n=[];this.state.children.forEach((function(r){var i=Qw(r);if(i)if(e.hasChildData(i)){var o=e.getChildData(i);o.domNode&&r?n.push(function(e){var t=e.childDomNode,n=e.parentDomNode,r=e.getPosition,i=r(n),o=r(t),a=o.top,s=o.left,u=o.right,c=o.bottom,l=o.width,f=o.height;return{top:a-i.top,left:s-i.left,right:i.right-u,bottom:i.bottom-c,width:l,height:f}}({childDomNode:o.domNode,parentDomNode:t,getPosition:e.props.getPosition})):n.push(null)}else n.push(null);else n.push(null)})),this.state.children.forEach((function(t,r){var i=Qw(t),o=n[r];i&&e.setChildData(i,{boundingBox:o})}))}},n.prototype.computeInitialStyles=function(e){if(e.appearing)return this.props.appearAnimation?this.props.appearAnimation.from:{};if(e.entering)return this.props.enterAnimation?Uw({position:"",top:"",left:"",right:"",bottom:""},this.props.enterAnimation.from):{};if(e.leaving)return this.props.leaveAnimation?this.props.leaveAnimation.from:{};var t=this.getChildData(Qw(e)),n=t.domNode,r=t.boundingBox,i=this.parentData.boundingBox;if(!n)return{};var o=Kw({childDomNode:n,childBoundingBox:r,parentBoundingBox:i,getPosition:this.props.getPosition});return{transform:"translate("+o[0]+"px, "+o[1]+"px)"}},n.prototype.isAnimationDisabled=function(e){return Gw||e.disableAllAnimations||0===e.duration&&0===e.delay&&0===e.staggerDurationBy&&0===e.staggerDelayBy},n.prototype.findChildByKey=function(e){return Dw((function(t){return Qw(t)===e}),this.state.children)},n.prototype.hasChildData=function(e){return Object.prototype.hasOwnProperty.call(this.childrenData,e)},n.prototype.getChildData=function(e){return this.hasChildData(e)?this.childrenData[e]:{}},n.prototype.setChildData=function(e,t){this.childrenData[e]=Uw({},this.getChildData(e),t)},n.prototype.removeChildData=function(e){delete this.childrenData[e],this.setState((function(t){return Uw({},t,{children:t.children.filter((function(t){return t.element.key!==e}))})}))},n.prototype.createHeightPlaceholder=function(){var t=this,n=this.props.typeName,r="ul"===n||"ol"===n?"li":"div";return(0,e.createElement)(r,{key:"height-placeholder",ref:function(e){t.heightPlaceholderData.domNode=e},style:{visibility:"hidden",height:0}})},n.prototype.childrenWithRefs=function(){var t=this;return this.state.children.map((function(n){return(0,e.cloneElement)(n.element,{ref:function(e){if(e){var r=function(e){if("undefined"===typeof HTMLElement)return null;if(e instanceof HTMLElement)return e;var t=(0,o.findDOMNode)(e);return t&&t.nodeType===Node.TEXT_NODE?null:t}(e);t.setChildData(Qw(n),{domNode:r})}}})}))},n.prototype.render=function(){var t=this,n=this.props,r=n.typeName,i=n.delegated,o=n.leaveAnimation,a=n.maintainContainerHeight,s=this.childrenWithRefs();if(o&&a&&s.push(this.createHeightPlaceholder()),!r)return s;var u=Uw({},i,{children:s,ref:function(e){t.parentData.domNode=e}});return(0,e.createElement)(r,u)},n}(e.Component),Xw=Bw(Yw);var Zw=function(){var t=p(at),n=(0,e.useState)(""),r=(0,ut.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)([]),s=(0,ut.Z)(a,2),u=s[0],c=s[1];return(0,e.useEffect)((function(){Tw.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){return c(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),(0,lt.jsxs)("div",{className:"feed",children:[(0,lt.jsxs)("div",{className:"feed__inputContainer",children:[(0,lt.jsxs)("div",{className:"feed__input",children:[(0,lt.jsx)(ct.Z,{}),(0,lt.jsxs)("form",{children:[(0,lt.jsx)("input",{value:i,onChange:function(e){return o(e.target.value)},type:"text"}),(0,lt.jsx)("button",{onClick:function(e){e.preventDefault(),Tw.collection("posts").add({name:t.displayName,description:t.email,message:i,photoUrl:t.photoUrl||"",timestamp:Nt.default.firestore.FieldValue.serverTimestamp()}),o("")},type:"submit",children:"Send"})]})]}),(0,lt.jsxs)("div",{className:"feed__inputOptions",children:[(0,lt.jsx)(ft,{Icon:ht.Z,title:"Photo",color:"#70b5f9"}),(0,lt.jsx)(ft,{Icon:dt.Z,title:"Video",color:"#e7a33e"}),(0,lt.jsx)(ft,{Icon:pt.Z,title:"Event",color:"#c0cbcd"}),(0,lt.jsx)(ft,{Icon:vt.Z,title:"Write Article",color:"#7fc15e"})]})]}),(0,lt.jsx)(Xw,{children:u.map((function(e){var t=e.id,n=e.data,r=n.name,i=n.description,o=n.message,a=n.photoUrl;return(0,lt.jsx)(xt,{name:r,description:i,message:o,photoUrl:a},t)}))})]})},Jw=n(3880);var eS=function(e){var t=e.avatar,n=e.Icon,r=e.title,i=e.onClick,o=p(at);return(0,lt.jsxs)("div",{onClick:i,className:"headerOption",children:[n&&(0,lt.jsx)(n,{className:"headerOption__icon"}),t&&(0,lt.jsx)(St,{className:"headerOption__icon",children:null===o||void 0===o?void 0:o.email[0]}),(0,lt.jsx)("h3",{className:"headerOption__title",children:r})]})},tS=n(9112),nS=n(3630),rS=n(6677),iS=n(4579),oS=n(2300);var aS=function(){var e=E();return(0,lt.jsxs)("div",{className:"header",children:[(0,lt.jsxs)("div",{className:"header__left",children:[(0,lt.jsx)("img",{src:"https://cdn-icons.flaticon.com/png/512/3536/premium/3536505.png?token=exp=1659528360~hmac=ddd574c0fff10bca13fb06cb691c5531",alt:""}),(0,lt.jsxs)("div",{className:"header__search",children:[(0,lt.jsx)(Jw.Z,{}),(0,lt.jsx)("input",{placeholder:"Search",type:"text"})]})]}),(0,lt.jsxs)("div",{className:"header__right",children:[(0,lt.jsx)(eS,{Icon:tS.Z,title:"Home"}),(0,lt.jsx)(eS,{Icon:nS.Z,title:"My Network"}),(0,lt.jsx)(eS,{Icon:rS.Z,title:"Jobs"}),(0,lt.jsx)(eS,{Icon:iS.Z,title:"Messaging"}),(0,lt.jsx)(eS,{Icon:oS.Z,title:"Notifications"}),(0,lt.jsx)(eS,{onClick:function(){e(ot()),kw.signOut()},avatar:!0,title:"Me"})]})]})};var sS=function(){var t=(0,e.useState)(""),n=(0,ut.Z)(t,2),r=n[0],i=n[1],o=(0,e.useState)(""),a=(0,ut.Z)(o,2),s=a[0],u=a[1],c=(0,e.useState)(""),l=(0,ut.Z)(c,2),f=l[0],h=l[1],d=(0,e.useState)(""),p=(0,ut.Z)(d,2),v=p[0],g=p[1],m=E();return(0,lt.jsxs)("div",{className:"login",children:[(0,lt.jsx)("img",{src:"https://seeklogo.com/images/L/linkedin-logo-F84AF05CFC-seeklogo.com.png",alt:""}),(0,lt.jsxs)("form",{children:[(0,lt.jsx)("input",{value:f,onChange:function(e){return h(e.target.value)},placeholder:"Full name (required if registering)",type:"text"}),(0,lt.jsx)("input",{value:v,onChange:function(e){return g(e.target.value)},placeholder:"Profile pic URL (optional)",type:"text"}),(0,lt.jsx)("input",{value:r,onChange:function(e){return i(e.target.value)},placeholder:"Email",type:"email"}),(0,lt.jsx)("input",{value:s,onChange:function(e){return u(e.target.value)},placeholder:"Password",type:"password"}),(0,lt.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),kw.signInWithEmailAndPassword(r,s).then((function(e){m(it({email:e.user.email,uid:e.user.uid,displayName:e.user.displayName,profileUrl:e.user.photoURL}))})).catch((function(e){return alert(e)}))},children:"Sign in"})]}),(0,lt.jsxs)("p",{children:["Not a member?"," ",(0,lt.jsx)("span",{className:"login__register",onClick:function(){if(!f)return alert("Please enter a full name!");kw.createUserWithEmailAndPassword(r,s).then((function(e){e.user.updateProfile({displayName:f,photoURL:v}).then((function(){m(it({email:e.user.email,uid:e.user.uid,displayName:f,photoURL:v}))}))})).catch((function(e){return alert(e)}))},children:"Register Now"})]})]})};var uS=function(){var e=p(at),t=function(e){return(0,lt.jsxs)("div",{className:"sidebar__recentItem",children:[(0,lt.jsx)("span",{className:"sidebar__hash",children:"#"}),(0,lt.jsx)("p",{children:e})]})};return(0,lt.jsxs)("div",{className:"sidebar",children:[(0,lt.jsxs)("div",{className:"sidebar__top",children:[(0,lt.jsx)("img",{src:"https://img.freepik.com/free-vector/hand-painted-watercolor-pastel-sky-background_23-2148902771.jpg?w=2000",alt:""}),(0,lt.jsx)(St,{src:e.photoUrl,className:"sidebar__avatar",children:e.email[0]}),(0,lt.jsx)("h2",{children:e.displayName}),(0,lt.jsx)("h4",{children:e.email})]}),(0,lt.jsxs)("div",{className:"sidebar__stats",children:[(0,lt.jsxs)("div",{className:"sidebar__stat",children:[(0,lt.jsx)("p",{children:"Who viewed you"}),(0,lt.jsx)("p",{className:"sidebar__statNumber",children:"42,069"})]}),(0,lt.jsxs)("div",{className:"sidebar__stat",children:[(0,lt.jsx)("p",{children:"Views on post"}),(0,lt.jsx)("p",{className:"sidebar__statNumber",children:"69,420"})]})]}),(0,lt.jsxs)("div",{className:"sidebar__bottom",children:[(0,lt.jsx)("p",{children:"Recent"}),t("reactjs"),t("programming"),t("softwareengineering"),t("design"),t("developer")]})]})},cS=n(7656),lS=n(1014);var fS=function(){var e=function(e,t){return(0,lt.jsxs)("div",{className:"widgets__article",children:[(0,lt.jsx)("div",{className:"widgets__articleLeft",children:(0,lt.jsx)(lS.Z,{})}),(0,lt.jsxs)("div",{className:"widgets__articleRight",children:[(0,lt.jsx)("h4",{children:e}),(0,lt.jsx)("p",{children:t})]})]})};return(0,lt.jsxs)("div",{className:"widgets",children:[(0,lt.jsxs)("div",{className:"widgets__header",children:[(0,lt.jsx)("h2",{children:"LinkedIn News"}),(0,lt.jsx)(cS.Z,{})]}),e("PAPA REACT IS BACK","Top News - 999 readers"),e("Food Delivery Blackout","Top News - 1023 readers")]})};var hS=function(){var t=p(at),n=E();return(0,e.useEffect)((function(){kw.onAuthStateChanged((function(e){n(e?it({email:e.email,uid:e.uid,displayName:e.displayName,photoUrl:e.photoURL}):ot())}))}),[]),(0,lt.jsxs)("div",{className:"app",children:[(0,lt.jsx)(aS,{}),t?(0,lt.jsxs)("div",{className:"app__body",children:[(0,lt.jsx)(uS,{}),(0,lt.jsx)(Zw,{}),(0,lt.jsx)(fS,{})]}):(0,lt.jsx)(sS,{})]})},dS=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))},pS=document.getElementById("root");(0,t.s)(pS).render((0,lt.jsx)(e.StrictMode,{children:(0,lt.jsx)(y,{store:st,children:(0,lt.jsx)(hS,{})})})),dS()}()}();
//# sourceMappingURL=main.440da7d8.js.map